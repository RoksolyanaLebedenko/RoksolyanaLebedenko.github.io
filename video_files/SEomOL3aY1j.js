/*!CK:2758815619!*//*1448177341,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["bTlBD"]); }

__d("BOFRefundReason",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={WRONG_ITEM:1,QUALITY_ISSUE:2,DAMAGED_GOODS:3,NOT_AS_DESCRIBED:4,BUYERS_REMORSE:5,REFUND_REASON_OTHER:6,REFUND_COMPROMISED:101,REFUND_SFI_FAKE:102,REFUND_SFI_REAL:103};},null,{});
__d("BOFSellerLoggerEvent",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ACTN_MERCHANT_SETTINGS_CREATED:"Actn_MerchantSettingsCreated",ACTN_COMMERCE_STORE_CREATED:"Actn_CommerceStoreCreated",ACTN_PRODUCT_GROUP_CREATED:"Actn_ProductGroupCreated",ACTN_PRODUCT_ITEM_CREATED:"Actn_ProductItemCreated",ACTN_STORE_COLLECTION_CREATED:"Actn_StoreCollectionCreated",ACTN_MERCHANT_SETTINGS_UPDATED:"Actn_MerchantSettingsUpdated",ACTN_COMMERCE_STORE_UPDATED:"Actn_CommerceStoreUpdated",ACTN_PRODUCT_GROUP_UPDATED:"Actn_ProductGroupUpdated",ACTN_PRODUCT_ITEM_UPDATED:"Actn_ProductItemUpdated",ACTN_STORE_COLLECTION_UPDATED:"Actn_StoreCollectionUpdated",ACTN_STORE_COLLECTION_UPDATE_ORDERS:"Actn_StoreCollectionUpdateOrders",ACTN_COMMERCE_STORE_DELETED:"Actn_CommerceStoreDeleted",ACTN_STORE_COLLECTION_DELETED:"Actn_StoreCollectionDeleted",ACTN_PRODUCT_ITEM_DELETED:"Actn_ProductItemDeleted",ACTN_PRODUCT_ITEM_FEATURED:"Actn_ProductItemFeatured",ACTN_PRODUCT_ITEM_UNFEATURED:"Actn_ProductItemUnfeatured",ACTN_OFFER_CREATE:"Actn_OfferCreate",ACTN_ORDER_CANCELED:"Actn_OrderCanceled",ACTN_ORDER_CONTACT_BUYER:"Actn_OrderContactBuyer",ACTN_ORDER_REFUNDED:"Actn_OrderRefunded",ACTN_ORDER_SHIP:"Actn_OrderShip",ACTN_ORDER_VIEW:"Actn_OrderView",IMP_CURRENCY_SELECTION:"Imp_CurrencySelection",ACTN_CANCEL_CURRENCY_SELECTION:"Actn_CancelCurrencySelection",ACTN_ADD_PRODUCT_CLICK:"Actn_AddProductClick",ACTN_EDIT_PRODUCT_CLICK:"Actn_EditProductClick",ACTN_CANCEL_ADD_PRODUCT:"Actn_CancelAddProduct",ACTN_CANCEL_EDIT_PRODUCT:"Actn_CancelEditProduct",ACTN_SETTINGS_DROPDOWN_CLICK:"Actn_SettingsDropdownClick",ACTN_SETTINGS_DROPDOWN_SHARE_CLICK:"Actn_SettingsDropdownShareClick",ACTN_SETTINGS_DROPDOWN_COPY_CLICK:"Actn_SettingsDropdownCopyClick",IMP_PRIVATE_MESSAGE_SELECTION:"Imp_PrivateMessageSelection",ACTN_PRIVATE_MESSAGE_BACK_CLICK:"Actn_PrivateMessageBackClick",IMP_ONBOARDING_VIEW:"Imp_OnboardingView",ACTN_SAVE_ONBOARDING_VIEW:"Actn_SaveOnboardingView",IMP_SETTINGS_VIEW:"Imp_SettingsView",ACTN_UPDATE_SETTINGS:"Actn_UpdateSettings",ACTN_NUX_SEEN:"Actn_NuxSeen",ACTN_APPROVED_PRODUCT_ITEM_SHARED:"Actn_ApprovedProductItemShared",ACTN_STORE_CREATION_NOTIF_SENT:"Actn_StoreCreationNotifSent",ACTN_EDIT_PHOTO_CLICK:"Actn_EditPhotoClick",ACTN_PHOTO_EDITED:"Actn_PhotoEdited"};},null,{});
__d("BOFSellerLoggingSources",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ADD_SECTION:"AddSection",FINISH_SETUP_BANNER:"FinishSetupBanner",PUBLISHING_TOOLS:"PublishingTools",QP:"QP",SHOP_TAB:"ShopTab",STRIPE_REDIRECT:"StripeRedirect"};},null,{});
__d("CommerceEmailRemarketingOption",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NOT_YET_CHOSEN:"",NO:"no",YES:"yes"};},null,{});
__d("CommerceProductVariantType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SIZE:"Size",COLOR:"Color",MATERIAL:"Material",LENGTH:"Length",FIT:"Fit",WIDTH:"Width",SCENT:"Scent",FLAVOR:"Flavor",MODEL:"Model",FORMAT:"Format",PLATFORM:"Platform",EDITION:"Edition"};},null,{});
__d("CommerceSelfServeProductTaxCategories",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NONE:0,TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION:4900000,TAX_ITEM_CODE_COMMERCE_CLOTHING:53100000,TAX_ITEM_CODE_COMMERCE_SHOES:53110000,TAX_ITEM_CODE_COMMERCE_LUGGAGE_BAGS:53120000,TAX_ITME_CODE_COMMERCE_PERSONAL_CARE:53130000,TAX_ITEM_CODE_COMMERCE_JEWELRY:54100000,TAX_ITEM_CODE_COMMERCE_WATCHES:54111500,TAX_ITEM_CODE_COMMERCE_OTHERS:-1};},null,{});
__d("CommerceSelfServeSection",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={COMMERCE_INSIGHTS:"commerce_insights",FEATURED_PRODUCT_TOGGLE:"featured_product_toggle",INVENTORY:"inventory",PRODUCT_VISIBILITY:"product_visibility",SHIPPING_OPTIONS:"shipping_options",TAX_CATEGORY:"tax_category",TAX_TABLE:"tax_table",VARIANTS:"variants",PHOTO_EDITOR:"photo_editor"};},null,{});
__d("CommerceSelfServeUI",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MIN_SHIPPING_OPTIONS:1,MAX_SHIPPING_OPTIONS:5};},null,{});
__d("CommerceShippingCarriers",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={carriers:{AUSTRALIA_POST:"ap",CANADA_POST:"cp",DHL:"dhl",EAGLE:"eagle",FEDEX:"fedex",FEDEX_UK:"fedex_uk",LOCAL_PICKUP:"pickup",NEW_ZEALAND_POST:"nzp",POST_DANMARK:"pd",PUROLATOR:"purolator",ROYAL_MAIL:"rm",TNT:"tnt",TNT_POST:"tnt_post",UPS:"ups",USPS:"usps",OTHER:"other"},carrier_names:{AUSTRALIA_POST:"Australia Post",CANADA_POST:"Canada Post",DHL:"DHL",EAGLE:"Eagle",FEDEX:"FedEx",FEDEX_UK:"FedEx UK",LOCAL_PICKUP:"Local Pickup",NEW_ZEALAND_POST:"New Zealand Post",POST_DANMARK:"Post Danmark",PUROLATOR:"Purolator",ROYAL_MAIL:"Royal Mail",TNT:"TNT",TNT_POST:"TNT Post",UPS:"UPS",USPS:"USPS",OTHER:null}};},null,{});
__d("CommerceStoreCollectionType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={REGULAR:"",ALL_PRODUCTS:"all_products"};},null,{});
__d("CommerceUI",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MAX_ITEMS_IN_QUANTITY_SELECTOR:9,MAX_VARIANTS:4};},null,{});
__d("ComposedEntityType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MENTION:0,LINK:1,IMAGE:2,VIDEO:3,EMOTICON:4,TOKEN:5,HASHTAG:6,IMPLICIT_LINK:7};},null,{});
__d("ExpirationTypeApi",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NONE:"none",DELETE:"expire_and_delete",HIDE:"expire_only",ONLY_ME:"expire_to_only_me"};},null,{});
__d("ExpirationTypeApiToExpirationTypeMap",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={none:0,expire_and_delete:1,expire_only:2,expire_to_only_me:3};},null,{});
__d("ExpirationTypeToExpirationTypeApiMap",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={"0":"none","1":"expire_and_delete","2":"expire_only","3":"expire_to_only_me"};},null,{});
__d("FundraiserCampaignFields",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={END_TIME:"end_time",FUNDRAISER_PAGE:"fundraiser_page",GOAL_AMOUNT:"goal_amount",ID:"id",NUM_DONORS:"num_donors",START_TIME:"start_time",TOTAL_RAISED:"total_raised"};},null,{});
__d("FundraiserPageFields",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ID:"id",COVER_PHOTO:"cover_photo",JOINED_COUNT:"joined_count",NAME:"name"};},null,{});
__d("InstantArticlePublishStatus",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={DRAFT:"DRAFT",LIVE:"LIVE"};},null,{});
__d("InstantArticleSource",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CMS:"CMS",FEED:"FEED"};},null,{});
__d("InstantShoppingDocumentElementType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={RICH_TEXT:1,PHOTO:2,BUTTON:3,SLIDESHOW:4,DIVIDER:5,EXPANDABLE_SECTION:6,STATEFUL:7,VIDEO:8,COLOR_SELECTOR:9,TOGGLE_BUTTON:10,HEADER:11,COMPOSITE_BLOCK:12,FOOTER:13};},null,{});
__d("PageContentTabLocations",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PAGES_MANAGER:"PAGES_MANAGER",ADS_PE:"ADS_PE"};},null,{});
__d("PageContentTabLoggingEvents",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ACTION_TAKEN_MAIN_VIEW:"action_taken_main_view",ACTION_TAKEN_OVERLAY:"action_taken_overlay",COLUMN_SWITCHED:"column_switched",FORM_DOWNLOAD:"form_donwload",INITIAL_LOAD:"initial_load",DATA_LOADED:"data_loaded",TABLE_CONTENTS_SHOWN:"table_contents_shown",TAB_SWITCHED:"tab_switched",TAB_REFRESHED:"tab_refreshed",TABLE_SORTED:"table_sorted",SEARCH:"search",ROW_CLICKED:"row_clicked",CREATE_CLICKED:"create_clicked",FILTERS_APPLIED:"filters_applied",FILTERS_CLEARED:"filters_cleared",VIDEO_UPLOAD_FILE_SELECTED:"video_upload_file_selected",COPYRIGHT_SEND_REPORT_CLICKED:"copyright_send_report_clicked",API_ERROR:"api_error",DATA_ERROR:"data_error",LEADS_DOWNLOAD_DIALOG_OPENED:"leads_download_dialog_opened",LEADS_DOWNLOAD_DIALOG_BUTTON_CLICKED:"leads_download_dialog_button_clicked"};},null,{});
__d("PageContentTabTabs",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={COMMERCE_PRODUCTS:"COMMERCE_PRODUCTS",COMMERCE_COLLECTIONS:"COMMERCE_COLLECTIONS",COMMERCE_PENDING_ORDERS:"COMMERCE_PENDING_ORDERS",COMMERCE_PAST_ORDERS:"COMMERCE_PAST_ORDERS",COMMERCE_MERCHANT_SETTINGS:"COMMERCE_MERCHANT_SETTINGS",COMMERCE_SHOP_LINK:"COMMERCE_SHOP_LINK",DONATIONS_SETTINGS:"DONATIONS_SETTINGS",DRAFTS:"DRAFTS",EXPIRED_POSTS:"EXPIRED_POSTS",EXPIRING_POSTS:"EXPIRING_POSTS",INSTANT_ARTICLES:"INSTANT_ARTICLES",LEAD_ADS_FORMS:"LEAD_ADS_FORMS",PUBLISHED_POSTS:"PUBLISHED_POSTS",SCHEDULED_POSTS:"SCHEDULED_POSTS",ADS_POSTS:"ADS_POSTS",VIDEOS:"VIDEOS",JOB_POSTS:"JOB_POSTS",VIDEOS_COPYRIGHT:"VIDEOS_COPYRIGHT",REPORTED:"REPORTED",UNSENT_REPORTS:"UNSENT_REPORTS",ALLOWED:"ALLOWED",NON_MATCHES:"NON_MATCHES",ACTIVE_FUNDRAISERS:"ACTIVE_FUNDRAISERS",DRAFT_FUNDRAISERS:"DRAFT_FUNDRAISERS",READY_FUNDRAISERS:"READY_FUNDRAISERS",ENDED_FUNDRAISERS:"ENDED_FUNDRAISERS",ADS_CANVAS:"ADS_CANVAS"};},null,{});
__d("PagePostGraphFields",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ADMIN_CREATOR:"admin_creator",CREATION_TIME:"creation_time",EDIT_ACTIONS:"edit_actions",EDITED_BY:"edited_by",MESSAGE:"message",MODIFIED_TIME:"modified_time",PERMALINK_URL:"permalink_url",STORY_TOKEN:"story_token",PLACE:"place",PRIVACY_DESCRIPTION:"privacy_description",PROMOTION_INFO:"promotion_info",SCHEDULED_PUBLISH_TIME:"scheduled_publish_time",THUMBNAIL:"thumbnail",FEED_TARGETING:"feed_targeting",FEED_AUDIENCE_DESCRIPTION:"feed_audience_description",OG_ACTION_SUMMARY:"og_action_summary",UPDATED_TIME:"updated_time",CREATED_TIME:"created_time",PICTURE:"picture"};},null,{});
__d("PagesManagerProductToolsConstants",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MAX_FEATURED_ITEM_COUNT:10};},null,{});
__d("PhotoEditorTargetType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={COMPOSER:"composer",COMMENT:"comment",PAGE_PRODUCT_COMPOSER:"page_product_composer"};},null,{});
__d("ProductVisibility",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={LEGACY_PUBLIC:"",STAGING:"staging",PUBLISHED:"published"};},null,{});
__d("VideoCopyrightMatchComparisonSource",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={DASHBOARD:"dashboard",PERMALINK:"permalink",REPORT:"report",OCR:"ocr"};},null,{});
__d("VideoCopyrightMatchError",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={REPORT_SIZE_LIMIT_EXCEEDED:"REPORT_SIZE_LIMIT_EXCEEDED"};},null,{});
__d("VideoCopyrightMatchGraphFields",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ID:"id",VIDEO_COPYRIGHT_ID:"video_copyright_id",REFERENCE_OWNER_ID:"reference_owner_id",MATCHED_OWNER_ID:"matched_owner_id",MATCH_STATE:"match_state",MATCH_STATUS:"match_status",IS_PERFECT_MATCH:"is_perfect_match",VIDEO_MATCH_SEGMENTS:"video_matched_segments",AUDIO_MATCH_SEGMENTS:"audio_matched_segments",VIDEO_TOTAL_MATCH_DURATION:"video_total_match_duration",AUDIO_TOTAL_MATCH_DURATION:"audio_total_match_duration",REFERENCE_VIDEO_ASSET:"reference_video_asset",MATCHED_VIDEO_ASSET:"matched_video_asset",EXPIRATION_DAYS:"expiration_days",LAST_MODIFIED_USER:"last_modified_user",LAST_MODIFIED_TIME:"last_modified_time",IN_USER_UNSENT_REPORT:"in_user_unsent_report",IS_VIEWED:"is_viewed"};},null,{});
__d("VideoCopyrightMatchGraphFilterFields",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MATCHED_OWNER_NAME:"matched_owner_name",MATCHED_VIDEO_TITLE:"matched_video_title",MATCHED_VIDEO_DESCRIPTION:"matched_video_description",MATCHED_VIDEO_DATE_PUBLISHED:"matched_video_date_published",MATCHED_VIDEO_VIEWS:"matched_video_views",OVERLAP_PERCENT:"overlap_percent",OVERLAP_DURATION:"overlap_duration",SUMMARY:"summary",EXPIRES:"expires",REFERENCE_VIDEO_TITLE:"reference_video_title",REFERENCE_VIDEO_DESCRIPTION:"reference_video_description",REFERENCE_VIDEO_DATE_PUBLISHED:"reference_video_date_published",REFERENCE_VIDEO_VIEWS:"reference_video_views"};},null,{});
__d("VideoCopyrightMatchStatus",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NEW_MATCH:"NEW_MATCH",REPORTED_MATCH:"REPORTED_MATCH",ALLOWED:"ALLOWED",WRONG_MATCH:"WRONG_MATCH",ADDED_MATCH:"ADDED_MATCH",OTHER:"OTHER"};},null,{});
__d("VideoCopyrightVideoAssetGraphFields",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={COMMENT_COUNT:"comment_count",DESCRIPTION:"description",HEIGHT:"height",ID:"id",IS_PRIVATE:"is_private",DURATION_IN_SEC:"duration_in_sec",LIKE_COUNT:"like_count",OWNER_NAME:"owner_name",OWNER_PICTURE_URL:"owner_picture_url",OWNER_URL:"owner_url",PERMALINK_URL:"permalink_url",PUBLISHED_TIME:"published_time",SHARE_COUNT:"share_count",THUMBNAIL_URL:"thumbnail_url",TITLE:"title",VIEW_COUNT:"view_count",WIDTH:"width"};},null,{});
__d("VideoGraphFields",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ADMIN_CREATOR:"admin_creator",BACKDATED_TIME:"backdated_time",BACKDATED_TIME_GRANULARITY:"backdated_time_granularity",CAPTIONS:"captions",AUTO_GENERATED_CAPTIONS:"auto_generated_captions",COMMENTS:"comments",CONTENT_CATEGORY:"content_category",COPYRIGHTED:"copyrighted",CREATED_TIME:"created_time",DESCRIPTION:"description",DISTRIBUTION:"distribution",EMBED_HTML:"embed_html",EMBEDDABLE:"embeddable",EVENT:"event",EXPIRATION:"expiration",FORMAT:"format",FROM:"from",ICON:"icon",ID:"id",IS_INSTAGRAM_ELIGIBLE:"is_instagram_eligible",IS_BOOSTABLE:"is_boostable",SPHERICAL:"spherical",IS_UNLISTED:"is_unlisted",NO_STORY:"no_story",LENGTH:"length",LIKES:"likes",OPT_OUT_MONETIZATION:"opt_out_monetization",NAME:"name",PERMALINK_URL:"permalink_url",PICTURE:"picture",PLACE:"place",PRIVACY:"privacy",PUBLISHED:"published",SCHEDULED_PUBLISH_TIME:"scheduled_publish_time",SECRET:"secret",SHAREDPOSTS:"sharedposts",SOCIAL_ACTIONS:"social_actions",SOURCE:"source",STATUS:"status",SUMMARY:"summary",TAGS:"tags",THUMBNAILS:"thumbnails",TITLE:"title",UPDATED_TIME:"updated_time",VIEWS:"views"};},null,{});
__d("XCommerceProductsParam",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={GROUP_ID:"group_id",ITEM_ID:"item_id",REF_ID:"rid",REF_TYPE:"rt",REF_STORY_LOCATION:"location",IS_SPONSORED:"is_sponsored",SHARE_ID_DEPRECATED:"share_id"};},null,{});
__d("XCommerceSelfServeParam",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={EXPLANATION:"explanation",PAGE_ID:"page_id",AMOUNT:"amount",ADDRESS:"address",STREET_1:"street1",CITY:"city",STATE:"region",ZIP:"postalCode",ALERT_EMAIL:"alert_email",COLLECTION_NAME:"collection_name",CONTACT_EMAIL:"contact_email",STRIPE_DEFERRED_EMAIL:"stripe_deferred_email",SETTINGS_ID:"settings_id",TAX_NEXUS_LOCATIONS:"tax_nexus_locations",VISIBILITY:"visibility",CURRENCY_CODE:"currency_code",DEFAULT_SHIPPING_OPTIONS_JSON:"default_shipping_options_json",FEATURED_PRODUCT:"featured_product",INVENTORY:"inventory",PRODUCT_DESCRIPTION:"product_desc",PRODUCT_ID:"product_id",PRODUCT_PHOTO_IDS:"photo_ids",PRODUCT_PRICE:"product_price",PRODUCT_TITLE:"product_title",SHARE_TO_TIMELINE:"share_to_timeline",SHIPPING_OPTION_NAMES:"shipping_option_names",SHIPPING_OPTION_VALUES:"shipping_option_values",TAX_APPLIED_TO_SHIPPING_MAP:"tax_applied_to_shipping_map",TAX_CATEGORY:"tax_category",TAX_LOCATIONS:"tax_locations",TAX_PERCENT_MAP:"tax_percent_map",VARIANT_NAMES:"variant_names",VARIANT_INVENTORY:"variant_inventory_map",VARIANT_PRICE:"variant_price_map",VARIANT_DATA:"variant_serial_data_map",VARIANT_PRODUCT_ID:"variant_product_id_map"};},null,{});
__d('AdsCanvasAPISetup',['AdsCanvasConfig','GraphAPI','WebApiApplication'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=false,l={setupGraph:function(){if(k)return;j.init(h.access_token,h.client_id);k=true;}};f.exports=l;},null);
__d('RichMediaEditorUtil',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={isValidHTTPURL:function(i){var j=/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/;return j.test(i);}};f.exports=h;},null);
__d('DraftStringKey',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={stringify:function(i){return '_'+String(i);},unstringify:function(i){return i.slice(1);}};f.exports=h;},null);
__d('encodeEntityRanges',['DraftStringKey','UnicodeUtils'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=i.strlen;function k(l,m){var n=[];l.findEntityRanges(function(o){return !!o.getEntity();},function(o,p){var q=l.getText(),r=l.getEntityAt(o);n.push({offset:j(q.slice(0,o)),length:j(q.slice(o,p)),key:Number(m[h.stringify(r)])});});return n;}f.exports=k;},null);
__d('encodeInlineStyleRanges',['ComposedInlineStyle','UnicodeUtils','findRangesImmutable','getObjectValues'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=function(q,r){return q===r;},m=function(q){return !!q;},n=[];function o(q,r,s){var t=[],u=r.map(function(v){return v&s;});j(u,l,m,function(v,w){var x=q.getText();t.push({offset:i.strlen(x.slice(0,v)),length:i.strlen(x.slice(v,w)),style:s});});return t;}function p(q){var r=q.getCharacterList().map(function(t){return t.getStyle();}),s=k(h).filter(function(t){return !!t;});return Array.prototype.concat.apply(n,s.map(function(t){return o(q,r,t);}));}f.exports=p;},null);
__d('encodeBlocks',['ComposedBlockType','ComposedEntityType','DraftEntity','DraftStringKey','encodeEntityRanges','encodeInlineStyleRanges','filterObject','mapObject'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=h.ORDERED_LIST_ITEM,q=h.UNORDERED_LIST_ITEM;function r(t){var u=t.getBlockMap(),v=0,w={},x=[];u.forEach(function(aa,ba){aa.findEntityRanges(function(ca){return ca.getEntity()!==null;},function(ca){var da=k.stringify(aa.getEntityAt(ca));if(!w.hasOwnProperty(da))w[da]=''+v++;});x.push({key:ba,text:aa.getText(),type:aa.getType(),depth:s(aa)?aa.getDepth():0,inlineStyleRanges:m(aa),entityRanges:l(aa,w)});});var y=Object.keys(w),z={};y.forEach(function(aa,ba){var ca=j.get(k.unstringify(aa)),da=ca.getData(),ea=n(da,function(ga,ha){return ha!=='id';}),fa=o(ea,function(ga){return ga==null?'':String(ga);});z[ba]={id:da.id||null,type:i[ca.getType()],data:Object.keys(fa).length?fa:undefined};});return {entityMap:z,blocks:x};}function s(t){var u=t.getType();return u===p||u===q;}f.exports=r;},null);
__d('RichMediaRichFormatText',['ContentState','immutable','createPlainBlocksFromText','encodeBlocks'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';var n=i.Record,o={composedText:{entityMap:{},blocks:[]},textAlignment:'left',textColor:'#000',fontSize:12,fontFamily:'serif'},p=n(o);l=babelHelpers.inherits(q,p);m=l&&l.prototype;q.create=function(r,s,t,u,v){return new q({composedText:k(r),textAlignment:s,textColor:t,fontSize:u,fontFamily:v});};q.createDefault=function(){return q.create(h.createFromBlockArray(j(['Input Text'])),'left','#777',12,'serif');};q.createFromObject=function(r){return new q({composedText:r.composedText,textAlignment:r.textAlignment,textColor:r.textColor,fontSize:r.fontSize,fontFamily:r.fontFamily});};function q(){l.apply(this,arguments);}f.exports=q;},null);
__d('RichMediaButtonElement',['immutable','InstantShoppingDocumentElementType','RichMediaEditorUtil','RichMediaRichFormatText'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';var n=h.Record,o={name:'',type:i.BUTTON,index:0,expanded:false,buttonColor:'#000',isFilled:false,isFixedToBottom:false,link:'',richFormatText:k.createDefault()},p=n(o);l=babelHelpers.inherits(q,p);m=l&&l.prototype;q.create=function(r,s,t,u,v,w,x,y){return new q({index:r,name:s,type:i.BUTTON,expanded:t,buttonColor:u,isFilled:v,isFixedToBottom:w,link:x,richFormatText:y});};q.createDefault=function(r){return q.create(r,'Button',true,'#000',false,false,'',k.createDefault());};q.createFromObject=function(r){return q.create(r.index,r.name,r.expanded,r.buttonColor,r.isFilled,r.isFixedToBottom,r.link,k.createFromObject(r.richFormatText));};q.validate=function(r){if(!r.link||!j.isValidHTTPURL(r.link))return {isValid:false,errorMsg:'Invalid Link URL'};return {isValid:true,errorMsg:''};};function q(){l.apply(this,arguments);}f.exports=q;},null);
__d('RichMediaCarouselItem',['immutable','RichMediaEditorUtil'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j,k;'use strict';var l=h.Record,m={index:0,photo:null,name:'',description:null,link:null},n=l(m);j=babelHelpers.inherits(o,n);k=j&&j.prototype;o.create=function(p,q,r,s,t){return new o({index:p,photo:q,name:r,description:s,link:t});};o.createDefault=function(p){return o.create(p,null,'',null,null);};o.createFromObject=function(p){return o.create(p.index,p.photo,p.name,p.description,p.link);};o.validate=function(p){if(!p.photo)return {isValid:false,errorMsg:'Missing photo'};if(p.link&&!i.isValidHTTPURL(p.link))return {isValid:false,errorMsg:'Invalid Link URL'};return {isValid:true,errorMsg:''};};function o(){j.apply(this,arguments);}f.exports=o;},null);
__d('RichMediaCarouselElement',['immutable','InstantShoppingDocumentElementType','RichMediaCarouselItem'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;'use strict';var m=h.Record,n={name:'',type:i.SLIDESHOW,index:0,expanded:false,layout:'fit_to_height',items:[]},o=m(n);k=babelHelpers.inherits(p,o);l=k&&k.prototype;p.create=function(q,r,s,t,u){return new p({index:q,name:r,type:i.SLIDESHOW,expanded:s,layout:t,items:u});};p.createDefault=function(q){return p.create(q,'Carousel',true,'fit_to_height',[0,1,2].map(function(r){return j.createDefault(r);}));};p.createFromObject=function(q){return p.create(q.index,q.name,q.expanded,q.layout,q.items.map(function(r){return j.createFromObject(r);}));};p.validate=function(q){if(q.items.length===0)return {isValid:false,errorMsg:'Add at least one photo'};for(var r=0;r<q.items.length;++r){var s=q.items[r],t=j.validate(s);if(!t.isValid)return {isValid:false,errorMsg:'Item '+(r+1)+' '+t.errorMsg};}var u=q.items[0].photo.height,v=q.items[0].photo.width;for(r=0;r<q.items.length;++r){var w=q.items[r].photo;if(w.height!=u||w.width!=v)return {isValid:false,errorMsg:'Item '+(r+1)+' has different dimension.'};}return {isValid:true,errorMsg:''};};function p(){k.apply(this,arguments);}f.exports=p;},null);
__d('RichMediaHeaderElement',['immutable','InstantShoppingDocumentElementType'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j,k;'use strict';var l=h.Record,m={name:'',type:i.HEADER,index:0,expanded:false,fixToTop:true,photo:null,backgroundColor:null},n=l(m);j=babelHelpers.inherits(o,n);k=j&&j.prototype;o.create=function(p,q,r,s,t){return new o({name:p,type:i.HEADER,expanded:r,index:q,fixToTop:true,photo:s,backgroundColor:t});};o.createDefault=function(p){return o.create('Header',p,true,null,null);};o.createFromObject=function(p){return o.create(p.name,p.index,p.expanded,p.photo,p.backgroundColor);};o.validate=function(p){if(!p.photo)return {isValid:false,errorMsg:'Missing photo'};if(!p.backgroundColor)return {isValid:false,errorMsg:'Missing background color'};return {isValid:true,errorMsg:''};};function o(){j.apply(this,arguments);}f.exports=o;},null);
__d('RichMediaPhotoElement',['immutable','InstantShoppingDocumentElementType','RichMediaEditorUtil'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;'use strict';var m=h.Record,n={name:'',type:i.PHOTO,index:0,expanded:false,layout:'fit_to_height',description:null,link:null,photo:null},o=m(n);k=babelHelpers.inherits(p,o);l=k&&k.prototype;p.create=function(q,r,s,t,u,v,w){return new p({name:q,type:i.PHOTO,index:r,expanded:s,layout:t,description:u,link:v,photo:w});};p.createDefault=function(q){return p.create('Photo',q,true,'fit_to_height',null,null,null);};p.createFromObject=function(q){return p.create(q.name,q.index,q.expanded,q.layout,q.description,q.link,q.photo);};p.validate=function(q){if(!q.photo)return {isValid:false,errorMsg:'Missing photo'};if(q.link&&!j.isValidHTTPURL(q.link))return {isValid:false,errorMsg:'Invalid Link URL'};return {isValid:true,errorMsg:''};};function p(){k.apply(this,arguments);}f.exports=p;},null);
__d('RichMediaTextElement',['immutable','InstantShoppingDocumentElementType','RichMediaRichFormatText'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;'use strict';var m=h.Record,n={name:'',type:i.RICH_TEXT,index:0,expanded:false,richFormatText:{composedText:{entityMap:{},blocks:[]},textAlignment:'left',textColor:'#000',fontSize:12,fontFamily:'serif'}},o=m(n);k=babelHelpers.inherits(p,o);l=k&&k.prototype;p.create=function(q,r,s,t){return new p({index:q,name:r,type:i.RICH_TEXT,expanded:s,richFormatText:t});};p.createDefault=function(q){return p.create(q,'Text',true,j.createDefault());};p.createFromObject=function(q){return p.create(q.index,q.name,q.expanded,j.createFromObject(q.richFormatText));};p.validate=function(q){return {isValid:true,errorMsg:''};};function p(){k.apply(this,arguments);}f.exports=p;},null);
__d('RichMediaVideoElement',['immutable','InstantShoppingDocumentElementType'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j,k;'use strict';var l=h.Record,m={name:'',type:i.VIDEO,index:0,expanded:false,layout:'fit_to_width',video:null},n=l(m);j=babelHelpers.inherits(o,n);k=j&&j.prototype;o.create=function(p,q,r,s,t){return new o({name:p,type:i.VIDEO,expanded:r,index:q,layout:s?s:'fit_to_width',video:t});};o.createDefault=function(p){return o.create('Video',p,true,'fit_to_width',null);};o.createFromObject=function(p){return o.create(p.name,p.index,p.expanded,p.layout,p.video);};o.validate=function(p){if(!p.video)return {isValid:false,errorMsg:'Missing video'};return {isValid:true,errorMsg:''};};function o(){j.apply(this,arguments);}f.exports=o;},null);
__d('RichMediaEditorAddComponentDialog.react',['LayerFadeOnHide','Link.react','React','ReactLayeredComponentMixin','RichMediaButtonElement','RichMediaCarouselElement','RichMediaHeaderElement','RichMediaPhotoElement','RichMediaTextElement','RichMediaVideoElement','XUIDialog.react','XUIDialogBody.react','XUIDialogTitle.react'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u=j.PropTypes,v=485,w=j.createClass({displayName:'RichMediaEditorAddComponentDialog',mixins:[k],propTypes:{canAddHeader:u.bool.isRequired,newElementIndex:u.number.isRequired,onAddDocumentElement:u.func.isRequired},getInitialState:function(){return {dialogShown:false};},show:function(){this.setState({dialogShown:true});},renderLayers:function(){var x=this.props.canAddHeader?null:j.createElement(i,{onClick:this._onAddHeaderElement},'Header Element');return {dialog:j.createElement(r,{behaviors:{LayerFadeOnHide:h},shown:this.state.dialogShown,width:v,onToggle:this._onToggle},j.createElement(t,null,j.createElement('span',null,'Add Component')),j.createElement(s,null,j.createElement(i,{onClick:this._onAddTextElement},'Text Element'),j.createElement('br',null),j.createElement(i,{onClick:this._onAddPhotoElement},'Photo Element'),j.createElement('br',null),j.createElement(i,{onClick:this._onAddVideoElement},'Video Element'),j.createElement('br',null),j.createElement(i,{onClick:this._onAddButtonElement},'Button Element'),j.createElement('br',null),j.createElement(i,{onClick:this._onAddCarouselElement},'Carousel Element'),j.createElement('br',null),x))};},render:function(){return null;},_onToggle:function(x){this.setState({dialogShown:x});},_onAddTextElement:function(){this.props.onAddDocumentElement(p.createDefault(this.props.newElementIndex));this.setState({dialogShown:false});},_onAddPhotoElement:function(){this.props.onAddDocumentElement(o.createDefault(this.props.newElementIndex));this.setState({dialogShown:false});},_onAddVideoElement:function(){this.props.onAddDocumentElement(q.createDefault(this.props.newElementIndex));this.setState({dialogShown:false});},_onAddButtonElement:function(){this.props.onAddDocumentElement(l.createDefault(this.props.newElementIndex));this.setState({dialogShown:false});},_onAddCarouselElement:function(){this.props.onAddDocumentElement(m.createDefault(this.props.newElementIndex));this.setState({dialogShown:false});},_onAddHeaderElement:function(){this.props.onAddDocumentElement(n.createDefault(this.props.newElementIndex));this.setState({dialogShown:false});}});f.exports=w;},null);
__d('RichMediaDocumentThemeConstants',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports={LIGHT:'FFFFFFFF',DARK:'FF000000'};},null);
__d('RichMediaEditorDesignFormatEditPanel.react',['React','RichMediaDocumentThemeConstants','cx'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l=i.LIGHT,m=i.DARK,n=h.createClass({displayName:'RichMediaEditorDesignFormatEditPanel',propTypes:{documentTheme:k.string.isRequired,onSetDocumentTheme:k.func.isRequired},render:function(){var o=this.props.documentTheme===l,p=this.props.documentTheme===m;return (h.createElement('div',{className:"_229n"},h.createElement('div',{className:"_229o"},h.createElement('h2',{className:"_229p"},'Select a theme'),h.createElement('div',{className:"_229q",onClick:this._setLightTheme},h.createElement('div',{className:(o?"_229r":'')+(!o?' '+"_229z":'')}),h.createElement('div',{className:"_229v"}),h.createElement('div',{className:"_229w"},h.createElement('h2',{className:"_229x"},'Light'),h.createElement('div',{className:"_229y"},'Light background with dark text'))),h.createElement('div',{className:"_229q",onClick:this._setDarkTheme},h.createElement('div',{className:(p?"_229r":'')+(!p?' '+"_229z":'')}),h.createElement('div',{className:"_229-"}),h.createElement('div',{className:"_229w"},h.createElement('h2',{className:"_229x"},'Dark'),h.createElement('div',{className:"_229y"},'Dark background with light text'))))));},_setLightTheme:function(){this.props.onSetDocumentTheme(l);},_setDarkTheme:function(){this.props.onSetDocumentTheme(m);}});f.exports=n;},null);
__d('RichMediaEditorExpandableItemEditorBody.react',['React','cx'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=h.PropTypes,k=h.createClass({displayName:'RichMediaEditorExpandableItemEditorBody',propTypes:{expanded:j.bool},render:function(){return (h.createElement('div',{className:(this.props.expanded?"_q25":'')+(!this.props.expanded?' '+"_q26":'')},this.props.children));}});f.exports=k;},null);
__d('RichMediaEditorExpandableItemEditorTitle.react',['Link.react','React','cx'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=i.PropTypes,l=i.createClass({displayName:'RichMediaEditorExpandableItemEditorTitle',propTypes:{expanded:k.bool.isRequired,showControls:k.bool.isRequired,title:k.string.isRequired,validationInfo:k.object,onChangeTitle:k.func.isRequired,onClickExpand:k.func.isRequired,onDeleteElement:k.func.isRequired,onMoveElementDown:k.func.isRequired,onMoveElementUp:k.func.isRequired},render:function(){var m=null;if(this.props.showControls)m=i.createElement('div',{className:"_a9v"},i.createElement(h,{onClick:this.props.onDeleteElement},'Delete'),i.createElement('div',{className:"_a9w",onClick:this.props.onMoveElementUp}),i.createElement('div',{className:"_a9x",onClick:this.props.onMoveElementDown}));var n=null;if(this.props.validationInfo&&!this.props.validationInfo.isValid)n=i.createElement('div',{className:"_5drh"},i.createElement('span',null,this.props.validationInfo.errorMsg));return (i.createElement('div',{className:"_37pn"},i.createElement('div',{className:(this.props.expanded?"_37po":'')+(!this.props.expanded?' '+"_37pp":''),onClick:this.props.onClickExpand}),i.createElement('div',{className:"_45g6"},i.createElement('input',{className:"_45g7"+(this.props.expanded?' '+"_45g8":'')+(!this.props.expanded?' '+"_45g9":''),type:'text',value:this.props.title,onChange:(function(o){return this.props.onChangeTitle(o.target.value);}).bind(this)}),n),m));}});f.exports=l;},null);
__d('RichMediaEditorExpandableItemEditor.react',['React','RichMediaEditorExpandableItemEditorBody.react','RichMediaEditorExpandableItemEditorTitle.react','RichMediaButtonElement','RichMediaCarouselElement','RichMediaHeaderElement','RichMediaPhotoElement','RichMediaTextElement','RichMediaVideoElement'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=h.PropTypes,r=h.createClass({displayName:'RichMediaEditorExpandableItemEditor',propTypes:{element:q.oneOfType([q.objectOf(k),q.objectOf(l),q.objectOf(m),q.objectOf(n),q.objectOf(o),q.objectOf(p)]),expanded:q.bool.isRequired,title:q.string.isRequired,validationInfo:q.object,onDeleteElement:q.func.isRequired,onEditDocumentElement:q.func.isRequired,onMoveElementDown:q.func.isRequired,onMoveElementUp:q.func.isRequired},getInitialState:function(){return {expanded:this.props.expanded};},render:function(){return (h.createElement('div',null,h.createElement(j,{expanded:this.state.expanded,showControls:!!this.props.element,title:this.props.title,validationInfo:this.props.validationInfo,onChangeTitle:this._onChangeTitle,onClickExpand:this._onClickExpand,onDeleteElement:this._onDeleteElement,onMoveElementDown:this._onMoveElementDown,onMoveElementUp:this._onMoveElementUp}),h.createElement(i,{expanded:this.state.expanded},this.props.children)));},_onClickExpand:function(){var s=!this.state.expanded;this.setState({expanded:s});if(this.props.element)this.props.onEditDocumentElement(this.props.element.set('expanded',s));},_onChangeTitle:function(s){if(this.props.element)this.props.onEditDocumentElement(this.props.element.set('name',s));},_onMoveElementUp:function(){if(this.props.element)this.props.onMoveElementUp(this.props.element);},_onMoveElementDown:function(){if(this.props.element)this.props.onMoveElementDown(this.props.element);},_onDeleteElement:function(){if(this.props.element)this.props.onDeleteElement(this.props.element);}});f.exports=r;},null);
__d('RichMediaElementUtil',['InstantShoppingDocumentElementType','RichMediaButtonElement','RichMediaCarouselElement','RichMediaHeaderElement','RichMediaPhotoElement','RichMediaTextElement','RichMediaVideoElement'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o={validateElement:function(p){switch(p.type){case h.RICH_TEXT:return m.validate(p);case h.PHOTO:return l.validate(p);case h.VIDEO:return n.validate(p);case h.BUTTON:return i.validate(p);case h.SLIDESHOW:return j.validate(p);case h.HEADER:return k.validate(p);}return {isValid:true,errorMsg:''};}};f.exports=o;},null);
/**
 * @providesModule colr-convert
 * @preserve-header
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2014 George Czabania
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 */__d("colr-convert",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();'use strict';f.exports={grayscale:{rgb:q},hex:{rgb:i},rgb:{hsl:k,hsv:l,hex:j,grayscale:r},hsl:{rgb:m,hsv:n},hsv:{rgb:o,hsl:p}};function h(s){return (s<58?s-48:s<71?s-55:s-87);}function i(s){var t=s[0]==='#'?1:0,u=s.length;if(u-t<3)throw new Error('hex input must be at least three chars long');var v,w,x,y=h(s.charCodeAt(0+t)),z=h(s.charCodeAt(1+t)),aa=h(s.charCodeAt(2+t));if(u-t>=6){v=(y<<4)+z;w=(aa<<4)+h(s.charCodeAt(3+t));x=(h(s.charCodeAt(4+t))<<4)+h(s.charCodeAt(5+t));}else{v=(y<<4)+y;w=(z<<4)+z;x=(aa<<4)+aa;}if(v<0||v>255||w<0||w>255||x<0||x>255)throw new Error('hex input is invalid');return [v,w,x];}function j(s){return '#'+('000000'+((s[0]<<16)+(s[1]<<8)+s[2]).toString(16)).slice(-6);}function k(s){var t=s[0]/255,u=s[1]/255,v=s[2]/255,w=Math.min(t,u,v),x=Math.max(t,u,v),y=x-w,z,aa,ba;if(x===w){z=0;}else if(t===x){z=(u-v)/y;}else if(u===x){z=2+(v-t)/y;}else if(v===x)z=4+(t-u)/y;z=Math.min(z*60,360);if(z<0)z+=360;ba=(w+x)/2;if(x===w){aa=0;}else if(ba<=.5){aa=y/(x+w);}else aa=y/(2-x-w);return [z,aa*100,ba*100];}function l(s){var t=s[0],u=s[1],v=s[2],w=Math.min(t,u,v),x=Math.max(t,u,v),y=x-w,z,aa,ba;if(x===0){aa=0;}else aa=(y/x*1000)/10;if(x===w){z=0;}else if(t===x){z=(u-v)/y;}else if(u===x){z=2+(v-t)/y;}else if(v===x)z=4+(t-u)/y;z=Math.min(z*60,360);if(z<0)z+=360;ba=((x/255)*1000)/10;return [z,aa,ba];}function m(s){var t=s[0]/360,u=s[1]/100,v=s[2]/100,w,x,y;if(u===0){w=x=y=v;}else{var z=v<.5?v*(u+1):v+u-v*u,aa=2*v-z,ba;ba=t+1/3;if(ba<0){ba+=1;}else if(ba>1)ba-=1;if(ba<1/6){w=aa+(z-aa)*ba*6;}else if(ba<1/2){w=z;}else if(ba<2/3){w=aa+(z-aa)*(2/3-ba)*6;}else w=aa;ba=t;if(ba<0){ba+=1;}else if(ba>1)ba-=1;if(ba<1/6){x=aa+(z-aa)*ba*6;}else if(ba<1/2){x=z;}else if(ba<2/3){x=aa+(z-aa)*(2/3-ba)*6;}else x=aa;ba=t-1/3;if(ba<0){ba+=1;}else if(ba>1)ba-=1;if(ba<1/6){y=aa+(z-aa)*ba*6;}else if(ba<1/2){y=z;}else if(ba<2/3){y=aa+(z-aa)*(2/3-ba)*6;}else y=aa;}return [w*255,x*255,y*255];}function n(s){var t=s[0],u=s[1]/100,v=s[2]/100,w,x;if(u===0)return [t,0,v*100];if(v===0)return [t,0,0];v*=2;u*=(v<=1)?v:2-v;x=(v+u)/2;w=(2*u)/(v+u);return [t,w*100,x*100];}function o(s){var t=s[0]/60,u=s[1]/100,v=s[2]/100,w=Math.floor(t)%6,x=t-Math.floor(t),y=255*v*(1-u),z=255*v*(1-(u*x)),aa=255*v*(1-(u*(1-x)));v=255*v;switch(w){case 0:return [v,aa,y];case 1:return [z,v,y];case 2:return [y,v,aa];case 3:return [y,z,v];case 4:return [aa,y,v];case 5:return [v,y,z];}}function p(s){var t=s[0],u=s[1]/100,v=s[2]/100,w,x;if(u===0)return [t,0,v*100];if(v===0)return [t,0,0];x=(2-u)*v;w=u*v;w/=(x<=1)?x:2-x;x/=2;return [t,w*100,x*100];}function q(s){return [s,s,s];}function r(s){return (s[0]*299+s[1]*587+s[2]*114)/1000;}},null,{});
/**
 * @providesModule colr
 * @preserve-header
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2014 George Czabania
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 */__d("colr",["colr-convert"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();'use strict';var h=c('colr-convert');function i(){if((this instanceof i)===false)return new i();this._={};}i.fromHex=function(n){return (new i()).fromHex(n);};i.fromGrayscale=function(n){return (new i()).fromGrayscale(n);};i.fromRgb=function(n,o,p){return (new i()).fromRgb(n,o,p);};i.fromRgbArray=function(n){return (new i()).fromRgb(n[0],n[1],n[2]);};i.fromRgbObject=function(n){return (new i()).fromRgb(n.r,n.g,n.b);};i.fromHsl=function(n,o,p){return (new i()).fromHsl(n,o,p);};i.fromHslArray=function(n){return (new i()).fromHsl(n[0],n[1],n[2]);};i.fromHslObject=function(n){return (new i()).fromHsl(n.h,n.s,n.l);};i.fromHsv=function(n,o,p){return (new i()).fromHsv(n,o,p);};i.fromHsvArray=function(n){return (new i()).fromHsv(n[0],n[1],n[2]);};i.fromHsvObject=function(n){return (new i()).fromHsv(n.h,n.s,n.v);};i.prototype.fromHex=function(n){var o=h.hex.rgb(n);this._={rgb:o};return this;};i.prototype.fromGrayscale=function(n){n=k(n);var o=h.grayscale.rgb(n);this._={rgb:o};return this;};i.prototype.fromRgb=function(n,o,p){if(typeof(n)!=='number'||typeof(o)!=='number'||typeof(p)!=='number')throw new Error('Arguments must be numbers');var q=l(n,o,p);this._={rgb:q};return this;};i.prototype.fromRgbArray=function(n){return this.fromRgb(n[0],n[1],n[2]);};i.prototype.fromRgbObject=function(n){return this.fromRgb(n.r,n.g,n.b);};i.prototype.fromHsl=function(n,o,p){if(typeof(n)!=='number'||typeof(o)!=='number'||typeof(p)!=='number')throw new Error('Arguments must be numbers');this._={hsl:m(n,o,p)};return this;};i.prototype.fromHslArray=function(n){return this.fromHsl(n[0],n[1],n[2]);};i.prototype.fromHslObject=function(n){return this.fromHsl(n.h,n.s,n.l);};i.prototype.fromHsv=function(n,o,p){if(typeof(n)!=='number'||typeof(o)!=='number'||typeof(p)!=='number')throw new Error('Arguments must be numbers');this._={hsv:m(n,o,p)};return this;};i.prototype.fromHsvArray=function(n){return this.fromHsv(n[0],n[1],n[2]);};i.prototype.fromHsvObject=function(n){return this.fromHsv(n.h,n.s,n.v);};i.prototype.toHex=function(){var n=this._.hex;if(n!==undefined)return n;var o,p=this._.rgb;if(p!==undefined){o=p;}else o=this.toRawRgbArray();o[0]=Math.round(o[0]);o[1]=Math.round(o[1]);o[2]=Math.round(o[2]);var q=h.rgb.hex(o);this._.hex=q;return q;};i.prototype.toGrayscale=function(){var n=this._.grayscale;if(n!==undefined)return n;var o,p=this._.rgb;if(p!==undefined){o=p;}else o=this.toRawRgbArray();var q=h.rgb.grayscale(o);this._.grayscale=q;return q;};i.prototype.toRawRgbArray=function(){var n=this._.rgb;if(n!==undefined)return n;var o;if((o=this._.hsv)!==undefined){o=h.hsv.rgb(o);}else if((o=this._.hsl)!==undefined){o=h.hsl.rgb(o);}else throw new Error('No data to convert');this._.rgb=o;return o;};i.prototype.toRawRgbObject=function(){var n=this.toRawRgbArray();return {r:n[0],g:n[1],b:n[2]};};i.prototype.toRgbArray=function(){var n=this.toRawRgbArray();return [Math.round(n[0]),Math.round(n[1]),Math.round(n[2])];};i.prototype.toRgbObject=function(){var n=this.toRgbArray();return {r:n[0],g:n[1],b:n[2]};};i.prototype.toRawHslArray=function(){var n=this._.hsl;if(n!==undefined)return n;var o;if((o=this._.hsv)!==undefined){o=h.hsv.hsl(o);}else if((o=this._.rgb)!==undefined){o=h.rgb.hsl(o);}else throw new Error('No data to convert');this._.hsl=o;return o;};i.prototype.toRawHslObject=function(){var n=this.toRawHslArray();return {h:n[0],s:n[1],l:n[2]};};i.prototype.toHslArray=function(){var n=this.toRawHslArray();return [Math.round(n[0]),Math.round(n[1]),Math.round(n[2])];};i.prototype.toHslObject=function(){var n=this.toHslArray();return {h:n[0],s:n[1],l:n[2]};};i.prototype.toRawHsvArray=function(){var n=this._.hsv;if(n!==undefined)return n;var o;if((o=this._.hsl)!==undefined){o=h.hsl.hsv(o);}else if((o=this._.rgb)!==undefined){o=h.rgb.hsv(o);}else throw new Error('No data to convert');this._.hsv=o;return o;};i.prototype.toRawHsvObject=function(){var n=this.toRawHsvArray();return {h:n[0],s:n[1],v:n[2]};};i.prototype.toHsvArray=function(){var n=this.toRawHsvArray();return [Math.round(n[0]),Math.round(n[1]),Math.round(n[2])];};i.prototype.toHsvObject=function(){var n=this.toHsvArray();return {h:n[0],s:n[1],v:n[2]};};i.prototype.lighten=function(n){var o=this.toRawHslArray();o[2]=j(o[2]+n);this._={hsl:o};return this;};i.prototype.darken=function(n){var o=this.toRawHslArray();o[2]=j(o[2]-n);this._={hsl:o};return this;};i.prototype.clone=function(){var n=new i();n._.hex=this._.hex;n._.grayscale=this._.grayscale;if(this._.rgb!==undefined)n._.rgb=this._.rgb.slice(0);if(this._.hsv!==undefined)n._.hsv=this._.hsv.slice(0);if(this._.hsl!==undefined)n._.hsl=this._.hsl.slice(0);return n;};function j(n){return Math.max(Math.min(n,100),0);}function k(n){return Math.max(Math.min(n,255),0);}function l(n,o,p){return [Math.max(Math.min(n,255),0),Math.max(Math.min(o,255),0),Math.max(Math.min(p,255),0),];}function m(n,o,p){return [Math.max(Math.min(n,360),0),Math.max(Math.min(o,100),0),Math.max(Math.min(p,100),0),];}f.exports=i;},null,{});
__d('RichMediaEditorColorInput.react',['colr','React','cx','invariant'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=i.PropTypes,m=i.createClass({displayName:'RichMediaEditorColorInput',propTypes:{defaultColor:l.string.isRequired,onChange:l.func.isRequired},getInitialState:function(){return {style:this._getStyleFromColor(this.props.defaultColor)};},render:function(){return (i.createElement('input',{className:"_18dg",defaultValue:this.props.defaultColor,height:this.props.height,maxLength:7,ref:'input',style:this.state.style,onChange:this._onColorChange}));},_checkHex:function(n){try{return !!h.fromHex(n);}catch(o){return false;}},_getLuminosity:function(n){return h.fromHex(n).toGrayscale()/255;},_getStyleFromColor:function(n){var o=this._getLuminosity(n),p=o>.5?'#000':'#FFF';return {color:p,backgroundColor:n};},_onColorChange:function(n){var o=n.target;!(o instanceof HTMLInputElement)?k(0):undefined;var p=o.value;if(this._checkHex(p)){p=p.charAt(0)==='#'?p:'#'+p.slice(0,6);var q=this._getStyleFromColor(p);this.setState({style:q});this.refs.input.value=p;this.props.onChange(p);}else this.setState({style:{}});}});f.exports=m;},null);
__d('adjustBlockDepthForContentState',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j,k,l){var m=j.getStartKey(),n=j.getEndKey(),o=i.getBlockMap(),p=o.toSeq().skipUntil(function(q,r){return r===m;}).takeUntil(function(q,r){return r===n;}).concat([[n,o.get(n)]]).map(function(q){var r=q.getDepth()+k;r=Math.max(0,Math.min(r,l));return q.set('depth',r);});o=o.merge(p);return i.merge({blockMap:o,selectionBefore:j,selectionAfter:j});}f.exports=h;},null);
__d('RichTextEditorUtil',['ComposedBlockType','ComposedInlineStyle','DraftCharacters','DraftEntity','DraftModifier','EditorState','adjustBlockDepthForContentState'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=h.UNSTYLED,p=h.MEDIA,q=h.ORDERED_LIST_ITEM,r=h.UNORDERED_LIST_ITEM,s=h.CODE,t=i.BOLD,u=i.ITALIC,v=i.UNDERLINE,w=j.SOFT_NEWLINE,x={currentBlockContainsLink:function(y){var z=y.getSelection();return y.getCurrentContent().getBlockForKey(z.getAnchorKey()).getCharacterList().slice(z.getStartOffset(),z.getEndOffset()).some(function(aa){var ba=aa.getEntity();return !!ba&&k.get(ba).getType()==='LINK';});},getCurrentBlockType:function(y){var z=y.getSelection();return y.getCurrentContent().getBlockForKey(z.getStartKey()).getType();},getDataObjectForLinkURL:function(y){return {url:y.toString()};},handleKeyCommand:function(y,z){switch(z){case 'bold':return x.toggleInlineStyle(y,t);case 'italic':return x.toggleInlineStyle(y,u);case 'underline':return x.toggleInlineStyle(y,v);case 'code':return x.toggleCode(y);case 'backspace':case 'backspace-word':case 'backspace-to-start-of-line':return x.onBackspace(y);case 'delete':case 'delete-word':case 'delete-to-end-of-block':return x.onDelete(y);default:return null;}},insertSoftNewline:function(y){var z=l.insertText(y.getCurrentContent(),y.getSelection(),w,y.getCurrentInlineStyle(),null);return m.push(y,z,'insert-characters');},onBackspace:function(y){var z=y.getSelection();if(!z.isCollapsed()||z.getAnchorOffset()||z.getFocusOffset())return null;var aa=y.getCurrentContent(),ba=z.getStartKey(),ca=aa.getBlockAfter(ba);if(ca&&aa.getBlockForKey(ba).getLength()===0)return null;var da=aa.getBlockBefore(ba);if(da&&da.getType()===p){var ea=z.merge({anchorKey:da.getKey(),anchorOffset:0}),fa=l.setBlockType(aa,ea,aa.getBlockForKey(ba).getType()),ga=l.removeRange(fa,ea,'backward');if(ga!==aa)return m.push(y,ga,'remove-range');}var ha=x.tryToRemoveBlockStyle(y);if(ha)return m.push(y,ha,'change-block-type');return null;},onDelete:function(y){var z=y.getSelection();if(!z.isCollapsed())return null;var aa=y.getCurrentContent(),ba=z.getStartKey(),ca=aa.getBlockForKey(ba),da=ca.getLength();if(z.getStartOffset()<da)return null;var ea=aa.getBlockAfter(ba);if(!ea||ea.getType()!==p)return null;if(da===0){var fa=z.merge({focusKey:ea.getKey(),focusOffset:0}),ga=l.removeRange(aa,fa,'forward'),ha=l.setBlockType(ga,ga.getSelectionAfter(),p);return m.push(y,ha,'remove-range');}var ia=z.merge({focusKey:ea.getKey(),focusOffset:ea.getLength()}),ja=l.removeRange(aa,ia,'forward');if(ja!==aa)return m.push(y,ja,'remove-range');return null;},onTab:function(event,y,z){var aa=y.getSelection(),ba=aa.getAnchorKey();if(ba!==aa.getFocusKey())return y;var ca=y.getCurrentContent(),da=ca.getBlockForKey(ba),ea=da.getType();if(ea!==r&&ea!==q)return y;event.preventDefault();var fa=ca.getBlockBefore(ba),ga=z;if(event.shiftKey){if(da.getDepth()===0)return y;}else{if(!fa||da.getDepth()===z)return y;var ha=fa.getType();if(ha!==r&&ha!==q)return y;ga=Math.min(fa.getDepth()+1,z);}var ia=n(ca,aa,event.shiftKey?-1:1,ga);return m.push(y,ia,'adjust-depth');},toggleBlockType:function(y,z){var aa=y.getSelection(),ba=aa.getStartKey(),ca=aa.getEndKey(),da=y.getCurrentContent(),ea=da.getBlockMap().skipWhile(function(ga,ha){return ha!==ba;}).takeWhile(function(ga,ha){return ha!==ca;}).some(function(ga){return ga.getType()===p;});if(ea)return y;var fa=da.getBlockForKey(ba).getType()===z?o:z;return m.push(y,l.setBlockType(da,aa,fa),'change-block-type');},toggleCode:function(y){var z=y.getSelection(),aa=z.getAnchorKey(),ba=z.getFocusKey();if(z.isCollapsed()||aa!==ba)return x.toggleBlockType(y,s);return x.toggleInlineStyle(y,i.CODE);},toggleInlineStyle:function(y,z){var aa=y.getSelection(),ba=y.getCurrentInlineStyle();if(aa.isCollapsed())return m.set(y,{inlineStyleOverride:ba^z});var ca=y.getCurrentContent(),da;if(ba&z){da=l.removeInlineStyle(ca,aa,z);}else da=l.applyInlineStyle(ca,aa,z);return m.push(y,da,'change-inline-style');},toggleLink:function(y,z,aa){var ba=l.applyEntity(y.getCurrentContent(),z,aa);return m.push(y,ba,'apply-entity');},tryToRemoveBlockStyle:function(y){var z=y.getSelection(),aa=z.getAnchorOffset();if(z.isCollapsed()&&aa===0){var ba=z.getAnchorKey(),ca=y.getCurrentContent(),da=ca.getBlockForKey(ba);if(da.getLength()>0)return null;var ea=da.getType();if(ea!==o&&ea!==s)return l.setBlockType(ca,z,o);}return null;}};f.exports=x;},null);
__d('createCharacterList',['CharacterMetadata','immutable'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=i.List;function k(l,m){var n=l.map(function(o,p){var q=m[p];return h.create({style:o,entity:q});});return j(n);}f.exports=k;},null);
__d('decodeEntityRanges',['UnicodeUtils','fillArray'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=h.substr;function k(l,m){var n=i(l.length,null);if(m)m.forEach(function(o){var p=j(l,0,o.offset).length,q=p+j(l,o.offset,o.length).length;for(var r=p;r<q;r++)n[r]=o.key;});return n;}f.exports=k;},null);
__d('decodeInlineStyleRanges',['ComposedInlineStyle','UnicodeUtils','fillArray'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=i.substr,l=h.NONE;function m(n,o){var p=j(n.length,l);if(o)o.forEach(function(q){var r=k(n,0,q.offset).length,s=r+k(n,q.offset,q.length).length;while(r<s){p[r]|=q.style;r++;}});return p;}f.exports=m;},null);
__d('decodeBlocks',['ContentBlock','DraftEntity','createCharacterList','decodeEntityRanges','decodeInlineStyleRanges','generateBlockKey'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();function n(o,p){var q={};Object.keys(p).forEach(function(r){var s=p[r];if(s){var t=i.add(s);q[r]=t;}});return o.map(function(r){var s=r.type,t=r.text,u=r.depth||0,v=l(r.text,r.inlineStyleRanges),w;if(r.entityRanges)w=r.entityRanges.filter(function(y){return q.hasOwnProperty(y.key);}).map(function(y){y.key=q[y.key];return y;});var x=k(r.text,w);return new h({key:r.key||m(),type:s,text:t,depth:u,characterList:j(v,x)});});}f.exports=n;},null);
__d('RichMediaEditorTextEditor.react',['AbstractTextEditor.react','colr','ComposedInlineStyle','ContentState','EditorState','React','RichTextEditorUtil','RichMediaEditorColorInput.react','RichMediaRichFormatText','XUISelector.react','cx','decodeBlocks','encodeBlocks'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u=q.Option,v=j.BOLD,w=j.ITALIC,x=j.UNDERLINE,y=m.PropTypes,z=m.createClass({displayName:'StyleButton',propTypes:{active:y.number.isRequired,label:y.string.isRequired,style:y.number.isRequired,onToggle:y.func.isRequired},_onToggle:function(la){la.preventDefault();this.props.onToggle(this.props.style);},render:function(){var la=this.props.style;return (m.createElement('div',{className:"_1fp0"+(la&v?' '+"_v1g":'')+(la&w?' '+"_v1n":'')+(la&x?' '+"_v1o":'')+(this.props.active?' '+"_v1p":''),onClick:this._onToggle},this.props.label));}}),aa=[{label:'B',style:v},{label:'I',style:w},{label:'U',style:x}],ba=m.createClass({displayName:'InlineStyleControls',propTypes:{editorState:y.object.isRequired,onToggle:y.func.isRequired},render:function(){var la=this.props.editorState.getCurrentInlineStyle();return (m.createElement('div',{className:"_v1q"},aa.map((function(ma){return (m.createElement(z,{active:la&ma.style,key:ma.style,label:ma.label,style:ma.style,onToggle:this.props.onToggle}));}).bind(this))));}}),ca=m.createClass({displayName:'TextAlignmentButton',propTypes:{active:y.bool.isRequired,textAlignment:y.string.isRequired,onToggle:y.func.isRequired},_onToggle:function(la){la.preventDefault();this.props.onToggle(this.props.textAlignment);},render:function(){return (m.createElement('div',{className:"_1fp0"+(this.props.active?' '+"_v1p":''),onClick:this._onToggle},m.createElement('div',{className:(this.props.textAlignment==='left'?"_1fp1":'')+(this.props.textAlignment=='center'?' '+"_1fp2":'')+(this.props.textAlignment=='right'?' '+"_1fp3":'')})));}}),da=['left','center','right'],ea=m.createClass({displayName:'TextAlignmentControls',propTypes:{textAlignment:y.string.isRequired,onToggle:y.func.isRequired},render:function(){return (m.createElement('div',{className:"_v1q"},da.map((function(la){return (m.createElement(ca,{active:this.props.textAlignment===la,key:la,textAlignment:la,onToggle:this.props.onToggle}));}).bind(this))));}}),fa=6,ga=72,ha=m.createClass({displayName:'FontSizeInput',propTypes:{fontSize:y.number.isRequired,onChange:y.func.isRequired},render:function(){return (m.createElement('input',{className:"_pli",max:ga,min:fa,ref:'input',type:'number',value:this.props.fontSize,onChange:(function(event){return this._onSizeChange(event.target.value);}).bind(this)}));},_onSizeChange:function(la){var ma=parseInt(la,10);if(!isNaN(ma))this.props.onChange(ma);}}),ia=['serif','sans-serif'],ja=m.createClass({displayName:'FontFamilySelector',propTypes:{fontFamily:y.string.isRequired,onChange:y.func.isRequired},render:function(){return (m.createElement(q,{className:"_1rsy",name:'font_selector',value:this.props.fontFamily,onChange:(function(la){return this._onChange(la.value);}).bind(this)},ia.map(function(la){return (m.createElement(u,{key:la,value:la},la));})));},_onChange:function(la){this.props.onChange(la);}}),ka=m.createClass({displayName:'RichMediaEditorTextEditor',propTypes:{buttonPreview:y.bool,oneLine:y.bool,richFormatText:y.instanceOf(p).isRequired,textPreview:y.bool,onChange:y.func.isRequired},getDefaultProps:function(){return {buttonPreview:false,oneLine:false,textPreview:false};},getInitialState:function(){return {editorState:this._getEditorStateFromText(this.props.richFormatText)};},render:function(){var la=null,ma=this.state.editorState;if(!this.props.textPreview&&!this.props.buttonPreview){la=m.createElement('div',{className:"_1fp4"},m.createElement(ba,{editorState:this.state.editorState,onToggle:this._toggleInlineStyle}),m.createElement(ea,{textAlignment:this.props.richFormatText.textAlignment,onToggle:this._toggleTextAlignment}),m.createElement(o,{defaultColor:this.props.richFormatText.textColor,onChange:this._onFontColorChange}),m.createElement(ha,{fontSize:this.props.richFormatText.fontSize,onChange:this._onFontSizeChange}),m.createElement(ja,{fontFamily:this.props.richFormatText.fontFamily,onChange:this._onFontFamilyChange}));}else ma=this._getEditorStateFromText(this.props.richFormatText);var na=this.props.buttonPreview||this.props.textPreview;return (m.createElement('div',{className:(!na?"_v1r":'')+(!!this.props.textPreview?' '+"_5mmf":'')+(!!this.props.buttonPreview?' '+"_5mmg":'')+(this.props.oneLine&&!na?' '+"_1fj":'')+(!this.props.oneLine&&!na?' '+"_1fk":'')},la,m.createElement('div',{style:{transition:'background-color 325ms ease',backgroundColor:na?'transparent':this._getBackgroundColor(this.props.richFormatText.textColor),color:this.props.richFormatText.textColor,fontFamily:this.props.richFormatText.fontFamily,fontSize:this.props.richFormatText.fontSize}},m.createElement(h,{editorState:ma,handleReturn:this._handleReturn,inlineStyleFn:this._getInlineStyle,textAlignment:this.props.richFormatText.textAlignment,onChange:this._onChange}))));},_handleReturn:function(event){return true;},_getEditorStateFromText:function(la){var ma=s(la.composedText.blocks,la.composedText.entityMap),na=k.createFromBlockArray(ma);return l.createWithContent(na);},_onChange:function(la){if(this.props.preview)return;this.setState({editorState:la});this.props.onChange(this.props.richFormatText.set('composedText',t(la.getCurrentContent())));},_toggleInlineStyle:function(la){this._onChange(n.toggleInlineStyle(this.state.editorState,la));},_toggleTextAlignment:function(la){this.props.onChange(this.props.richFormatText.set('textAlignment',la));},_onFontColorChange:function(la){this.props.onChange(this.props.richFormatText.set('textColor',la));},_onFontSizeChange:function(la){this.props.onChange(this.props.richFormatText.set('fontSize',la));},_onFontFamilyChange:function(la){this.props.onChange(this.props.richFormatText.set('fontFamily',la));},_getInlineStyle:function(la){return (la&v?"_v1g":'')+(la&w?' '+"_v1n":'')+(la&x?' '+"_v1o":'');},_getBackgroundColor:function(la){var ma=i.fromHex(la).toGrayscale()/255;return ma>.5?'#000':'#FFF';}});f.exports=ka;},null);
__d('RichMediaEditorButtonElementEditPanel.react',['InputLabel.react','React','RichMediaButtonElement','RichMediaEditorColorInput.react','RichMediaEditorTextEditor.react','RichMediaRichFormatText','XUICheckboxInput.react','XUITextInput.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=i.PropTypes,r=i.createClass({displayName:'RichMediaEditorButtonElementEditPanel',propTypes:{buttonElement:q.instanceOf(j).isRequired,onEditDocumentElement:q.func.isRequired},render:function(){var s=i.createElement(l,{oneLine:true,richFormatText:this.props.buttonElement.richFormatText,onChange:this._onChangeText}),t=i.createElement(o,{value:this.props.buttonElement.link,onChange:(function(u){return this._onChangeLink(u.target.value);}).bind(this)});return (i.createElement('div',{className:"_242p"},this._renderSingleOptionRow(s,'Button Text',"_47va"),this._renderSingleOptionRow(t,'Button Link',"_47va _47vb"),i.createElement('div',{className:"_47vc"},i.createElement('div',{className:"_47vd"},i.createElement('span',null,'Button Color')),i.createElement('div',{className:"_47va _47ve"},i.createElement(k,{defaultColor:this.props.buttonElement.buttonColor,onChange:this._onChangeButtonColor})),i.createElement('div',{className:"_47vf"},i.createElement(h,null,i.createElement(n,{checked:this.props.buttonElement.isFilled,onChange:(function(u){return this._onToggleFilled(u.target.checked);}).bind(this)}),i.createElement('label',null,'Filled Button'))),i.createElement('div',{className:"_47vf"},i.createElement(h,null,i.createElement(n,{checked:this.props.buttonElement.isFixedToBottom,onChange:(function(u){return this._onToggleFixedToBottom(u.target.checked);}).bind(this)}),i.createElement('label',null,'Fix to bottom of screen'))))));},_renderSingleOptionRow:function(s,t,u){return (i.createElement('div',{className:"_47vc"},i.createElement('div',{className:"_47vd"},i.createElement('span',null,t)),i.createElement('div',{className:u},s)));},_onChangeText:function(s){this.props.onEditDocumentElement(this.props.buttonElement.set('richFormatText',s));},_onChangeLink:function(s){this.props.onEditDocumentElement(this.props.buttonElement.set('link',s));},_onChangeButtonColor:function(s){this.props.onEditDocumentElement(this.props.buttonElement.set('buttonColor',s));},_onToggleFilled:function(s){this.props.onEditDocumentElement(this.props.buttonElement.set('isFilled',s));},_onToggleFixedToBottom:function(s){this.props.onEditDocumentElement(this.props.buttonElement.set('isFixedToBottom',s));}});f.exports=r;},null);
__d("XCanvasPhotoUploadController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/canvas\/upload\/photo\/",{});},null,{});
__d('RichMediaEditorUploadRequest',['ActorURI','FileInputUploader','XCanvasPhotoUploadController','invariant'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(m){this.$RichMediaEditorUploadRequest1=m;if(this.$RichMediaEditorUploadRequest1.files)!(Object.keys(this.$RichMediaEditorUploadRequest1.files).length===1)?k(0):undefined;this.$RichMediaEditorUploadRequest2=new i(this.$RichMediaEditorUploadRequest1.fileInput);if(this.$RichMediaEditorUploadRequest1.onProgress)this.$RichMediaEditorUploadRequest2.subscribe('progress',(function(o,p){var event=p.event;if(event.lengthComputable)this.$RichMediaEditorUploadRequest1.onProgress(event.loaded/event.total*100);}).bind(this));if(this.$RichMediaEditorUploadRequest1.onSuccess)this.$RichMediaEditorUploadRequest2.subscribe('success',(function(o,p){this.$RichMediaEditorUploadRequest1.onSuccess(p);}).bind(this));if(this.$RichMediaEditorUploadRequest1.onError)this.$RichMediaEditorUploadRequest2.subscribe('error',(function(o,p){this.$RichMediaEditorUploadRequest1.onError(p);}).bind(this));var n=h.create(j.getURIBuilder().getURI(),this.$RichMediaEditorUploadRequest1.pageID);this.$RichMediaEditorUploadRequest2.setURI(n);}l.prototype.send=function(){this.$RichMediaEditorUploadRequest2.send();};f.exports=l;},null);
__d('RichMediaEditorCarouselItemEditPanel.react',['AdsXUIProgressBar.react','FileInput.react','Link.react','React','RichMediaCarouselItem','RichMediaEditorUploadRequest','XUIButton.react','XUITextInput.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=k.PropTypes,r=k.createClass({displayName:'RichMediaEditorCarouselItemEditPanel',propTypes:{carouselItem:q.instanceOf(l).isRequired,pageID:q.string.isRequired,onEditCarouselItem:q.func.isRequired},getInitialState:function(){return {isUploading:false,percentage:0,showLinkEditor:false};},render:function(){var s=this.props.carouselItem,t=null;if(this.state.isUploading){t=k.createElement('div',{className:"_esk"},k.createElement(h,{className:"_242n",max:100,min:0,striped:true,value:this.state.percentage}),k.createElement('div',{className:"_242o"},'UPLOADING'));}else if(s.photo)t=k.createElement('div',{className:"_2rv4"},k.createElement('span',null,s.name));var u=null;if(t&&(this.state.showLinkEditor||this.props.carouselItem.description||this.props.carouselItem.url))u=k.createElement('div',null,this._renderTextFieldInput('URL (Optional)','Add URL',s.link,this._onChangeLink));var v=t?'Update Image':'Upload Image';return (k.createElement('div',{className:"_242p"},t,k.createElement('div',{className:"_2rv5"},k.createElement(i,{accept:'image/*',name:'file',onChange:this._onPhotoUpload},k.createElement(n,{className:"_242m",href:'#',label:v})),k.createElement(j,{className:"_2rv6",onClick:(function(w){return this.setState({showLinkEditor:true});}).bind(this)},'Add link')),u));},_renderTextFieldInput:function(s,t,u,v){return (k.createElement('div',{className:"_2rv7"},k.createElement('div',{className:"_2rv8"},s),k.createElement(o,{className:"_2rv9",height:'tall',placeholder:t,value:u,onChange:function(w){v(w.target.value);}})));},_onPhotoUpload:function(s){if(s.target.files.length<=0)return;this.setState({isUploading:true,percentage:0});var t={fileInput:s.target,files:s.target.files,pageID:this.props.pageID,onProgress:this._onUploadProgress,onSuccess:this._onUploadSuccess,onError:this._onUploadError};new m(t).send();this.props.onEditCarouselItem(this.props.carouselItem.set('name',s.target.files[0].name));},_onUploadProgress:function(s){this.setState({percentage:s});},_onUploadSuccess:function(s){this.setState({isUploading:false});this.props.onEditCarouselItem(this.props.carouselItem.set('photo',s.response.payload.photo));},_onChangeLink:function(s){this.props.onEditCarouselItem(this.props.carouselItem.set('link',s));},_onUploadError:function(s){this.setState({isUploading:false});}});f.exports=r;},null);
__d('RichMediaEditorCarouselElementEditPanel.react',['AdsIndexedTabBar.react','Grid.react','Link.react','React','Image.react','RichMediaCarouselElement','RichMediaCarouselItem','RichMediaEditorCarouselItemEditPanel.react','XUIButton.react','XUIRadioList.react','cx','xuiglyph'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=i.GridItem,u=q.Item,v=k.PropTypes,w=[{label:'Fit to width',value:'fit_to_width'},{label:'Fit to height',value:'fit_to_height'}],x=10,y=k.createClass({displayName:'RichMediaEditorCarouselElementEditPanel',propTypes:{carouselElement:v.instanceOf(m).isRequired,onEditDocumentElement:v.func.isRequired,pageID:v.string.isRequired},getInitialState:function(){return {selectedItemIndex:0};},render:function(){return (k.createElement('div',{className:"_242p"},k.createElement('div',{className:"_242q"},'Upload up to 10 images and add individual cations and links for each, or use the same caption and link for all images.'),k.createElement(q,{selectedValue:this.props.carouselElement.layout,onValueChange:this._onChangeLayout},w.map(function(z){return (k.createElement(u,{className:"_4fmd",key:z.value,value:z.value},z.label));})),k.createElement('div',null,k.createElement(i,{cols:2},k.createElement(t,{key:'tabBar'},k.createElement(h,{numItems:this.props.carouselElement.items.length,selectedItem:this.state.selectedItemIndex,onItemSelected:this._onItemSelected})),k.createElement(t,{key:'addButton'},this._renderAddButton())),this._renderItemEditPanel())));},_renderAddButton:function(){if(this.props.carouselElement.items.length>=x)return null;return (k.createElement(p,{className:"_3-9a",image:k.createElement(l,{src:s({name:'plus',shade:'dark',size:'small'})}),onClick:this._onAddItem}));},_renderItemEditPanel:function(){if(this.props.carouselElement.items.length<=0)return null;var z=this.props.carouselElement.items,aa=z[this.state.selectedItemIndex];return (k.createElement('div',{background:'light-wash',className:"_4fme"},k.createElement(j,{onClick:this._onRemoveItem},'Remove'),k.createElement(o,{carouselItem:aa,pageID:this.props.pageID,ref:'editPanel',onEditCarouselItem:this._onEditCarouselItem})));},_getItemsCopy:function(){return this.props.carouselElement.items.map(function(z){return z;});},_onAddItem:function(){var z=this._getItemsCopy(),aa=z.length;z.push(n.createDefault(aa));this.props.onEditDocumentElement(this.props.carouselElement.set('items',z));},_onRemoveItem:function(){var z=this._getItemsCopy();z.splice(this.state.selectedItemIndex,1);for(var aa=this.state.selectedItemIndex;aa<z.length;++aa)z[aa]=z[aa].set('index',z[aa].index+1);if(this.state.selectedItemIndex>=z.length)this.setState({selectedItemIndex:z.length-1});this.props.onEditDocumentElement(this.props.carouselElement.set('items',z));},_onItemSelected:function(z){if(!this.refs.editPanel.state.isUploading)this.setState({selectedItemIndex:z});},_onEditCarouselItem:function(z){var aa=this._getItemsCopy();aa[z.index]=z;this.props.onEditDocumentElement(this.props.carouselElement.set('items',aa));},_onChangeLayout:function(z){this.props.onEditDocumentElement(this.props.carouselElement.set('layout',z));}});f.exports=y;},null);
__d('CanvasColorUtils',['Assert'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(k){var l=Math.floor(k*255/100).toString(16);if(l.length===1)l='0'+l;return l;}function j(k){h.isTrue(k.length<=2,'invalid hex string: '+k);return Math.ceil(parseInt(k,16)/255*100);}f.exports={convertColorWithOpacityToARGB:function(k){var l=k.color;h.isTrue(6===l.length,'unexpected length string: '+l);var m=i(k.opacity)+l;h.isTrue(m.length===8,'generated invalid argb: '+m);return m;},convertARGBToColorWithOpacity:function(k){h.isTrue(k.length===8,'Got argb: '+k);return {color:k.slice(2),opacity:j(k.slice(0,2))};},convertRGBtoCSSColorWithOpacity:function(k,l){h.isTrue(6===k.length,'unexpected length string: '+k);return 'rgba('+parseInt(k.slice(0,2),16)+','+parseInt(k.slice(2,4),16)+','+parseInt(k.slice(4,6),16)+','+l+')';}};},null);
__d('RichMediaEditorHeaderElementEditPanel.react',['CanvasColorUtils','colr','FileInput.react','ProgressBar.react','React','RichMediaEditorColorInput.react','RichMediaEditorUploadRequest','RichMediaHeaderElement','XUIButton.react','cx','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=l.PropTypes,t=l.createClass({displayName:'RichMediaEditorHeaderElementEditPanel',propTypes:{headerElement:s.instanceOf(o).isRequired,onEditDocumentElement:s.func.isRequired},getInitialState:function(){return {isUploading:false,percentage:0};},render:function(){var u=null,v=l.createElement(j,{accept:'image/*',name:'file',onChange:this._onHeaderImageUpload},l.createElement(p,{className:"_242m",href:'#',label:'Upload Image'}));if(this.state.isUploading){u=l.createElement('div',{className:"_esk"},l.createElement(k,{className:"_242n",max:100,min:0,size:'small',value:this.state.percentage}),l.createElement('div',{className:"_242o"},'UPLOADING'));}else if(!this.props.headerElement.photo){u=l.createElement('div',{className:"_esk"},v);}else{var w=null,x=this.props.headerElement.photo.src;if(x)w=l.createElement('img',{className:"_yn9",src:x});u=l.createElement('div',{className:"_esk"},w,v);}return (l.createElement('div',{className:"_242p"},l.createElement('div',{className:"_242q"},'Upload a logo for your Canvas. For best results images should be 120 x 44 pixels'),u,this._renderBackgroundColorSelector()));},_onHeaderImageUpload:function(u){this.setState({isUploading:true,percentage:0});var v={fileInput:u.target,files:u.target.files,pageID:this.props.pageID,onProgress:this._onUploadProgress,onSuccess:this._onUploadSuccess,onError:this._onUploadError};new n(v).send();},_onUploadProgress:function(u){this.setState({percentage:u});},_onUploadSuccess:function(u){this.setState({isUploading:false});var v=u.response.payload.photo;this.props.onEditDocumentElement(this.props.headerElement.set('photo',v));},_onUploadError:function(u){this.setState({isUploading:false});},_renderBackgroundColorSelector:function(){var u=this._getColorWithOpacityFromProps();return (l.createElement('div',{className:"_yna"},l.createElement('label',{className:"_ynb"},'Background Color:',l.createElement(m,{className:"_ynl",defaultColor:'#'+u.color,onChange:this._onChangeBackgroundColor})),l.createElement('label',{className:"_ynb"},'Opacity:',l.createElement('input',{className:"_ynl",max:'100',min:'0',type:'number',value:u.opacity,onChange:this._onOpacityChange}))));},_getColorWithOpacityFromProps:function(){var u=this.props.headerElement.backgroundColor;if(u)return h.convertARGBToColorWithOpacity(u);return {color:'FFFFFF',opacity:100};},_onChangeBackgroundColor:function(u){var v=i.fromHex(u).toHex();if(v.charAt(0)==='#')v=v.slice(1);this.props.onEditDocumentElement(this.props.headerElement.set('backgroundColor',h.convertColorWithOpacityToARGB({color:v,opacity:this._getColorWithOpacityFromProps().opacity})));},_onOpacityChange:function(u){var v=u.target;!(v instanceof HTMLInputElement)?r(0):undefined;this.props.onEditDocumentElement(this.props.headerElement.set('backgroundColor',h.convertColorWithOpacityToARGB({color:this._getColorWithOpacityFromProps().color,opacity:parseInt(v.value,10)})));}});f.exports=t;},null);
__d('RichMediaEditorPhotoElementEditPanel.react',['AdsXUIProgressBar.react','FileInput.react','Layout.react','Link.react','React','RichMediaEditorUploadRequest','RichMediaPhotoElement','XUIButton.react','XUIRadioList.react','XUITextInput.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=j.Column,t=j.FillColumn,u=p.Item,v=l.PropTypes,w=l.createClass({displayName:'RichMediaEditorPhotoElementEditPanel',propTypes:{pageID:v.string.isRequired,photoElement:v.instanceOf(n).isRequired,onEditDocumentElement:v.func.isRequired},getInitialState:function(){return {isUploading:false,percentage:0,showLinkEditor:false};},render:function(){var x=null;if(this.state.isUploading){x=l.createElement('div',{className:"_esk"},l.createElement(h,{className:"_242n",max:100,min:0,striped:true,value:this.state.percentage}),l.createElement('div',{className:"_242o"},'UPLOADING'));}else if(this.props.photoElement.photo){var y=this.props.photoElement.photo,z=y.src;if(z){var aa=y.height,ba=y.width,ca=400/(aa>ba?aa:ba);x=l.createElement('img',{height:aa*ca,src:z,width:ba*ca});}}var da=null;if(x){da=l.createElement(k,{className:"_2p17",onClick:(function(ga){return this.setState({showLinkEditor:true});}).bind(this)},'Add Link');if(this.state.showLinkEditor||this.props.photoElement.link||this.props.photoElement.description)da=l.createElement('div',{className:"_2p18"},this._renderTextFieldInput('URL (Optional)','Add URL',this.props.photoElement.link,this._onChangeLink));}var ea=[{label:'Fit to width',value:'fit_to_width'},{label:'Fit to width (expandable)',value:'expandable'},{label:'Fit to height (tilt to pan)',value:'fit_to_height'}],fa=x?'Update Image':'Upload Image';return (l.createElement('div',{className:"_242p"},l.createElement('div',{className:"_242q"},'For best results, upload an image that is at least 640 pixels wide at 72 dpi.'),l.createElement(j,null,l.createElement(s,null,l.createElement('div',{className:"_lit"},x),l.createElement('div',null,l.createElement(i,{accept:'image/*',name:'file',onChange:this._onPhotoUpload},l.createElement(o,{className:"_242m",href:'#',label:fa})),da)),l.createElement(t,null,l.createElement(p,{className:"_liu",selectedValue:this.props.photoElement.layout,onValueChange:this._onChangeLayout},ea.map(function(ga){return (l.createElement(u,{key:ga.value,value:ga.value},ga.label));}))))));},_renderTextFieldInput:function(x,y,z,aa){return (l.createElement('div',{className:"_4e2x"},l.createElement('span',{className:"_2p19"},x),l.createElement(q,{className:"_2p1a",placeholder:y,value:z,onChange:function(ba){aa(ba.target.value);}})));},_onPhotoUpload:function(x){if(x.target.files.length<=0)return;this.setState({isUploading:true,percentage:0});var y={fileInput:x.target,files:x.target.files,pageID:this.props.pageID,onProgress:this._onUploadProgress,onSuccess:this._onUploadSuccess,onError:this._onUploadError};new m(y).send();},_onUploadProgress:function(x){this.setState({percentage:x});},_onUploadSuccess:function(x){this.setState({isUploading:false});this.props.onEditDocumentElement(this.props.photoElement.set('photo',x.response.payload.photo));},_onChangeLayout:function(x){this.props.onEditDocumentElement(this.props.photoElement.set('layout',x));},_onChangeLink:function(x){this.props.onEditDocumentElement(this.props.photoElement.set('link',x));},_onUploadError:function(x){this.setState({isUploading:false});}});f.exports=w;},null);
__d('RichMediaEditorTextElementEditPanel.react',['React','RichMediaEditorTextEditor.react','RichMediaRichFormatText','RichMediaTextElement','cx'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=h.PropTypes,n=h.createClass({displayName:'RichMediaEditorTextElementEditPanel',propTypes:{textElement:m.instanceOf(k).isRequired,onEditDocumentElement:m.func.isRequired},render:function(){return (h.createElement('div',{className:"_44h6"},h.createElement(i,{richFormatText:this.props.textElement.richFormatText,onChange:this._onChange})));},_onChange:function(o){this.props.onEditDocumentElement(this.props.textElement.set('richFormatText',o));}});f.exports=n;},null);
__d("XBulkVideoUploadController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video\/bulk_upload\/",{target_id:{type:"String",required:true}});},null,{});
__d('CanvasVideoUploader',['ActorURI','AdsVideoEncodingAsyncNotifier','AsyncRequest','VideoUploader','VideoUploadFile','XBulkVideoUploadController','mixInEventEmitter'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();function o(p){this.$CanvasVideoUploader1=p;this.$CanvasVideoUploader2=this.$CanvasVideoUploader2.bind(this);this.$CanvasVideoUploader3=this.$CanvasVideoUploader3.bind(this);this.$CanvasVideoUploader4=this.$CanvasVideoUploader4.bind(this);this.$CanvasVideoUploader5=this.$CanvasVideoUploader5.bind(this);}o.prototype.upload=function(p){var q=m.getURIBuilder().setString('target_id',this.$CanvasVideoUploader1).getURI(),r=h.create(q,this.$CanvasVideoUploader1);new j(r).setHandler((function(s){var t=s.payload.video_uploader[0];t.composer_entry_point_ref='page_content_tab_canvas';this.$CanvasVideoUploader6=new k(t);this.$CanvasVideoUploader6.subscribe('upload-progressed',this.$CanvasVideoUploader4);this.$CanvasVideoUploader6.subscribe('upload-finished',this.$CanvasVideoUploader2);this.$CanvasVideoUploader6.subscribe('upload-failed',this.$CanvasVideoUploader3);this.$CanvasVideoUploader6.subscribe('post-finished',this.$CanvasVideoUploader5);this.$CanvasVideoUploader6.upload(p);}).bind(this)).send();};o.prototype.$CanvasVideoUploader4=function(event,p){var q=Math.min(p.start_offset+p.sent_bytes,p.file_size),r=100*q/p.file_size;this.emit('upload-progressed',{percentage:r});};o.prototype.$CanvasVideoUploader2=function(event,p){this.emit('upload-done',p);p.no_story=true;p.source='canvas';this.$CanvasVideoUploader6.post(p);};o.prototype.$CanvasVideoUploader3=function(event,p){this.emit('upload-error',p);};o.prototype.$CanvasVideoUploader5=function(event,p){var q=new i(p.video_id);q.setOnStatusUpdateListener(function(r){});q.setOnFailedListener((function(r){this.emit('encoding-fail');}).bind(this));q.setOnSuccessListener((function(r){this.emit('encoding-success',r);}).bind(this));q.start();};n(o,{'upload-progressed':true,'upload-done':true,'upload-fail':true,'encoding-success':true,'encoding-fail':true});f.exports=o;},null);
__d('RichMediaEditorVideoElementEditPanel.react',['AdsCanvasAPISetup','AdsVideoPlayer.react','AdsXUIProgressBar.react','BackgroundImage.react','CanvasVideoUploader','FileInput.react','Layout.react','React','RichMediaVideoElement','VideoUploadFile','XUIButton.react','XUIRadioList.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u=n.Column,v=n.FillColumn,w=s.Item,x=o.PropTypes,y=o.createClass({displayName:'RichMediaEditorVideoElementEditPanel',propTypes:{pageID:x.string.isRequired,videoElement:x.instanceOf(p).isRequired,onEditDocumentElement:x.func.isRequired},getInitialState:function(){return {isUploading:false,isEncoding:false,percentage:0};},render:function(){var z=null,aa=o.createElement(m,{accept:'video/*',name:'uploadVideo',ref:'fileInputVideo',onChange:this._onVideoFileChange},o.createElement(r,{className:"_1vh_",href:'#',label:'Upload Video'})),ba=[{label:'Fit to width',value:'fit_to_width'},{label:'Fit to height (tilt to pan)',value:'fit_to_height'}];if(this.state.isUploading||this.state.isEncoding){var ca=this.state.isEncoding?'ENCODING':'UPLOADING';z=o.createElement('div',{className:"_esk"},o.createElement(j,{className:"_242n",max:100,min:0,striped:true,value:this.state.percentage}),o.createElement('div',{className:"_242o"},ca));}else{var da=null,ea=this.props.videoElement.video;if(ea){var fa=ea.preferredThumbnail,ga=400/(ea.height>ea.width?ea.height:ea.width),ha=Math.round(ea.height*ga),ia=Math.round(ea.width*ga);da=o.createElement(i,{playerHeight:ha,playerWidth:ia,ref:'videoPlayer',videoID:ea.id},o.createElement(k,{backgroundSize:'contain',height:ha,src:fa.uri,width:ia}));}z=o.createElement('div',{className:"_esk"},o.createElement('div',{className:"_lit"},da),aa);}var ja=o.createElement(v,null,o.createElement(s,{className:"_liu",selectedValue:this.props.videoElement.layout,onValueChange:this._onChangeLayout},ba.map(function(ka){return (o.createElement(w,{key:ka.value,value:ka.value},ka.label));})));return (o.createElement('div',{className:"_242p"},o.createElement('div',{className:"_242q"},'For best results, upload an video that the resolution is at least 720p. Also we recommend using .MOV or .MP4 files with size up to 1.75GB.'),o.createElement(n,null,o.createElement(u,null,z),ja)));},_onVideoFileChange:function(event){this.setState({isUploading:true,isEncoding:false,percentage:0});h.setupGraph();var z=event.target,aa=q.fromFileInput(z),ba=new l(this.props.pageID);ba.addListener('upload-progressed',this._onUploadProgress);ba.addListener('upload-done',this._onUploadDone);ba.addListener('upload-fail',this._onUploadError);ba.addListener('encoding-success',this._onEncodingSuccess);ba.addListener('encoding-fail',this._onEncodingFail);ba.upload(aa);},_onUploadProgress:function(z){this.setState({percentage:z.percentage});},_onUploadDone:function(z){this.setState({isUploading:false,isEncoding:true,percentage:100});},_onUploadError:function(z){this.setState({isUploading:false,isEncoding:false});},_onEncodingSuccess:function(z){this.setState({isUploading:false,isEncoding:false});this.props.onEditDocumentElement(this.props.videoElement.set('video',z));},_onEncodingFail:function(z){this.setState({isUploading:false,isEncoding:false});},_onChangeLayout:function(z){this.props.onEditDocumentElement(this.props.videoElement.set('layout',z));}});f.exports=y;},null);
__d('RichMediaEditorElementsEditor.react',['InstantShoppingDocumentElementType','React','RichMediaEditorAddComponentDialog.react','RichMediaEditorDesignFormatEditPanel.react','RichMediaEditorExpandableItemEditor.react','RichMediaElementUtil','RichMediaEditorButtonElementEditPanel.react','RichMediaEditorCarouselElementEditPanel.react','RichMediaEditorHeaderElementEditPanel.react','RichMediaEditorPhotoElementEditPanel.react','RichMediaEditorTextElementEditPanel.react','RichMediaEditorVideoElementEditPanel.react','RichMediaButtonElement','RichMediaCarouselElement','RichMediaHeaderElement','RichMediaPhotoElement','RichMediaTextElement','RichMediaVideoElement','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){'use strict';if(c.__markCompiled)c.__markCompiled();var aa=i.PropTypes,ba=i.createClass({displayName:'RichMediaEditorElementsEditor',propTypes:{documentElements:aa.arrayOf(aa.object).isRequired,documentTheme:aa.string.isRequired,pageID:aa.string.isRequired,onAddDocumentElement:aa.func.isRequired,onDeleteElement:aa.func.isRequired,onEditDocumentElement:aa.func.isRequired,onMoveElementDown:aa.func.isRequired,onMoveElementUp:aa.func.isRequired,onSetDocumentTheme:aa.func.isRequired},render:function(){var ca=false;this.props.documentElements.forEach(function(da){if(da.type===h.HEADER)ca=true;});return (i.createElement('div',{className:"_3-r7"},i.createElement(j,{canAddHeader:ca,newElementIndex:this.props.documentElements.length,ref:'addComponentDialog',onAddDocumentElement:this.props.onAddDocumentElement}),i.createElement(l,{expanded:false,title:'Select a theme',onDeleteElement:this.props.onDeleteElement,onEditDocumentElement:this.props.onEditDocumentElement,onMoveElementDown:this.props.onMoveElementDown,onMoveElementUp:this.props.onMoveElementUp},i.createElement(k,{documentTheme:this.props.documentTheme,onSetDocumentTheme:this.props.onSetDocumentTheme})),this.props.documentElements.map((function(da){return this._renderElementEditor(da);}).bind(this)),i.createElement('div',{className:"_4btc"},i.createElement('span',{onClick:this._addComponent},'+ Add Component'))));},_addComponent:function(){this.refs.addComponentDialog.show();},_renderElementEditor:function(ca){var da=null;switch(ca.type){case h.RICH_TEXT:da=this._renderTextElementEditor(ca);break;case h.PHOTO:da=this._renderPhotoElementEditor(ca);break;case h.VIDEO:da=this._renderVideoElementEditor(ca);break;case h.BUTTON:da=this._renderButtonElementEditor(ca);break;case h.SLIDESHOW:da=this._renderCarouselElementEditor(ca);break;case h.HEADER:da=this._renderHeaderElementEditor(ca);break;}if(da){return (i.createElement(l,{element:ca,expanded:ca.expanded,key:ca.index+ca.expanded.toString(),title:ca.name,validationInfo:m.validateElement(ca),onDeleteElement:this.props.onDeleteElement,onEditDocumentElement:this.props.onEditDocumentElement,onMoveElementDown:this.props.onMoveElementDown,onMoveElementUp:this.props.onMoveElementUp},da));}else return null;},_renderTextElementEditor:function(ca){return (i.createElement(r,{textElement:ca,onEditDocumentElement:this.props.onEditDocumentElement}));},_renderPhotoElementEditor:function(ca){return (i.createElement(q,{pageID:this.props.pageID,photoElement:ca,onEditDocumentElement:this.props.onEditDocumentElement}));},_renderVideoElementEditor:function(ca){return (i.createElement(s,{pageID:this.props.pageID,videoElement:ca,onEditDocumentElement:this.props.onEditDocumentElement}));},_renderButtonElementEditor:function(ca){return (i.createElement(n,{buttonElement:ca,onEditDocumentElement:this.props.onEditDocumentElement}));},_renderCarouselElementEditor:function(ca){return (i.createElement(o,{carouselElement:ca,pageID:this.props.pageID,onEditDocumentElement:this.props.onEditDocumentElement}));},_renderHeaderElementEditor:function(ca){return (i.createElement(p,{headerElement:ca,pageID:this.props.pageID,onEditDocumentElement:this.props.onEditDocumentElement}));}});f.exports=ba;},null);
__d('RichMediaEditorCreator.react',['React','RichMediaEditorElementsEditor.react','cx'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l=h.createClass({displayName:'RichMediaEditorCreator',propTypes:{documentElements:k.arrayOf(k.object).isRequired,documentTheme:k.string.isRequired,pageID:k.string.isRequired,onSetDocumentTheme:k.func.isRequired,onAddDocumentElement:k.func.isRequired,onEditDocumentElement:k.func.isRequired,onMoveElementUp:k.func.isRequired,onMoveElementDown:k.func.isRequired,onDeleteElement:k.func.isRequired},render:function(){return (h.createElement('div',{className:"_5j5a"},h.createElement(i,this.props)));}});f.exports=l;},null);
__d('RichMediaDocumentPublishDialog.react',['LayerFadeOnHide','React','ReactLayeredComponentMixin','XUIDialog.react','XUIDialogBody.react','XUIDialogTitle.react','XUITextInput.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=i.PropTypes,q=600,r=i.createClass({displayName:'RichMediaDocumentPublishDialog',mixins:[j],propTypes:{documentURL:p.string,isPublished:p.bool.isRequired},getInitialState:function(){return {dialogShown:false};},show:function(){this.setState({dialogShown:true});},renderLayers:function(){var s=this.props.isPublished?'This canvas has been published':'This canvas has not been published',t=this.props.isPublished?i.createElement('div',null,i.createElement('span',{className:"_4dkc"},'Copy the canvas URL below and attach to your ad.'),i.createElement(n,{className:"_4dkd",height:'tall',value:this.props.documentURL})):i.createElement('div',null,'Canvas needs to be published before generating a URL');return {dialog:i.createElement(k,{behaviors:{LayerFadeOnHide:h},shown:this.state.dialogShown,width:q,onToggle:this._onToggle},i.createElement(m,null,s),i.createElement(l,null,t))};},render:function(){return null;},_onToggle:function(s){this.setState({dialogShown:s});}});f.exports=r;},null);
__d('AdsCanvasEditorEnums',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={SAVED:0,SAVING:1,UNSAVED:2};f.exports={SaveStateEnum:h};},null);
__d('RichMediaEditorToolbar.react',['LoadingIndicator.react','React','RichMediaDocumentPublishDialog.react','XUIButton.react','cx','getObjectValues','AdsCanvasEditorEnums'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=n.SaveStateEnum,p=i.PropTypes,q=i.createClass({displayName:'RichMediaEditorToolbar',propTypes:{documentHasError:p.bool.isRequired,documentURL:p.string.isRequired,editState:p.oneOf(m(o)),isPublished:p.bool.isRequired,previewFailed:p.bool.isRequired,saveFailed:p.bool.isRequired,onMobilePreview:p.func.isRequired,onPublishDocument:p.func.isRequired,onSaveDocument:p.func.isRequired},render:function(){var r=this.props.isPublished?i.createElement(k,{className:"_57c4",label:'Get URL',onClick:this._showDocumentURL}):null,s=this.props.isPublished?null:i.createElement(k,{className:"_57c4",disabled:this.props.editState!==o.SAVED,label:'Publish',onClick:this.props.onPublishDocument}),t=this.props.isPublished?null:i.createElement(k,{disabled:this.props.editState===o.SAVED||this.props.documentHasError,label:'Save',use:'confirm',onClick:this.props.onSaveDocument}),u=this.props.editState===o.SAVING?i.createElement('div',{className:"_4y8"},i.createElement(h,{color:'white',size:'medium'})):null;return (i.createElement('div',{className:"_57c2"},i.createElement(j,{documentURL:this.props.documentURL,isPublished:this.props.isPublished,ref:'documentPublishDialog'}),i.createElement(k,{className:"_43nb",disabled:this.props.editState!==o.SAVED&&!this.props.isPublished,label:'Preview On Mobile',onClick:this.props.onMobilePreview}),this.props.previewFailed?i.createElement('span',null,' Preview failed. Save the document first '):null,r,s,t,this.props.saveFailed?i.createElement('span',null,'Failed to save'):null,u));},_showDocumentURL:function(){this.refs.documentPublishDialog.show();}});f.exports=q;},null);
__d('RichMediaEditorTopNavigator.react',['LeftRight.react','React','RichMediaEditorToolbar.react','cx'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=i.PropTypes,m=i.createClass({displayName:'RichMediaEditorTopNavigator',propTypes:{documentHasError:l.bool.isRequired,documentName:l.string.isRequired,documentURL:l.string.isRequired,editState:l.any.isRequired,isPublished:l.bool.isRequired,previewFailed:l.bool.isRequired,saveFailed:l.bool.isRequired,onPublishDocument:l.func.isRequired,onSaveDocument:l.func.isRequired,onSetDocumentName:l.func.isRequired},render:function(){return (i.createElement('div',{className:"_1wv1"},i.createElement(h,null,i.createElement('div',{className:"_26x8"},i.createElement('input',{type:'text',value:this.props.documentName,onChange:(function(n){return this.props.onSetDocumentName(n.target.value);}).bind(this)})),i.createElement(j,{documentHasError:this.props.documentHasError,documentURL:this.props.documentURL,editState:this.props.editState,isPublished:this.props.isPublished,previewFailed:this.props.previewFailed,saveFailed:this.props.saveFailed,onMobilePreview:this.props.onMobilePreview,onPublishDocument:this.props.onPublishDocument,onSaveDocument:this.props.onSaveDocument}))));}});f.exports=m;},null);
__d('RichMediaButtonElementPreview.react',['React','RichMediaEditorTextEditor.react','RichMediaButtonElement','cx'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes,m=h.createClass({displayName:'RichMediaButtonElementPreview',PropTypes:{buttonElement:l.instanceOf(j).isRequired},render:function(){var n=this.props.buttonElement.isFilled?{background:this.props.buttonElement.buttonColor}:{border:'solid 2px '+this.props.buttonElement.buttonColor};return (h.createElement('div',{className:"_6w5",style:n},h.createElement(i,{buttonPreview:true,richFormatText:this.props.buttonElement.richFormatText,onChange:function(o){return o;}})));}});f.exports=m;},null);
__d('RichMediaPreviewConstants',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={DEVICE_HEIGHT:532,DEVICE_WIDTH:282};},null);
__d('RichMediaCarouselItemPreview.react',['React','RichMediaCarouselItem','RichMediaPreviewConstants','cx'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes,m=j.DEVICE_HEIGHT,n=h.createClass({displayName:'RichMediaCarouselItemPreview',PropTypes:{carouselItme:l.instanceOf(i).isRequired},render:function(){var o=this.props.carouselItem.photo;if(o&&o.src)return (h.createElement('div',{className:"_1sce"},h.createElement('img',{height:m,src:o.src})));return (h.createElement('div',null,h.createElement('div',{className:"_49qc"},h.createElement('img',{src:'/images/ads/rich_media/photo_placeholder.png'}))));}});f.exports=n;},null);
__d('RichMediaCarouselElementPreview.react',['React','RichMediaCarouselElement','RichMediaCarouselItemPreview.react','RichMediaPreviewConstants','cx'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=h.PropTypes,n=k.DEVICE_HEIGHT,o=k.DEVICE_WIDTH,p=h.createClass({displayName:'Track',PropTypes:{currentSlide:m.number.isRequired,slideHeight:m.number.isRequired,slideWidth:m.number.isRequired,swipeOffset:m.number},render:function(){var t=500,u=h.Children.count(this.props.children),v=-this.props.slideWidth*this.props.currentSlide;if(this.props.swipeOffset)v+=this.props.swipeOffset;var w={height:this.props.slideHeight,width:(u+2)*this.props.slideWidth,WebkitTransform:'translate3d('+v+'px, 0px, 0px)',transform:'translate3d('+v+'px, 0px, 0px)',msTransform:'translateX('+v+'px)',WebkitTransition:'-webkit-transform '+t+'ms ease',transition:'transform '+t+'ms ease'};return (h.createElement('div',{style:w},h.Children.map(this.props.children,(function(x,y){return (h.createElement('div',{key:y,style:{display:'inline-block',width:this.props.slideWidth,height:this.props.slideHeight,position:'relative'}},x));}).bind(this))));}}),q=h.createClass({displayName:'Indicator',PropTypes:{currentSlide:m.number.isRequired,changeSlideHandler:m.func.isRequired},render:function(){return (h.createElement('ul',{className:"_5p-t"},this.props.children.map((function(t,u){return (h.createElement('li',{key:u},h.createElement('div',{className:"_5p-w"+(u===this.props.currentSlide?' '+"_5p-x":'')+(u!==this.props.currentSlide?' '+"_5p-y":''),onClick:(function(v){return this.props.changeSlideHandler(u);}).bind(this)})));}).bind(this))));}}),r=h.createClass({displayName:'Slider',PropTypes:{slideHeight:m.number.isRequired,slideWidth:m.number.isRequired},getInitialState:function(){return {currentSlide:0,dragging:false,touchObject:null,swipeOffset:0};},render:function(){return (h.createElement('div',{onMouseDown:this._swipeStart,onMouseLeave:this.state.dragging?this._swipeEnd:null,onMouseMove:this.state.dragging?this._swipeMove:null,onMouseUp:this._swipeEnd},h.createElement(p,{currentSlide:this.state.currentSlide,slideHeight:this.props.slideHeight,slideWidth:this.props.slideWidth,swipeOffset:this.state.swipeOffset},this.props.children),h.createElement(q,{changeSlideHandler:this._changeSlideHandler,currentSlide:this.state.currentSlide},this.props.children)));},_changeSlideHandler:function(t){if(t>=0&&t<this.props.children.length)this.setState({currentSlide:t});},_swipeStart:function(event){var t=event.touches!==undefined?event.touches[0].pageX:event.clientX,u=event.touches!==undefined?event.touches[0].pageY:event.clientY;this.setState({dragging:true,touchObject:{startX:t,startY:u,curX:t,curY:u}});},_swipeMove:function(event){if(!this.state.dragging)return;var t=this.state.touchObject;t.curX=event.touches?event.touches[0].pageX:event.clientX;t.curY=event.touches?event.touches[0].pageY:event.clientY;this.setState({touchObject:t,swipeOffset:t.curX-t.startX});event.preventDefault();},_swipeEnd:function(event){var t=50;if(!this.state.dragging)return;var u=this.state.currentSlide,v=this.state.touchObject;if(v.curX-v.startX>t){u--;}else if(v.curX-v.startX<-t)u++;if(u<0){u=0;}else if(u>=this.props.children.length)u=this.props.children.length-1;this.setState({currentSlide:u,dragging:false,swipeOffset:0,touchObject:{}});}}),s=h.createClass({displayName:'RichMediaCarouselElementPreview',PropTypes:{carouselElement:m.instanceOf(i).isRequired},render:function(){if(this.props.carouselElement.items.length>0)return (h.createElement('div',{className:"_5p-z"},h.createElement(r,{slideHeight:n,slideWidth:o},this.props.carouselElement.items.map((function(t){return (h.createElement(j,{carouselItem:t,key:this.props.carouselElement.index+'-'+t.index}));}).bind(this)))));return (h.createElement('div',null,h.createElement('div',{className:"_49qc"},h.createElement('img',{src:'/images/ads/rich_media/photo_placeholder.png'}))));}});f.exports=s;},null);
__d('RichMediaHeaderElementPreview.react',['CanvasColorUtils','React','RichMediaHeaderElement','cx','decodeBlocks'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=i.PropTypes,n=i.createClass({displayName:'RichMediaHeaderElementPreview',PropTypes:{headerElement:m.instanceOf(j).isRequired},render:function(){var o=44;if(this.props.headerElement.photo){var p=this.props.headerElement.photo,q=p.height/o,r=null;if(this.props.headerElement.backgroundColor){var s=h.convertARGBToColorWithOpacity(this.props.headerElement.backgroundColor),t=h.convertRGBtoCSSColorWithOpacity(s.color,s.opacity/100),u=h.convertRGBtoCSSColorWithOpacity(s.color,0);r={background:'-webkit-gradient(linear, 0 0, 0 bottom, from('+t+'), to('+u+'))'};}return (i.createElement('div',{className:"_5o5u",style:r},i.createElement('img',{className:"_5o5y",height:o,src:p.src,width:p.width/q})));}else if(this.props.headerElement.composedText){var v=this._getPlainTextFromComposedText(this.props.headerElement.composedText);return (i.createElement('div',{className:"_5o5u"},i.createElement('div',{className:"_5o5y"},i.createElement('span',{className:"_5o5z"},v))));}return null;},_getPlainTextFromComposedText:function(o){var p=l(o.blocks,o.entityMap);return p.map(function(q){return q.text;}).join();}});f.exports=n;},null);
__d('RichMediaPhotoElementPreview.react',['React','RichMediaPhotoElement','RichMediaPreviewConstants','cx'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes,m=j.DEVICE_WIDTH,n=j.DEVICE_HEIGHT,o=h.createClass({displayName:'RichMediaPhotoElementPreview',PropTypes:{photoElement:l.instanceOf(i).isRequired},render:function(){var p=this.props.photoElement;if(p.photo){var q=p.photo,r=q.src;if(r){var s=0,t=0;if(p.layout=='fit_to_height'){s=n;t=q.width*n/q.height;}else{t=m;s=q.height*m/q.width;}var u=s>n?n:s,v=t>m?m:t,w=(v-t)/2,x={height:u,width:v,overflow:'hidden'},y={position:'relative',left:w};return (h.createElement('div',{style:x},h.createElement('img',{height:s,src:r,style:y,width:t})));}}return (h.createElement('div',null,h.createElement('div',{className:"_49qc"},h.createElement('img',{src:'/images/ads/rich_media/photo_placeholder.png'}))));}});f.exports=o;},null);
__d('RichMediaTextElementPreview.react',['React','RichMediaEditorTextEditor.react','RichMediaTextElement'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l=h.createClass({displayName:'RichMediaTextElementPreview',PropTypes:{textElement:k.instanceOf(j).isRequired},render:function(){return (h.createElement(i,{richFormatText:this.props.textElement.richFormatText,textPreview:true,onChange:function(m){return m;}}));}});f.exports=l;},null);
__d('RichMediaVideoElementPreview.react',['AdsVideoPlayer.react','BackgroundImage.react','React','RichMediaVideoElement','RichMediaPreviewConstants','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=j.PropTypes,o=l.DEVICE_WIDTH,p=l.DEVICE_HEIGHT,q=j.createClass({displayName:'RichMediaVideoElementPreview',PropTypes:{videoElement:n.instanceOf(k).isRequired},render:function(){var r=this.props.videoElement;if(r.video){var s=r.video,t=s.preferredThumbnail,u=0,v=0;if(r.layout=='fit_to_height'){v=p;u=Math.round(s.width*p/s.height);}else{u=o;v=Math.round(s.height*o/s.width);}var w=v>p?p:v,x=u>o?o:u,y=(x-u)/2,z={height:w,width:x,overflow:'hidden',position:'relative'},aa={position:'relative',left:y},ba={height:w,width:x,opacity:0,top:0,left:0,position:'absolute',zIndex:'2'};return (j.createElement('div',{style:z},j.createElement(h,{autoPlay:false,playerHeight:v,playerWidth:u,ref:'videoPlayer',showControls:true,videoID:s.id},j.createElement(i,{backgroundSize:'contain',height:v,src:t.uri,style:aa,width:u})),j.createElement('div',{style:ba})));}return (j.createElement('div',null,j.createElement('div',{className:"_49qc"},j.createElement('img',{src:'/images/ads/rich_media/video_placeholder.png'}))));}});f.exports=q;},null);
__d('RichMediaPreviewCanvas.react',['InstantShoppingDocumentElementType','React','RichMediaButtonElement','RichMediaButtonElementPreview.react','RichMediaCarouselElement','RichMediaCarouselElementPreview.react','RichMediaHeaderElement','RichMediaHeaderElementPreview.react','RichMediaPhotoElement','RichMediaPhotoElementPreview.react','RichMediaTextElement','RichMediaTextElementPreview.react','RichMediaVideoElement','RichMediaVideoElementPreview.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){'use strict';if(c.__markCompiled)c.__markCompiled();var w=i.PropTypes,x=i.createClass({displayName:'RichMediaPreviewCanvas',propTypes:{documentElements:w.arrayOf(w.object).isRequired,documentTheme:w.string.isRequired},render:function(){return (i.createElement('div',{className:"_48ci",style:{background:'#'+this.props.documentTheme.substr(2)}},this.props.documentElements.map((function(y){return this._renderElementPreview(y);}).bind(this))));},_renderElementPreview:function(y){var z=null;switch(y.type){case h.BUTTON:z=this._renderButtonElementPreview(y);break;case h.SLIDESHOW:z=this._renderCaourselElementPreview(y);break;case h.HEADER:z=this._renderHeaderElementPreview(y);break;case h.PHOTO:z=this._renderPhotoElementPreview(y);break;case h.VIDEO:z=this._renderVideoElementPreview(y);break;case h.RICH_TEXT:z=this._renderTextElementPreview(y);break;}return z;},_renderButtonElementPreview:function(y){return (i.createElement(k,{buttonElement:y,key:y.index}));},_renderCaourselElementPreview:function(y){return (i.createElement(m,{carouselElement:y,key:y.index}));},_renderHeaderElementPreview:function(y){return (i.createElement(o,{headerElement:y,key:y.index}));},_renderPhotoElementPreview:function(y){return (i.createElement(q,{key:y.index,photoElement:y}));},_renderVideoElementPreview:function(y){return (i.createElement(u,{key:y.index,videoElement:y}));},_renderTextElementPreview:function(y){return (i.createElement(s,{key:y.index,textElement:y}));},_getFrontColorStyle:function(){return (this.props.documentTheme==='light'?"_3-dr":'')+(this.props.documentTheme==='dark'?' '+"_3-ds":'');},_getBackColorStyle:function(){return (this.props.documentTheme==='dark'?"_3-dt":'')+(this.props.documentTheme==='light'?' '+"_3-du":'');},_getInverseBackColorStyle:function(){return (this.props.documentTheme==='light'?"_3-dt":'')+(this.props.documentTheme==='dark'?' '+"_3-du":'');}});f.exports=x;},null);
__d('RichMediaPreview.react',['React','RichMediaPreviewCanvas.react','cx'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l=h.createClass({displayName:'RichMediaPreview',propTypes:{documentTheme:k.string.isRequired,documentElements:k.arrayOf(k.object).isRequired},render:function(){return (h.createElement('div',{className:"_2bua"},h.createElement('div',{className:"_2bub"},h.createElement(i,this.props))));}});f.exports=l;},null);
__d('AdsCanvasEditor.react',['Layout.react','React','RichMediaEditorCreator.react','RichMediaEditorTopNavigator.react','RichMediaElementUtil','RichMediaPreview.react','getObjectValues','AdsCanvasEditorEnums'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=h.Column,q=h.FillColumn,r=o.SaveStateEnum,s=i.PropTypes,t=i.createClass({displayName:'AdsCanvasEditor',propTypes:{documentElements:s.arrayOf(s.object).isRequired,documentName:s.string.isRequired,documentTheme:s.string.isRequired,documentURL:s.string.isRequired,editState:s.oneOf(n(r)),isPublished:s.bool.isRequired,pageID:s.string.isRequired,previewFailed:s.bool.isRequired,saveFailed:s.bool.isRequired,onAddDocumentElement:s.func.isRequired,onDeleteElement:s.func.isRequired,onEditDocumentElement:s.func.isRequired,onMobilePreview:s.func.isRequired,onMoveElementDown:s.func.isRequired,onMoveElementUp:s.func.isRequired,onPublishDocument:s.func.isRequired,onSaveDocument:s.func.isRequired,onSetDocumentName:s.func.isRequired,onSetDocumentTheme:s.func.isRequired},render:function(){return (i.createElement('div',null,i.createElement(k,{documentHasError:this._documentHasError(),documentName:this.props.documentName,documentURL:this.props.documentURL,editState:this.props.editState,isPublished:this.props.isPublished,previewFailed:this.props.previewFailed,saveFailed:this.props.saveFailed,onMobilePreview:this.props.onMobilePreview,onPublishDocument:this.props.onPublishDocument,onSaveDocument:this.props.onSaveDocument,onSetDocumentName:this.props.onSetDocumentName}),i.createElement(h,null,i.createElement(q,null,i.createElement(j,{documentElements:this.props.documentElements,documentTheme:this.props.documentTheme,pageID:this.props.pageID,onAddDocumentElement:this.props.onAddDocumentElement,onDeleteElement:this.props.onDeleteElement,onEditDocumentElement:this.props.onEditDocumentElement,onMoveElementDown:this.props.onMoveElementDown,onMoveElementUp:this.props.onMoveElementUp,onSetDocumentTheme:this.props.onSetDocumentTheme})),i.createElement(p,null,i.createElement(m,{documentElements:this.props.documentElements,documentTheme:this.props.documentTheme})))));},_documentHasError:function(){var u=this.props.documentElements;for(var v=0;v<u.length;++v){var w=l.validateElement(u[v]);if(!w.isValid)return true;}return false;}});f.exports=t;},null);
__d('RichMediaEditorActionTypes',['keyMirror'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=h({SET_DOCUMENT_NAME:true,SET_DOCUMENT_THEME:true,ADD_DOCUMENT_ELEMENT:true,EDIT_DOCUMENT_ELEMENT:true,MOVE_ELEMENT_UP:true,MOVE_ELEMENT_DOWN:true,DELETE_ELEMENT:true,CREATE_DEFAULT_DOCUMENT:true,RESET_DOCUMENT:true});},null);
__d('RichMediaEditorDispatcher',['ReactDispatcher'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j;'use strict';i=babelHelpers.inherits(k,h);j=i&&i.prototype;function k(){j.constructor.call(this);this.dispatch=this.dispatch.bind(this);}f.exports=new k();},null);
__d('RichMediaEditorActions',['RichMediaEditorActionTypes','RichMediaEditorDispatcher'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports={setDocumentName:function(j){i.dispatch({data:{name:j},type:h.SET_DOCUMENT_NAME});},setDocumentTheme:function(j){i.dispatch({data:{theme:j},type:h.SET_DOCUMENT_THEME});},addDocumentElement:function(j){i.dispatch({data:{element:j},type:h.ADD_DOCUMENT_ELEMENT});},editDocumentElement:function(j){i.dispatch({data:{element:j},type:h.EDIT_DOCUMENT_ELEMENT});},moveElementUp:function(j){i.dispatch({data:{element:j},type:h.MOVE_ELEMENT_UP});},moveElementDown:function(j){i.dispatch({data:{element:j},type:h.MOVE_ELEMENT_DOWN});},deleteElement:function(j){i.dispatch({data:{element:j},type:h.DELETE_ELEMENT});},createDefaultDocument:function(){i.dispatch({data:{},type:h.CREATE_DEFAULT_DOCUMENT});},resetDocument:function(){i.dispatch({data:{},type:h.RESET_DOCUMENT});}};},null);
__d('RichMediaEditorStore',['FluxStore','InstantShoppingDocumentElementType','RichMediaDocumentThemeConstants','RichMediaEditorActionTypes','RichMediaEditorDispatcher','RichMediaButtonElement','RichMediaHeaderElement','RichMediaPhotoElement'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p,q;'use strict';var r=j.LIGHT;p=babelHelpers.inherits(s,h);q=p&&p.prototype;function s(){q.constructor.call(this,l);this.$RichMediaEditorStore1='';this.$RichMediaEditorStore2=r;this.$RichMediaEditorStore3=[];}s.prototype.__onDispatch=function(t){var u=t.data;switch(t.type){case k.SET_DOCUMENT_NAME:this.$RichMediaEditorStore1=u.name;this.__emitChange();break;case k.SET_DOCUMENT_THEME:this.$RichMediaEditorStore2=u.theme;this.__emitChange();break;case k.ADD_DOCUMENT_ELEMENT:if(u.element.type===i.HEADER){var v=this.$RichMediaEditorStore3;for(var w=0;w<v.length;++w)v[w]=v[w].set('index',w+1);v.unshift(u.element.set('index',0));}else this.$RichMediaEditorStore3.push(u.element);this.__emitChange();break;case k.EDIT_DOCUMENT_ELEMENT:this.$RichMediaEditorStore3[u.element.index]=u.element;this.__emitChange();break;case k.MOVE_ELEMENT_UP:if(u.element.index>0){v=this.$RichMediaEditorStore3;var x=u.element.index,y=v[x].set('index',x-1),z=v[x-1].set('index',x);if(z.type!==i.HEADER){v[x]=z;v[x-1]=y;}this.__emitChange();}break;case k.MOVE_ELEMENT_DOWN:if(u.element.index<this.$RichMediaEditorStore3.length-1&&u.element.type!==i.HEADER){v=this.$RichMediaEditorStore3;x=u.element.index;y=v[x];var aa=v[x+1];v[x]=aa.set('index',x);v[x+1]=y.set('index',x+1);this.__emitChange();}break;case k.DELETE_ELEMENT:v=this.$RichMediaEditorStore3;x=u.element.index;v.splice(x,1);for(w=x;w<v.length;++w)v[w]=v[w].set('index',w);this.__emitChange();break;case k.CREATE_DEFAULT_DOCUMENT:this.$RichMediaEditorStore1='New Document';this.$RichMediaEditorStore3=[n.createDefault(0),o.createDefault(1),m.createDefault(2)];this.__emitChange();break;case k.RESET_DOCUMENT:this.$RichMediaEditorStore1='';this.$RichMediaEditorStore2=r;this.$RichMediaEditorStore3=[];this.__emitChange();break;}};s.prototype.getDocumentName=function(){return this.$RichMediaEditorStore1;};s.prototype.getDocumentTheme=function(){return this.$RichMediaEditorStore2;};s.prototype.getDocumentElements=function(){return this.$RichMediaEditorStore3;};f.exports=new s(l);},null);
__d("XMobileCanvasAdPreviewController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/canvas_preview\/",{node_id:{type:"String",required:true},is_id_encoded:{type:"Bool",defaultValue:false},__asyncDialog:{type:"Int"}});},null,{});
__d('AdsCanvasEditorContainer.react',['AdsCanvasEditor.react','AsyncRequest','InstantShoppingDocumentElementType','React','RichMediaButtonElement','RichMediaCarouselElement','RichMediaDocumentThemeConstants','RichMediaEditorActions','RichMediaEditorStore','RichMediaHeaderElement','RichMediaPhotoElement','RichMediaTextElement','RichMediaVideoElement','XMobileCanvasAdPreviewController','AdsCanvasEditorEnums'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){'use strict';if(c.__markCompiled)c.__markCompiled();var w=v.SaveStateEnum,x=k.PropTypes,y=n.LIGHT,z=k.createClass({displayName:'AdsCanvasEditorContainer',propTypes:{accessToken:x.string,adsCanvasBackgroundColor:x.string,adsCanvasElementPayload:x.string,adsCanvasID:x.string,adsCanvasIsPublished:x.bool.isRequired,adsCanvasName:x.string,adsCanvasURL:x.string.isRequired,pageID:x.string.isRequired,onPublishCanvas:x.func.isRequired,onSaveCanvas:x.func.isRequired},getInitialState:function(){return {documentName:'',documentTheme:y,documentElements:[],previewFailed:false,pageID:'',isPublished:false,editState:w.SAVED,saveFailed:false};},componentDidMount:function(){p.addListener(this._onEditorStoreUpdate);if(this.props.adsCanvasID){o.resetDocument();if(this.props.adsCanvasName)o.setDocumentName(this.props.adsCanvasName);if(this.props.adsCanvasBackgroundColor)o.setDocumentTheme(this.props.adsCanvasBackgroundColor);if(this.props.adsCanvasElementPayload)this._loadElementsFromJSONPayload(this.props.adsCanvasElementPayload);}else o.createDefaultDocument();},render:function(){return (k.createElement(h,{documentElements:this.state.documentElements,documentName:this.state.documentName,documentTheme:this.state.documentTheme,documentURL:this.props.adsCanvasURL,editState:this.state.editState,isPublished:this.props.adsCanvasIsPublished,pageID:this.props.pageID,previewFailed:this.state.previewFailed,saveFailed:this.state.saveFailed,onAddDocumentElement:this._onAddDocumentElement,onDeleteElement:this._onDeleteElement,onEditDocumentElement:this._onEditDocumentElement,onMobilePreview:this._mobilePreview,onMoveElementDown:this._onMoveElementDown,onMoveElementUp:this._onMoveElementUp,onPublishDocument:this.props.onPublishCanvas,onSaveDocument:this._saveDocument,onSetDocumentName:this._onSetDocumentName,onSetDocumentTheme:this._onSetDocumentTheme}));},_onEditorStoreUpdate:function(){if(this.isMounted())this.setState(this._getDocumentStateFromStore());},_getDocumentStateFromStore:function(){return {documentName:p.getDocumentName(),documentTheme:p.getDocumentTheme(),documentElements:p.getDocumentElements()};},_saveDocument:function(){this.setState({editState:w.SAVING});this.props.onSaveCanvas(this.props.adsCanvasID,this.state.documentName,false,this.state.documentTheme,JSON.stringify(this.state.documentElements),(function(){return this.setState({saveFailed:false});}).bind(this),(function(){return this.setState({editState:w.UNSAVED,saveFailed:true});}).bind(this),(function(){return this.setState({editState:w.SAVED,saveFailed:false});}).bind(this));},_publishDocument:function(){this.setState({editState:w.SAVING});this.props.onPublishCanvas((function(){return this.setState({editState:w.SAVED,saveFailed:false});}).bind(this),(function(){return this.setState({editState:w.UNSAVED,saveFailed:true});}).bind(this));},_mobilePreview:function(){if(!this.props.adsCanvasID){this.setState({previewFailed:true});return;}var aa=u.getURIBuilder().setString('node_id',this.props.adsCanvasID).setBool('is_id_encoded',false).getURI(),ba=new i().setURI(aa);ba.send();},_onSetDocumentName:function(aa){o.setDocumentName(aa);this.setState({editState:w.UNSAVED});},_onSetDocumentTheme:function(aa){o.setDocumentTheme(aa);this.setState({editState:w.UNSAVED});},_onAddDocumentElement:function(aa){o.addDocumentElement(aa);this.setState({editState:w.UNSAVED});},_onEditDocumentElement:function(aa){var ba=this.state.documentElements[aa.index];if(ba!=aa&&ba.expanded===aa.expanded)this.setState({editState:w.UNSAVED});o.editDocumentElement(aa);},_onMoveElementUp:function(aa){o.moveElementUp(aa);this.setState({editState:w.UNSAVED});},_onMoveElementDown:function(aa){o.moveElementDown(aa);this.setState({editState:w.UNSAVED});},_onDeleteElement:function(aa){o.deleteElement(aa);this.setState({editState:w.UNSAVED});},_loadElementsFromJSONPayload:function(aa){var ba=JSON.parse(aa);for(var ca=0;ca<ba.length;++ca){var da=ba[ca];if(!da.expanded)da.expanded=false;switch(da.type){case j.RICH_TEXT:o.addDocumentElement(s.createFromObject(da));break;case j.PHOTO:o.addDocumentElement(r.createFromObject(da));break;case j.VIDEO:o.addDocumentElement(t.createFromObject(da));break;case j.BUTTON:o.addDocumentElement(l.createFromObject(da));break;case j.SLIDESHOW:o.addDocumentElement(m.createFromObject(da));break;case j.HEADER:o.addDocumentElement(q.createFromObject(da));break;}}}});f.exports=z;},null);
__d('AdsNumberInput.react',['AdsTextInput.react','React','cx','fbt','intlNumUtils','joinClasses','mergeDeep'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=i.PropTypes,p=i.createClass({displayName:'AdsNumberInput',propTypes:{errors:o.object,prefix:o.string,suffix:o.string,value:o.number,onChange:o.func.isRequired},getInitialState:function(){return {focused:false,formatError:false};},render:function(){var q=this.props.errors||{};if(this.state.formatError)q=n(q,{NON_NUMERIC_INPUT:k._("This input can only contain numbers")});var r=this.props.value;if(r!=null)r=l.formatNumber(r);if(r&&!this.state.focused){var s=this.props.prefix||'',t=this.props.suffix||'';r=s+r+t;}var u="_x62";return (i.createElement(h,babelHelpers._extends({},this.props,{className:m(this.props.className,u),errors:q,value:r,onBlur:this._onBlur,onChange:this._onChange,onFocus:this._onFocus,onImmediateChange:this._onImmediateChange})));},_onBlur:function(){this.setState({focused:false,formatError:false});},_onChange:function(q){var r=this._findFirstInvalidCharacter(q);if(r>=0)q=q.substring(0,r);this.props.onChange(l.parseNumber(q));},_onFocus:function(){this.setState({focused:true});},_onImmediateChange:function(q){var r=this._findFirstInvalidCharacter(q),s=r>=0;this.setState({formatError:s});},_findFirstInvalidCharacter:function(q){return q.search(/[^0-9\,\.\ ]/);}});f.exports=p;},null);
__d('AdsPEServerBulkImportFileInput.react',['DragDropTarget','FileInput.react','Image.react','ImageBlock.react','immutable','InlineBlock.react','Map','React','ReactDOM','XUIButton.react','XUIGrayText.react','cx','fbt','glyph','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){if(c.__markCompiled)c.__markCompiled();var w,x;'use strict';var y=o.Component,z=o.PropTypes,aa=v('/images/icons/groups/files/file-plain-32.png');w=babelHelpers.inherits(ba,y);x=w&&w.prototype;function ba(ca){x.constructor.call(this,ca);this.$AdsPEServerBulkImportFileInput1=this.$AdsPEServerBulkImportFileInput1.bind(this);this.$AdsPEServerBulkImportFileInput2=this.$AdsPEServerBulkImportFileInput2.bind(this);}ba.prototype.$AdsPEServerBulkImportFileInput1=function(ca){this.$AdsPEServerBulkImportFileInput3(Array.from(ca.target.files));};ba.prototype.$AdsPEServerBulkImportFileInput2=function(ca,da){da.stopPropagation();da.preventDefault();this.$AdsPEServerBulkImportFileInput3(Array.from(ca));};ba.prototype.$AdsPEServerBulkImportFileInput3=function(ca){if(this.props.multiple){this.props.onFilesChange(ca);}else this.props.onFilesChange(ca.slice(0,1));};ba.prototype.componentDidMount=function(){var ca=new h(p.findDOMNode(this));ca.setOnFilesDropCallback((function(ea,fa){return this.$AdsPEServerBulkImportFileInput2(ea,fa);}).bind(this));if(this.props.allowedMimeTypes){var da=this.props.allowedMimeTypes;ca.setFileFilter(function(ea){return Array.from(ea).filter(function(fa){return da.has(fa.type);});});}ca.enable();this.$AdsPEServerBulkImportFileInput4=ca;};ba.prototype.componentWillUnmount=function(){if(this.$AdsPEServerBulkImportFileInput4)this.$AdsPEServerBulkImportFileInput4.disable();};ba.prototype.$AdsPEServerBulkImportFileInput5=function(ca,da){var ea;if(this.props.iconMap&&this.props.iconMap.has(ca.type)){ea=this.props.iconMap.get(ca.type);}else ea=aa;return (o.createElement(k,{className:"_3s2v",key:da},o.createElement(j,{src:ea}),o.createElement(m,{alignv:'middle',height:32},o.createElement(r,null,ca.name)),o.createElement(j,{className:"_3s2w",src:u('remove'),onClick:(function(){return this.props.onFileRemove(da);}).bind(this)})));};ba.prototype.$AdsPEServerBulkImportFileInput6=function(){if(this.props.selectedFiles.length===0)return null;return this.props.selectedFiles.map((function(ca,da){return this.$AdsPEServerBulkImportFileInput5(ca,da);}).bind(this));};ba.prototype.render=function(){return (o.createElement('div',{className:"_3s2x"},o.createElement('div',{className:"_3s2z"},o.createElement(i,{accept:this.$AdsPEServerBulkImportFileInput7(),multiple:this.props.multiple,onChange:this.$AdsPEServerBulkImportFileInput1},o.createElement(q,{href:'#',label:this.props.buttonLabel}))),this.$AdsPEServerBulkImportFileInput6(),o.createElement('div',{className:"_3s2-"},o.createElement(m,{alignv:'middle',fullWidth:true,height:76},o.createElement(r,{size:'large'},this.props.dropLabel)))));};ba.prototype.$AdsPEServerBulkImportFileInput7=function(){if(this.props.allowedMimeTypes)return Array.from(this.props.allowedMimeTypes).join(', ');return null;};ba.defaultProps={buttonLabel:t._("Choose File"),dropLabel:t._("Drop file here"),multiple:false,hasError:false};f.exports=ba;},null);
__d('CheckboxInput.atlas',['React','ReactComponentWithPureRenderMixin','Typography.atlas','XUICheckboxInput.react','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=h.PropTypes,o=h.createClass({displayName:'CheckboxInput',propTypes:{disabled:n.bool.isRequired,onChange:n.func.isRequired,label:n.node,labelWeight:n.oneOf(j.Weights),tooltip:n.string,value:n.bool},getDefaultProps:function(){return {disabled:false};},mixins:[i],_onChange:function(event){var p=event.target;this.props.onChange(!!p.checked,event);},render:function(){var p=h.createElement(k,{checked:this.props.value,className:"_2xpe"+(!!this.props.label?' '+"_42cx":''),disabled:this.props.disabled,id:this.props.id,onChange:this._onChange,tooltip:this.props.tooltip}),q="_5u-3";if(!this.props.label)return h.cloneElement(p,{className:m(this.props.className,q,p.props.className)});var r=this.props.disabled?'light':'dark',s=this.props.labelWeight||'regular';return (h.createElement('label',{className:m(this.props.className,j.getClassName('s',s,r,'text'),q)},p,this.props.label?h.createElement('span',{className:"_40q9"},this.props.label):null));}});f.exports=o;},null);
__d('FormBinding.atlas',['underscore.ads'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){this.$FormBinding1=j.error||null;this.$FormBinding2=j.warning||null;this.$FormBinding3=j.success||null;this.$FormBinding4=j.actions;this.$FormBinding5=j.fieldName;this.$FormBinding6=j.formID;var k=j.value;this.value=k instanceof Date?new Date(k):h.clone(k);}i.prototype.getError=function(){return this.$FormBinding1;};i.prototype.getErrorMessage=function(){var j=this.getError();return j?j.text:null;};i.prototype.getWarning=function(){return this.$FormBinding2;};i.prototype.getWarningMessage=function(){var j=this.getWarning();return j?j.warningText:null;};i.prototype.getSuccess=function(){return this.$FormBinding3;};i.prototype.getSuccessMessage=function(){var j=this.getSuccess();return j?j.text:null;};i.prototype.update=function(j){this.$FormBinding7(j);this.validate();};i.prototype.updateWithoutValidation=function(j){this.$FormBinding7(j);};i.prototype.validate=function(){this.$FormBinding4.validateAllEditedFields(this.$FormBinding6);};i.prototype.$FormBinding7=function(j){this.$FormBinding4.updateFieldValue(this.$FormBinding6,this.$FormBinding5,j);};f.exports=i;},null);
__d('FormatNumberUtil.atlas',['NumberFormatConfig','intlNumUtils'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={_getDecimals:function(k,l,m){if(!l&&!m){var n=k.toString(),o=n.split(h.decimalSeparator);return o.length===2?o[1].length:0;}if(k===0)return l;var p=Math.floor(k*Math.pow(10,m)),q=m,r=10;while(q>l&&p>1)if(p%r===0){r*=10;--q;}else break;return q;},formatWithVariablePrecision:function(k,l,m,n){if(n)return i.formatNumberWithThousandDelimiters(k,j._getDecimals(k,l,m));return i.formatNumberRaw(k,j._getDecimals(k,l,m));}};f.exports=j;},null);
__d('NumberInput.atlas',['FormatNumberUtil.atlas','ads-lib-formatters','Keys','NumberFormatConfig','React','ReactComponentWithPureRenderMixin','TextInput.atlas'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=l.PropTypes,p=l.createClass({displayName:'NumberInput',propTypes:{isZeroValidValue:o.bool.isRequired,minPrecision:o.number.isRequired,maxPrecision:o.number.isRequired,disabled:o.bool,onBlur:o.func,onFocus:o.func,onKeyUp:o.func,onValueUpdated:o.func,value:o.number},getDefaultProps:function(){return {isZeroValidValue:false,maxPrecision:0,minPrecision:0};},mixins:[m],getInitialState:function(){return {dirtyValue:null};},_onChange:function(q){if(this._isInputValid(q)){this.setState({dirtyValue:q});var r=this._parseValue(q);if(this.props.onValueUpdated)this.props.onValueUpdated(r);}},_onBlur:function(event){this.setState({dirtyValue:null});if(this.props.onBlur)this.props.onBlur(event);},_onFocus:function(event){this.setState({dirtyValue:null});if(this.props.onFocus)this.props.onFocus(event);},_isInputValid:function(q){var r=new RegExp('^[0-9.,]*$');return r.test(q);},_parseValue:function(q){return i.parseNumber(q)||0;},_onKeyUp:function(event){var q=event.keyCode;if(q===j.RETURN||q===j.TAB)this.setState({dirtyValue:null});if(this.props.onKeyUp)this.props.onKeyUp(event);},render:function(){var q=undefined,r=this.props.minPrecision;if(this.state.dirtyValue===null){q=this.props.value;if(!q)q=this.props.isZeroValidValue?0:null;q=q===null?'':h.formatWithVariablePrecision(q,r,this.props.maxPrecision,false);}else q=this.state.dirtyValue;var s=Array(r+1).join('0'),t=r?'0'+k.decimalSeparator+s:'0';return (l.createElement(n,{className:this.props.className,disabled:this.props.disabled,onBlur:this._onBlur,onChange:this._onChange,onFocus:this._onFocus,onKeyUp:this._onKeyUp,placeholder:t,value:q}));}});f.exports=p;},null);
__d('CurrencyInput.atlas',['Currency','FormBinding.atlas','NumberInput.atlas','React','ReactComponentWithPureRenderMixin','Text.atlas','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=k.PropTypes,q=k.createClass({displayName:'CurrencyInput',propTypes:{isBold:p.bool.isRequired,isZeroValidValue:p.bool.isRequired,currency:p.string,disabled:p.bool,onBlur:p.func,onChange:p.func,onFocus:p.func,onKeyUp:p.func,minPrecision:p.number,maxPrecision:p.number,value:p.number},getDefaultProps:function(){return {isBold:false,isZeroValidValue:false};},mixins:[l],render:function(){var r=this.props.value;if(!r)r=this.props.isZeroValidValue?0:null;var s=null,t=null;if(this.props.currency){s=k.createElement(m,{className:"_3mef"+(r===null?' '+"_35ka":'')},h.getSymbol(this.props.currency));t="_35kc"+(this.props.isBold?' '+"_g9l":'');}return (k.createElement('div',{className:o(this.props.className,t)},k.createElement(j,{disabled:this.props.disabled,isZeroValidValue:this.props.isZeroValidValue,maxPrecision:this.props.maxPrecision,minPrecision:this.props.minPrecision,onBlur:this.props.onBlur,onFocus:this.props.onFocus,onKeyUp:this.props.onKeyUp,onValueUpdated:this.props.onChange,value:r}),s));}});q.FormWrapper=k.createClass({displayName:'FormWrapper',propTypes:{binding:p.instanceOf(i).isRequired,isZeroValidValue:p.bool.isRequired,currency:p.string,minPrecision:p.number,maxPrecision:p.number},getDefaultProps:function(){return {isZeroValidValue:false};},mixins:[l],_onChange:function(r){this.props.binding.update(r);},render:function(){return (k.createElement(q,{className:this.props.className,currency:this.props.currency,isZeroValidValue:this.props.isZeroValidValue,maxPrecision:this.props.maxPrecision,minPrecision:this.props.minPrecision,onBlur:this.props.onBlur,onChange:this._onChange,onFocus:this.props.onFocus,onKeyUp:this.props.onKeyUp,value:this.props.binding.value}));}});f.exports=q;},null);
__d('CommerceExceptionHandlerMixin.react',['AsyncRequest','CommerceErrorCode','CommerceErrorNotice.react','React','URI','XCommerceResponse'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n={getInitialState:function(){return {xResponse:null};},sendAsync:function(o,p,q,r){new h(o).setData(p||{}).setHandler((function(s){var t=new m(s.payload);this.setState({xResponse:t});if(!t.hasErrors()){q&&q(s);}else r&&r(s);}).bind(this)).setErrorHandler((function(s){this.setGeneralError(i.COMMERCE__GENERIC_EXCEPTION);r&&r(s);}).bind(this)).send();},setGeneralError:function(o){var p=this.state.xResponse?this.state.xResponse:new m({});p.setGeneralError(o);this.setState({xResponse:p});},addFieldError:function(o,p){var q=this.state.xResponse?this.state.xResponse:new m({});q.addFieldError(o,p);this.setState({xResponse:q});},_getFullErrorMessage:function(o){if(!o)return null;return o.title+': '+o.message;},hasErrors:function(){return !!this.state.xResponse&&this.state.xResponse.hasErrors();},hasGeneralError:function(){return !!this.state.xResponse&&this.state.xResponse.hasGeneralError();},hasFieldErrors:function(){return !!this.state.xResponse&&this.state.xResponse.hasFieldErrors();},renderAllErrors:function(){if(!this.hasErrors())return null;var o=this.state.xResponse,p=[];if(this.hasFieldErrors()){var q=o.getFieldErrors();for(var r in q)p.push(k.createElement('li',null,this._getFullErrorMessage(q[r])));}if(this.hasGeneralError()){var s=o.getGeneralError();if(s)p.push(k.createElement('li',null,this._getFullErrorMessage(s)));}if(p.length==0)return null;var t=k.createElement('ul',null,p);return k.createElement(j,{error:t});},renderGeneralError:function(){if(!this.hasGeneralError())return null;var o=this.state.xResponse,p=o.getGeneralError();if(!p)return null;return k.createElement(j,{error:this._getFullErrorMessage(p)});},getFieldErrorMessage:function(o){if(!this.hasFieldErrors())return null;return this._getFullErrorMessage(this.state.xResponse.getFieldErrors()[o]);}};f.exports=n;},null);
__d('BOFSellerLogger',['BanzaiLogger'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i='BOFSellerLoggerConfig',j={log:function(k,l,m){m.event=k;m.seller_profile_id=l;h.log(i,m);}};f.exports=j;},null);
__d('PageContentTabAccessToken',['invariant'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();i.prototype.init=function(j){this.$PageContentTabAccessTokenClass1=j;};i.prototype.getAccessToken=function(){!!!this.$PageContentTabAccessTokenClass1?h(0):undefined;return this.$PageContentTabAccessTokenClass1;};function i(){}f.exports=new i();},null);
__d("XPagesManagerOrderContactBuyerController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/content_tab\/contact_buyer\/",{});},null,{});
__d("XPagesManagerOrderViewController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/content_tab\/order\/",{order_id:{type:"Int",required:true}});},null,{});
__d('PageOrderContactBuyerDialog.react',['AbstractTextArea.react','AsyncRequest','BOFCommunicationCode','CommerceErrorNotice.react','GraphAPI','PageContentTabAccessToken','PageContentTabConfig','React','SimpleXUIDialog','XCommerceErrorParam','XCommerceOrderParam','XPagesManagerOrderContactBuyerController','XPagesManagerOrderViewController','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react','XUIGrayText.react','XUITextInput.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca){'use strict';if(c.__markCompiled)c.__markCompiled();var da=o.PropTypes,ea=n.graph_api_version||'2.2',fa=o.createClass({displayName:'PageOrderContactBuyerDialog',propTypes:{orderID:da.string.isRequired,page:da.object.isRequired},getInitialState:function(){return {email:null,errors:null,msgToBuyer:null,shown:false};},componentWillMount:function(){if(!this.props.orderID)return;this._fetchSellerEmail(this.props.page);},componentWillReceiveProps:function(ga){if(this.props.orderID!==ga.orderID)this._fetchSellerEmail(ga.page);},_fetchSellerEmail:function(ga){l(ea).object('commerce_merchant_settings',ga.product_merchant_setting_id).get({access_token:m.getAccessToken(),fields:'contact_email'}).done((function(ha){this.setState({email:ha.contact_email,shown:true});}).bind(this),(function(ha){this.setState({shown:true});}).bind(this));},render:function(){var ga=ca._("Ask your question or explain your issue here. Provide as many details as possible.");return (o.createElement(u,{shown:this.state.shown,onToggle:this._onToggle,layerHideOnBlur:false,width:400},o.createElement(y,null,ca._("Contact Customer")),o.createElement(v,{className:"_2y6f"},o.createElement(k,{className:"_3-95",error:this.state.errors}),o.createElement(z,{shade:'medium',size:'small',weight:'bold',className:"_3-94 _3-8x",display:'block'},ca._("What email address can the customer reply to?")),o.createElement(aa,{className:"_53sm",value:this.state.email,onChange:this._onChangeEmail}),o.createElement(z,{shade:'medium',size:'small',weight:'bold',className:"_3-94 _3-8z",display:'block'},ca._("Message to Customer")),o.createElement('div',{className:"_3-8x"},o.createElement(h,{placeholder:ga,className:"_2y6i",onChange:this._onChangeMsgToBuyer}))),o.createElement(x,null,o.createElement(w,{action:'cancel',size:'large',label:ca._("Cancel")}),o.createElement(w,{use:'confirm',action:'confirm',size:'large',label:ca._("Send to Customer"),onClick:this._onSubmit,disabled:this.state.errors}))));},show:function(ga){this.setState({shown:true});},_onToggle:function(ga){this.setState({shown:ga});if(ga===false)this.setState({errors:null});},_onChangeEmail:function(ga){var ha=null;if(!ga.target.value)ha=ca._("Please enter an email address");this.setState({email:ga.target.value.toString(),errors:ha});},_onChangeMsgToBuyer:function(ga){var ha=null;if(!ga.target.value)ha=ca._("Please enter a reason for contacting the customer");this.setState({msgToBuyer:ga.target.value.toString(),errors:ha});},_onSubmit:function(ga){if(!this.state.errors&&(!this.state.email||!this.state.msgToBuyer)){this.setState({errors:ca._("Please enter all information for contacting the customer")});return;}if(this.state.errors)return;var ha=s.getURIBuilder().getURI(),ia={};ia[r.ORDER_ID]=this.props.orderID;ia[r.EMAIL]=this.state.email;ia[r.MSG_TO_BUYER]=this.state.msgToBuyer;ia[r.REASON]=j.COMMUNICATION_CODE_OTHER;new i().setURI(ha).setData(ia).setHandler((function(ja){var ka=ja.payload[q.ERRORS];if(ka){var la=ka[q.GENERAL_ERROR];this.setState({errors:la&&la[q.ERROR_MSG]});}else{this.setState({shown:false});p.show(ca._("Thanks. We will send your message to the customer."),ca._("Contact Customer"));}}).bind(this)).send();}});f.exports=fa;},null);
__d('PageContentTabConstants',['PageContentTabTabs','keyMirror'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={ACTIONS:i({BACKDATE:null,CREATE_ADS_FROM_POSTS:null,DELETE:null,EDIT:null,PUBLISH:null,RESCHEDULE:null,SCHEDULE:null,EDIT_EXPIRATION:null,REPUBLISH:null,UNSCHEDULE:null,EMBEDDABLE:null,SOCIAL_ACTIONS:null,PUBLISH_TO_VIDEOS_TAB:null,PUBLISH_TO_NEWS_FEED:null,SHIP_ORDER:null,PRINT_INVOICE:null,REFUND_ORDER:null,CONTACT_BUYER:null,CANCEL_ORDER:null,PUBLISH_FUNDRAISER:null,UNPUBLISH_FUNDRAISER:null,DELETE_FUNDRAISER:null,DUPLICATE:null}),COLUMNS:i({POST:null,DATE_CREATED:null,DATE_LAST_MODIFIED:null,MARKUP_EDITOR:null,PROMOTION_STATUS:null,SCHEDULED_PUBLISH_TIME:null,PRODUCT:null,VISIBILITY:null,INVENTORY:null,IMPRESSIONS:null,MESSAGE_SENDS:null,ORDER_DATE:null,ORDER_ITEMS:null,ORDER_BUYER:null,ORDER_PRICE:null,COLLECTION:null,EXPIRATION_INFO:null,PUBLISH_STATUS:null,HAS_ERRORS:null,ID:null,REACH:null,ENGAGEMENT:null,PPTP:null,VIDEO:null,VIDEO_VIEWS:null,VIDEO_DATE_CREATED:null,VIDEO_EMBEDDABLE:null,VIDEO_SOCIAL_ACTIONS:null,JOB_POSTS:null,FORM_DATE_CREATED:null,FORM_DOWNLOAD_CSV_URL:null,FORM_NAME:null,FORM_LEADS_COUNT:null,FORM_LOCALE:null,MATCHING_VIDEO:null,PUBLISHED_DATE:null,OVERLAP:null,EXPIRES_DAYS:null,REPORTED_VIDEO:null,LAST_MODIFIED_BY:null,FUNDRAISER:null,FUNDRAISER_STATUS:null,FUNDRAISER_DONORS:null,FUNDRAISER_LIKES:null,LOCATION_LANGUAGE:null,REORDERING:null,REFERENCE_VIDEO:null,ADS_CANVAS_NAME:null,ADS_CANVAS_UPDATE_TIME:null,ADS_CANVAS_IS_PUBLISHED:null,ADS_CANVAS_EDITOR:null}),COLUMN_GROUPS:i({BUTTONS:null,DATES:null}),TABS:h,LEFT_NAV_GROUPS:i({POSTS:null,VIDEOS:null,LEAD_ADS_FORMS:null,VIDEOS_COPYRIGHT:null,SHOP:null,FUNDRAISERS:null}),ACTION_TYPES:i({ADD_POSTS:null,CREATE_POST:null,CREATE_POSTS:null,EDIT_POST:null,INIT_PAGE:null,REMOVE_POST:null,REMOVE_POSTS:null,FILTER:null,ERROR:null,PAGING_CHANGED:null,UPDATE_FILTER_STATUS:null,UPDATE_STALE_CONTENT_NOTICE:null,QUERY_KEY_CHANGED:null,QUERY_CHANGED:null,FILTER_CHANGED:null,SORT_CHANGED:null,SET_CUSTOM_TAB_STATE:null}),PAYLOAD_SOURCES:i({SERVER:null,VIEW_ACTION:null}),PREVIEW_TABS:i({DESKTOP:null,MOBILE:null}),SORT_ORDER_ASC:'ASC',SORT_ORDER_DESC:'DESC',EDIT_HISTORY_ASYN_DIALOG:'/ajax/edits/browser/post/'};f.exports=j;},null);
__d('PageContentTabDispatcher',['AdsGenericFilterSet','Dispatcher','PageContentTabConstants'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l,m=j.ACTION_TYPES,n=j.PAYLOAD_SOURCES,o=j.TABS;k=babelHelpers.inherits(p,i);l=k&&k.prototype;p.prototype.handleInitialization=function(q,r,s,t){'use strict';if(q.externalURI)return;this.dispatch({action:{posts:{key:r,data:s},actionType:m.ADD_POSTS,tab:q,pageID:t},payloadSource:n.SERVER});};p.prototype.handlePostRemoved=function(q,r,s){'use strict';if(s){this.dispatch({payloadSource:n.VIEW_ACTION,action:{actionType:m.REMOVE_POST,postID:r,tab:s,pageID:q}});}else Object.keys(o).forEach((function(t){return this.dispatch({payloadSource:n.VIEW_ACTION,action:{actionType:m.REMOVE_POST,postID:r,tab:t,pageID:q}});}).bind(this),this);};p.prototype.handlePostsRemoved=function(q,r,s){'use strict';if(s){this.dispatch({payloadSource:n.VIEW_ACTION,action:{actionType:m.REMOVE_POSTS,postIDs:r,tab:s,pageID:q}});}else Object.keys(o).forEach((function(t){return this.dispatch({payloadSource:n.VIEW_ACTION,action:{actionType:m.REMOVE_POSTS,postIDs:r,tab:t,pageID:q}});}).bind(this));};p.prototype.handlePageInitialization=function(q){'use strict';this.dispatch({payloadSource:n.SERVER,action:{page:q,actionType:m.INIT_PAGE}});};p.prototype.handlePostCreated=function(q,r,s){'use strict';this.dispatch({payloadSource:n.VIEW_ACTION,action:{tab:q,actionType:m.CREATE_POST,post:r,pageID:s}});};p.prototype.handlePostsCreated=function(q,r,s){'use strict';this.dispatch({payloadSource:n.VIEW_ACTION,action:{tab:q,actionType:m.CREATE_POSTS,posts:r,pageID:s}});};p.prototype.handlePostChanged=function(q,r,s){'use strict';this.dispatch({payloadSource:n.SERVER,action:{actionType:m.EDIT_POST,post:q,tab:r,pageID:s}});};p.prototype.handleStaleContentNoticeStatus=function(q,r,s){'use strict';this.dispatch({payloadSource:n.VIEW_ACTION,action:{tab:r,actionType:m.UPDATE_STALE_CONTENT_NOTICE,status:s,pageID:q}});};p.prototype.handleFilterStatus=function(q,r,s){'use strict';this.dispatch({payloadSource:n.VIEW_ACTION,action:{tab:r,actionType:m.UPDATE_FILTER_STATUS,status:s,pageID:q}});};p.prototype.handleSetCustomTabState=function(q,r,s){'use strict';this.dispatch({payloadSource:n.VIEW_ACTION,action:{tab:q,actionType:m.SET_CUSTOM_TAB_STATE,customTabState:r,pageID:s}});};p.prototype.handleError=function(q,r,s){'use strict';this.dispatch({payloadSource:n.SERVER,action:{tab:q,actionType:m.ERROR,error:r,pageID:s}});};p.prototype.handlePagingChanged=function(q,r,s,t){'use strict';this.dispatch({payloadSource:n.VIEW_ACTION,action:{tab:r,pageID:q,actionType:m.PAGING_CHANGED,currentPage:t,queryKey:s}});};p.prototype.handleQueryKeyChanged=function(q,r,s){'use strict';this.dispatch({payloadSource:n.VIEW_ACTION,action:{tab:r,actionType:m.QUERY_KEY_CHANGED,pageID:q,queryKey:s}});};p.prototype.handleQueryChanged=function(q,r,s){'use strict';this.dispatch({payloadSource:n.VIEW_ACTION,action:{tab:r,actionType:m.QUERY_CHANGED,pageID:q,query:s}});};p.prototype.handleFilterChanged=function(q,r,s){'use strict';this.dispatch({payloadSource:n.VIEW_ACTION,action:{tab:r,actionType:m.FILTER_CHANGED,pageID:q,filter:s}});};p.prototype.handleSortChanged=function(q,r,s){'use strict';this.dispatch({payloadSource:n.VIEW_ACTION,action:{tab:r,actionType:m.SORT_CHANGED,pageID:q,sort:s}});};function p(){'use strict';k.apply(this,arguments);}f.exports=new p();},null);
__d("XPagesManagerOrderShipController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/content_tab\/ship_order\/",{});},null,{});
__d('PageOrderShipDialog.react',['AsyncRequest','CommerceShippingCarriers','Layout.react','PageContentTabDispatcher','React','XPagesManagerOrderShipController','XUIButton.react','XUIDialog.react','XUIDialogBody.react','XUIDialogTitle.react','XUIDialogFooter.react','XUIError.react','XUISingleSelector.react','XUISpinner.react','XUIText.react','XUITextInput.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){'use strict';if(c.__markCompiled)c.__markCompiled();var z=j.Column,aa=j.FillColumn,ba=t.Option,ca=l.PropTypes,da=500,ea=l.createClass({displayName:'PageOrderShipDialog',propTypes:{orderID:ca.string.isRequired,pageID:ca.string.isRequired,shownInitially:ca.bool},getInitialState:function(){return {dialogShown:this.props.shownInitially,errorMessage:'',isSubmitting:false};},render:function(){if(!this.state.dialogShown)return null;var fa=y._("Shipping Carrier:"),ga=[],ha=i.carriers;for(var ia in ha)ga.push(l.createElement(ba,{value:ha[ia],key:ia},i.carrier_names[ia]));var ja=l.createElement(t,{ref:'carrier',defaultValue:i.carriers.USPS},ga),ka=y._("Tracking Number:"),la=l.createElement(w,{className:"_53sm",ref:'tracking'});if(this.state.errorMessage)la=l.createElement(s,{xuiError:this.state.errorMessage},la);var ma=this.state.isSubmitting?l.createElement(u,{size:'small',className:"_3-90"}):null;return (l.createElement(o,{width:da,onToggle:(function(na){return this.setState({dialogShown:na});}).bind(this),shown:this.state.dialogShown},l.createElement(q,null,this._getTitle()),l.createElement(p,null,l.createElement('div',{className:"_3-95"},y._("You must mark an order as shipped for Stripe to process the payment for that order.")),this._getFormRow(fa,ja),this._getFormRow(ka,la)),l.createElement(r,null,ma,l.createElement(n,{use:'confirm',disabled:this.state.isSubmitting,label:y._("Mark as Shipped"),onClick:this._onClickShipButton}))));},_getTitle:function(){return y._("Ship Order");},_getFormRow:function(fa,ga){return (l.createElement(j,{className:"_3-95"},l.createElement(z,null,l.createElement(v,{className:"_3-90"},fa)),l.createElement(aa,null,ga)));},_onClickShipButton:function(){this.setState({isSubmitting:true});var fa={order_id:this.props.orderID,carrier:this.refs.carrier.getValue(),tracking_number:this.refs.tracking.refs.textInput.getValue()};new h().setURI(m.getURIBuilder().getURI()).setMethod('POST').setData(fa).setHandler(this._onSuccess).setErrorHandler((function(ga){this.setState({errorMessage:ga.errorSummary});this.refs.tracking.focusInput();}).bind(this)).send();},_onSuccess:function(){k.handlePostRemoved(this.props.pageID,this.props.orderID);this.hide();},show:function(){this.setState({dialogShown:true});},hide:function(){this.setState({dialogShown:false});}});f.exports=ea;},null);
__d('CommerceOrderDetails.react',['BOFOrderState','CommerceMailingAddress.react','DOM','Image.react','ImageBlock.react','Layout.react','Link.react','PageOrderContactBuyerDialog.react','PageOrderShipDialog.react','React','ReactDOM','XUIButton.react','XUIGrayText.react','XUISpinner.react','XUIText.react','CommerceEmailRemarketingOption','cx','fbt','formatDate','isEmpty','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){if(c.__markCompiled)c.__markCompiled();var ca=m.Column,da=m.FillColumn,ea=q.PropTypes,fa=q.createClass({displayName:'CommerceOrderDetails',propTypes:{order:ea.object.isRequired,page:ea.object.isRequired},render:function(){var ga=this.props.order;if(aa(ga))return (q.createElement('div',{className:"_1u1v"},q.createElement(u,{className:"_1q3u",size:'large'})));return (q.createElement(m,null,q.createElement(da,{className:"_3rs0"},q.createElement(v,{size:'large',display:'block'},y._("Order {order id}",[y.param('order id',ga.id)])),q.createElement(t,{shade:'light',size:'small',display:'block',className:"_3-98"},ga.status),this.renderProductDetails(ga),this.renderSubtotalPrice(ga),this.renderShippingPrice(ga),this.renderTaxPrice(ga),this.renderDiscountPrice(ga),this.renderTotalPrice(ga)),q.createElement(ca,{className:"mlm _3rs1"},this.renderCustomer(ga),this.renderShippedSection(ga,this.props.page.page_id))));},renderHeader:function(ga){return (q.createElement('div',{className:"_2pio"},q.createElement(v,{size:'large',weight:'bold'},ga)));},renderProductDetails:function(ga){var ha=[];ga.items.forEach(function(ia){ha.push(q.createElement(m,{key:ia.id,className:"_3rs2"},q.createElement(da,null,q.createElement(n,{href:ia.uri,target:'_blank'},q.createElement(v,{size:'small'},ia.name))),q.createElement(ca,{className:"_3-9b"},q.createElement(v,{size:'small'},ia.itemPrice.label))));});return (q.createElement('div',null,ha));},renderSubtotalPrice:function(ga){return this.renderPriceLine(y._("Subtotal"),ga.subtotalPrice.label);},renderShippingPrice:function(ga){return this.renderPriceLine(y._("Shipping"),ga.shippingPrice.label);},renderTaxPrice:function(ga){return this.renderPriceLine(y._("Tax"),ga.taxPrice.label);},renderDiscountPrice:function(ga){if(!ga.discountPrice.amount)return null;return this.renderPriceLine(y._("Discount"),'-'+ga.discountPrice.label);},renderTotalPrice:function(ga){return (q.createElement(m,{className:"_3-8w"},q.createElement(da,null),q.createElement(ca,{className:"_3-9b"},q.createElement(v,{size:'medium'},y._("Total Price"))),q.createElement(ca,{className:"_3-9b"},q.createElement(v,{size:'medium',weight:'bold'},ga.totalPrice.label))));},renderCustomer:function(ga){var ha=ga.customer;if(!ha)return null;return (q.createElement(l,null,q.createElement(k,{className:"_3rs3",src:ha.profilePicURI}),q.createElement('div',null,q.createElement(n,{href:'/'+ha.id,target:'_blank'},q.createElement(v,{weight:'bold',display:'block'},ha.name)),q.createElement(t,{shade:'medium',display:'block'},y._("Order Placed {date}",[y.param('date',z(ga.createdAt,'M j, Y'))])),this.renderEmailForRemarketing())));},renderShippedSection:function(ga,ha){var ia=ga.shippingAddress,ja=null,ka=q.createElement(k,{className:"_3rs4",src:ba('/images/commerce/check.png')});if(ga.statusCode!==h.BOF_ORDER_STATE_FULFILLED){ja=q.createElement(s,{className:"_38e_",label:y._("Mark as Shipped"),onClick:this.onClickShipButton.bind(this,ga,ha),use:'confirm'});ka=q.createElement(k,{className:"_3rs6",src:ba('/images/commerce/check-circle.png')});}var la=q.createElement(s,{className:"_38e_",label:y._("Contact Customer"),onClick:this.onClickContactBuyerButton.bind(this,ga)});return (q.createElement('div',{className:"_3-8-"},q.createElement(l,{className:"_3rs7"},ka,q.createElement(t,{className:"_3rsh",size:'small',weight:'bold'},ga.status)),q.createElement(t,{display:'block',size:'small',weight:'bold',className:"_3-8x"},y._("Shipping Address")),q.createElement(t,{size:'small'},q.createElement(i,{name:ia.name,careOf:ia.careOf,street1:ia.street1,street2:ia.street2,street3:ia.street3,city:ia.city,region:ia.region,postalCode:ia.postalCode,phoneNumber:ia.phoneNumber})),q.createElement('div',null,ja),q.createElement('div',null,la)));},onClickShipButton:function(ga,ha){var ia=q.createElement(p,{orderID:ga.id,pageID:ha});ia=r.render(ia,j.create('div'));ia.show();},onClickContactBuyerButton:function(ga){var ha=q.createElement(o,{orderID:ga.id,page:this.props.page});ha=r.render(ha,j.create('div'));},renderEmailForRemarketing:function(){var ga=this.props.order;if(ga.emailRemarketing!==w.YES)return null;return (q.createElement('div',{className:"_2pio"},q.createElement(v,{size:'medium'},y._("{Email address} (Customer accepts marketing)",[y.param('Email address',ga.email)]))));},renderPriceLine:function(ga,ha){return (q.createElement(m,{className:"_3-8x"},q.createElement(da,null),q.createElement(ca,{className:'mlm'},q.createElement(t,{size:'small'},ga)),q.createElement(ca,{className:'mlm'},q.createElement(v,{size:'small'},ha))));}});f.exports=fa;},null);
__d('CommerceSelfServeProductTaxRatesTable.react',['AdsNumberInput.react','CheckboxInput.atlas','CommerceUSAStates','Image.react','React','TextInput.atlas','XUIButton.react','XUITable.react','cx','fbt','invariant','xuiglyph'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t=l.PropTypes,u=l.createClass({displayName:'CommerceSelfServeProductTaxRatesTable',propTypes:{taxRates:t.object.isRequired,onChangeTaxRates:t.func.isRequired},getInitialState:function(){return {newRateLocationError:false,newTaxRateLocation:'',newTaxRatePercentage:0,newIsAppliedToShipping:false,showNewRateRow:false};},render:function(){var v=[];for(var w in this.props.taxRates){var x=this.props.taxRates[w];for(var y in x)v[v.length]=this._getTaxRateRow(y,x[y]);}v[v.length]=this._getTaxRateInput();return (l.createElement('div',null,l.createElement(o,{outerBorder:true},l.createElement('thead',null,l.createElement('tr',null,l.createElement('th',null,q._("\u041c\u0456\u0441\u0446\u0435")),l.createElement('th',null,q._("Tax Rate")),l.createElement('th',null,q._("Apply tax to shipping cost?")),l.createElement('th',null))),l.createElement('tbody',null,v))));},_getTaxRateRow:function(v,w){return (l.createElement('tr',{key:'tax_rate_'+v},l.createElement('td',null,l.createElement('span',null,v)),l.createElement('td',null,l.createElement(h,{value:this._convertDecimalToPercent(w.tax_rate,3),suffix:'%',className:"_2263",onChange:(function(x){if(x!==null){x=this._convertPercentToDecimal(x,3);this._setTaxRate(v,x,w.is_applied_to_shipping);}}).bind(this)})),l.createElement('td',null,l.createElement(i,{label:w.is_applied_to_shipping?q._("\u0422\u0430\u043a"):q._("\u041d\u0456"),value:w.is_applied_to_shipping,onChange:(function(x){this._setTaxRate(v,w.tax_rate,x);}).bind(this)})),l.createElement('td',{className:"_5rpt"},l.createElement(k,{className:"_ksy _3-9b",src:s({name:'cross',size:'small',shade:'dark'}),onClick:(function(){this._removeTaxRate(v);}).bind(this)}))));},_getTaxRateInput:function(){return (l.createElement('tr',{key:'new_tax_rate_row'},l.createElement('td',null,l.createElement(m,{className:"_2263",onChange:(function(v){this.setState({newTaxRateLocation:v.toUpperCase()});}).bind(this)})),l.createElement('td',null,l.createElement(h,{value:this._convertDecimalToPercent(this.state.newTaxRatePercentage,3),suffix:'%',className:"_2263",onChange:(function(v){if(v!==null){v=this._convertPercentToDecimal(v,3);this.setState({newTaxRatePercentage:v});}}).bind(this)})),l.createElement('td',null,l.createElement(i,{label:this.state.newIsAppliedToShipping?q._("\u0422\u0430\u043a"):q._("\u041d\u0456"),value:this.state.newIsAppliedToShipping,onChange:(function(v){this.setState({newIsAppliedToShipping:v});}).bind(this)})),l.createElement('td',{className:"_5rpt"},l.createElement(n,{label:q._("\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438"),use:'confirm',disabled:!this._isValidLocation(this.state.newTaxRateLocation),onClick:this._handleSaveNewTaxRate}))));},_removeTaxRate:function(v){var w=this._getLocationType(v),x=this.props.taxRates;delete x[w][v];this.props.onChangeTaxRates(x);},_setTaxRate:function(v,w,x){var y=this._getLocationType(v),z=this.props.taxRates;z[y][v]={tax_rate:w,is_applied_to_shipping:x};this.props.onChangeTaxRates(z);},_handleSaveNewTaxRate:function(){var v=this.state.newTaxRateLocation;this._setTaxRate(v,this.state.newTaxRatePercentage,this.state.newIsAppliedToShipping);this.setState({newTaxRatePercentage:0,newTaxRateLocation:'',newIsAppliedToShipping:false});},_getLocationType:function(v){!this._isValidLocation(v)?r(0):undefined;if(this._isValidZipCode(v)){return 'zip_code';}else return 'state_abbr';},_convertDecimalToPercent:function(v,w){var x=Math.round(v*Math.pow(10,w+2));return x/Math.pow(10,w);},_convertPercentToDecimal:function(v,w){var x=Math.round(v*Math.pow(10,w));return x/Math.pow(10,w+2);},_isValidLocation:function(v){return this._isValidZipCode(v)||this._isValidStateAbbr(v);},_isValidZipCode:function(v){var w=/^[0-9]{5}$/;return v.match(w)!==null;},_isValidStateAbbr:function(v){var w='STATE_';return w+v in j;}});f.exports=u;},null);
__d("CodeMirror4",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();"use strict";var h=/gecko\/\d/i.test(navigator.userAgent),i=/MSIE \d/.test(navigator.userAgent),j=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),k=i||j,l=k&&(i?document.documentMode||6:j[1]),m=/WebKit\//.test(navigator.userAgent),n=m&&/Qt\/\d+\.\d+/.test(navigator.userAgent),o=/Chrome\//.test(navigator.userAgent),p=/Opera\//.test(navigator.userAgent),q=/Apple Computer/.test(navigator.vendor),r=/KHTML\//.test(navigator.userAgent),s=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),t=/PhantomJS/.test(navigator.userAgent),u=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),v=u||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),w=u||/Mac/.test(navigator.platform),x=/win/i.test(navigator.platform),y=p&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);if(y)y=Number(y[1]);if(y&&y>=15){p=false;m=true;}var z=w&&(n||p&&(y==null||y<12.11)),aa=h||(k&&l>=9),ba=false,ca=false;function da(hp,ip){if(!(this instanceof da))return new da(hp,ip);this.options=ip=ip||{};hn(yh,ip,false);ra(ip);var jp=ip.value;if(typeof jp=="string")jp=new al(jp,ip.mode);this.doc=jp;var kp=this.display=new ea(hp,jp);kp.wrapper.CodeMirror=this;na(this);la(this);if(ip.lineWrapping)this.display.wrapper.className+=" CodeMirror-wrap";if(ip.autofocus&&!v)of(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:false,focused:false,suppressEdits:false,pasteIncoming:false,cutIncoming:false,draggingText:false,highlight:new xm()};if(k&&l<11)setTimeout(jn(nf,this,true),20);rf(this);co();var lp=this;ve(this,function(){lp.curOp.forceUpdate=true;el(lp,jp);if((ip.autofocus&&!v)||vn()==kp.input){setTimeout(jn(vg,lp),20);}else wg(lp);for(var mp in zh)if(zh.hasOwnProperty(mp))zh[mp](lp,ip[mp],bi);xa(lp);for(var np=0;np<fi.length;++np)fi[np](lp);});}function ea(hp,ip){var jp=this,kp=jp.input=qn("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");if(m){kp.style.width="1000px";}else kp.setAttribute("wrap","off");if(u)kp.style.border="1px solid black";kp.setAttribute("autocorrect","off");kp.setAttribute("autocapitalize","off");kp.setAttribute("spellcheck","false");jp.inputDiv=qn("div",[kp],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");jp.scrollbarH=qn("div",[qn("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");jp.scrollbarV=qn("div",[qn("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar");jp.scrollbarFiller=qn("div",null,"CodeMirror-scrollbar-filler");jp.gutterFiller=qn("div",null,"CodeMirror-gutter-filler");jp.lineDiv=qn("div",null,"CodeMirror-code");jp.selectionDiv=qn("div",null,null,"position: relative; z-index: 1");jp.cursorDiv=qn("div",null,"CodeMirror-cursors");jp.measure=qn("div",null,"CodeMirror-measure");jp.lineMeasure=qn("div",null,"CodeMirror-measure");jp.lineSpace=qn("div",[jp.measure,jp.lineMeasure,jp.selectionDiv,jp.cursorDiv,jp.lineDiv],null,"position: relative; outline: none");jp.mover=qn("div",[qn("div",[jp.lineSpace],"CodeMirror-lines")],null,"position: relative");jp.sizer=qn("div",[jp.mover],"CodeMirror-sizer");jp.heightForcer=qn("div",null,null,"position: absolute; height: "+sm+"px; width: 1px;");jp.gutters=qn("div",null,"CodeMirror-gutters");jp.lineGutter=null;jp.scroller=qn("div",[jp.sizer,jp.heightForcer,jp.gutters],"CodeMirror-scroll");jp.scroller.setAttribute("tabIndex","-1");jp.wrapper=qn("div",[jp.inputDiv,jp.scrollbarH,jp.scrollbarV,jp.scrollbarFiller,jp.gutterFiller,jp.scroller],"CodeMirror");if(k&&l<8){jp.gutters.style.zIndex=-1;jp.scroller.style.paddingRight=0;}if(u)kp.style.width="0px";if(!m)jp.scroller.draggable=true;if(r){jp.inputDiv.style.height="1px";jp.inputDiv.style.position="absolute";}if(k&&l<8)jp.scrollbarH.style.minHeight=jp.scrollbarV.style.minWidth="18px";if(hp.appendChild){hp.appendChild(jp.wrapper);}else hp(jp.wrapper);jp.viewFrom=jp.viewTo=ip.first;jp.view=[];jp.externalMeasured=null;jp.viewOffset=0;jp.lastSizeC=0;jp.updateLineNumbers=null;jp.lineNumWidth=jp.lineNumInnerWidth=jp.lineNumChars=null;jp.prevInput="";jp.alignWidgets=false;jp.pollingFast=false;jp.poll=new xm();jp.cachedCharWidth=jp.cachedTextHeight=jp.cachedPaddingH=null;jp.inaccurateSelection=false;jp.maxLine=null;jp.maxLineLength=0;jp.maxLineChanged=false;jp.wheelDX=jp.wheelDY=jp.wheelStartX=jp.wheelStartY=null;jp.shift=false;jp.selForContextMenu=null;}function fa(hp){hp.doc.mode=da.getMode(hp.options,hp.doc.modeOption);ga(hp);}function ga(hp){hp.doc.iter(function(ip){if(ip.stateAfter)ip.stateAfter=null;if(ip.styles)ip.styles=null;});hp.doc.frontier=hp.doc.first;dd(hp,100);hp.state.modeGen++;if(hp.curOp)bf(hp);}function ha(hp){if(hp.options.lineWrapping){yn(hp.display.wrapper,"CodeMirror-wrap");hp.display.sizer.style.minWidth="";}else{xn(hp.display.wrapper,"CodeMirror-wrap");qa(hp);}ja(hp);bf(hp);wd(hp);setTimeout(function(){ua(hp);},100);}function ia(hp){var ip=ie(hp.display),jp=hp.options.lineWrapping,kp=jp&&Math.max(5,hp.display.scroller.clientWidth/je(hp.display)-3);return function(lp){if(vj(hp.doc,lp))return 0;var mp=0;if(lp.widgets)for(var np=0;np<lp.widgets.length;np++)if(lp.widgets[np].height)mp+=lp.widgets[np].height;if(jp){return mp+(Math.ceil(lp.text.length/kp)||1)*ip;}else return mp+ip;};}function ja(hp){var ip=hp.doc,jp=ia(hp);ip.iter(function(kp){var lp=jp(kp);if(lp!=kp.height)il(kp,lp);});}function ka(hp){var ip=ki[hp.options.keyMap],jp=ip.style;hp.display.wrapper.className=hp.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(jp?" cm-keymap-"+jp:"");}function la(hp){hp.display.wrapper.className=hp.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+hp.options.theme.replace(/(^|\s)\s*/g," cm-s-");wd(hp);}function ma(hp){na(hp);bf(hp);setTimeout(function(){wa(hp);},20);}function na(hp){var ip=hp.display.gutters,jp=hp.options.gutters;sn(ip);for(var kp=0;kp<jp.length;++kp){var lp=jp[kp],mp=ip.appendChild(qn("div",null,"CodeMirror-gutter "+lp));if(lp=="CodeMirror-linenumbers"){hp.display.lineGutter=mp;mp.style.width=(hp.display.lineNumWidth||1)+"px";}}ip.style.display=kp?"":"none";oa(hp);}function oa(hp){var ip=hp.display.gutters.offsetWidth;hp.display.sizer.style.marginLeft=ip+"px";hp.display.scrollbarH.style.left=hp.options.fixedGutter?ip+"px":0;}function pa(hp){if(hp.height==0)return 0;var ip=hp.text.length,jp,kp=hp;while(jp=oj(kp)){var lp=jp.find(0,true);kp=lp.from.line;ip+=lp.from.ch-lp.to.ch;}kp=hp;while(jp=pj(kp)){var lp=jp.find(0,true);ip-=kp.text.length-lp.from.ch;kp=lp.to.line;ip+=kp.text.length-lp.to.ch;}return ip;}function qa(hp){var ip=hp.display,jp=hp.doc;ip.maxLine=fl(jp,jp.first);ip.maxLineLength=pa(ip.maxLine);ip.maxLineChanged=true;jp.iter(function(kp){var lp=pa(kp);if(lp>ip.maxLineLength){ip.maxLineLength=lp;ip.maxLine=kp;}});}function ra(hp){var ip=en(hp.gutters,"CodeMirror-linenumbers");if(ip==-1&&hp.lineNumbers){hp.gutters=hp.gutters.concat(["CodeMirror-linenumbers"]);}else if(ip>-1&&!hp.lineNumbers){hp.gutters=hp.gutters.slice(0);hp.gutters.splice(ip,1);}}function sa(hp){return hp.display.scroller.clientHeight-hp.display.wrapper.clientHeight<sm-3;}function ta(hp){var ip=hp.display.scroller;return {clientHeight:ip.clientHeight,barHeight:hp.display.scrollbarV.clientHeight,scrollWidth:ip.scrollWidth,clientWidth:ip.clientWidth,hScrollbarTakesSpace:sa(hp),barWidth:hp.display.scrollbarH.clientWidth,docHeight:Math.round(hp.doc.height+id(hp.display))};}function ua(hp,ip){if(!ip)ip=ta(hp);var jp=hp.display,kp=ho(jp.measure),lp=ip.docHeight+sm,mp=ip.scrollWidth>ip.clientWidth;if(mp&&ip.scrollWidth<=ip.clientWidth+1&&kp>0&&!ip.hScrollbarTakesSpace)mp=false;var np=lp>ip.clientHeight;if(np){jp.scrollbarV.style.display="block";jp.scrollbarV.style.bottom=mp?kp+"px":"0";jp.scrollbarV.firstChild.style.height=Math.max(0,lp-ip.clientHeight+(ip.barHeight||jp.scrollbarV.clientHeight))+"px";}else{jp.scrollbarV.style.display="";jp.scrollbarV.firstChild.style.height="0";}if(mp){jp.scrollbarH.style.display="block";jp.scrollbarH.style.right=np?kp+"px":"0";jp.scrollbarH.firstChild.style.width=(ip.scrollWidth-ip.clientWidth+(ip.barWidth||jp.scrollbarH.clientWidth))+"px";}else{jp.scrollbarH.style.display="";jp.scrollbarH.firstChild.style.width="0";}if(mp&&np){jp.scrollbarFiller.style.display="block";jp.scrollbarFiller.style.height=jp.scrollbarFiller.style.width=kp+"px";}else jp.scrollbarFiller.style.display="";if(mp&&hp.options.coverGutterNextToScrollbar&&hp.options.fixedGutter){jp.gutterFiller.style.display="block";jp.gutterFiller.style.height=kp+"px";jp.gutterFiller.style.width=jp.gutters.offsetWidth+"px";}else jp.gutterFiller.style.display="";if(!hp.state.checkedOverlayScrollbar&&ip.clientHeight>0){if(kp===0){var op=w&&!s?"12px":"18px";jp.scrollbarV.style.minWidth=jp.scrollbarH.style.minHeight=op;var pp=function(qp){if(gm(qp)!=jp.scrollbarV&&gm(qp)!=jp.scrollbarH)we(hp,vf)(qp);};im(jp.scrollbarV,"mousedown",pp);im(jp.scrollbarH,"mousedown",pp);}hp.state.checkedOverlayScrollbar=true;}}function va(hp,ip,jp){var kp=jp&&jp.top!=null?Math.max(0,jp.top):hp.scroller.scrollTop;kp=Math.floor(kp-hd(hp));var lp=jp&&jp.bottom!=null?jp.bottom:kp+hp.wrapper.clientHeight,mp=kl(ip,kp),np=kl(ip,lp);if(jp&&jp.ensure){var op=jp.ensure.from.line,pp=jp.ensure.to.line;if(op<mp)return {from:op,to:kl(ip,ll(fl(ip,op))+hp.wrapper.clientHeight)};if(Math.min(pp,ip.lastLine())>=np)return {from:kl(ip,ll(fl(ip,pp))-hp.wrapper.clientHeight),to:pp};}return {from:mp,to:Math.max(np,mp+1)};}function wa(hp){var ip=hp.display,jp=ip.view;if(!ip.alignWidgets&&(!ip.gutters.firstChild||!hp.options.fixedGutter))return;var kp=za(ip)-ip.scroller.scrollLeft+hp.doc.scrollLeft,lp=ip.gutters.offsetWidth,mp=kp+"px";for(var np=0;np<jp.length;np++)if(!jp[np].hidden){if(hp.options.fixedGutter&&jp[np].gutter)jp[np].gutter.style.left=mp;var op=jp[np].alignable;if(op)for(var pp=0;pp<op.length;pp++)op[pp].style.left=mp;}if(hp.options.fixedGutter)ip.gutters.style.left=(kp+lp)+"px";}function xa(hp){if(!hp.options.lineNumbers)return false;var ip=hp.doc,jp=ya(hp.options,ip.first+ip.size-1),kp=hp.display;if(jp.length!=kp.lineNumChars){var lp=kp.measure.appendChild(qn("div",[qn("div",jp)],"CodeMirror-linenumber CodeMirror-gutter-elt")),mp=lp.firstChild.offsetWidth,np=lp.offsetWidth-mp;kp.lineGutter.style.width="";kp.lineNumInnerWidth=Math.max(mp,kp.lineGutter.offsetWidth-np);kp.lineNumWidth=kp.lineNumInnerWidth+np;kp.lineNumChars=kp.lineNumInnerWidth?jp.length:-1;kp.lineGutter.style.width=kp.lineNumWidth+"px";oa(hp);return true;}return false;}function ya(hp,ip){return String(hp.lineNumberFormatter(ip+hp.firstLineNumber));}function za(hp){return hp.scroller.getBoundingClientRect().left-hp.sizer.getBoundingClientRect().left;}function ab(hp,ip,jp){var kp=hp.display;this.viewport=ip;this.visible=va(kp,hp.doc,ip);this.editorIsHidden=!kp.wrapper.offsetWidth;this.wrapperHeight=kp.wrapper.clientHeight;this.oldViewFrom=kp.viewFrom;this.oldViewTo=kp.viewTo;this.oldScrollerWidth=kp.scroller.clientWidth;this.force=jp;this.dims=ib(hp);}function bb(hp,ip){var jp=hp.display,kp=hp.doc;if(ip.editorIsHidden){df(hp);return false;}if(!ip.force&&ip.visible.from>=jp.viewFrom&&ip.visible.to<=jp.viewTo&&(jp.updateLineNumbers==null||jp.updateLineNumbers>=jp.viewTo)&&hf(hp)==0)return false;if(xa(hp)){df(hp);ip.dims=ib(hp);}var lp=kp.first+kp.size,mp=Math.max(ip.visible.from-hp.options.viewportMargin,kp.first),np=Math.min(lp,ip.visible.to+hp.options.viewportMargin);if(jp.viewFrom<mp&&mp-jp.viewFrom<20)mp=Math.max(kp.first,jp.viewFrom);if(jp.viewTo>np&&jp.viewTo-np<20)np=Math.min(lp,jp.viewTo);if(ca){mp=tj(hp.doc,mp);np=uj(hp.doc,np);}var op=mp!=jp.viewFrom||np!=jp.viewTo||jp.lastSizeC!=ip.wrapperHeight;gf(hp,mp,np);jp.viewOffset=ll(fl(hp.doc,jp.viewFrom));hp.display.mover.style.top=jp.viewOffset+"px";var pp=hf(hp);if(!op&&pp==0&&!ip.force&&(jp.updateLineNumbers==null||jp.updateLineNumbers>=jp.viewTo))return false;var qp=vn();if(pp>4)jp.lineDiv.style.display="none";jb(hp,jp.updateLineNumbers,ip.dims);if(pp>4)jp.lineDiv.style.display="";if(qp&&vn()!=qp&&qp.offsetHeight)qp.focus();sn(jp.cursorDiv);sn(jp.selectionDiv);if(op){jp.lastSizeC=ip.wrapperHeight;dd(hp,400);}jp.updateLineNumbers=null;return true;}function cb(hp,ip){var jp=ip.force,kp=ip.viewport;for(var lp=true;;lp=false){if(lp&&hp.options.lineWrapping&&ip.oldScrollerWidth!=hp.display.scroller.clientWidth){jp=true;}else{jp=false;if(kp&&kp.top!=null)kp={top:Math.min(hp.doc.height+id(hp.display)-sm-hp.display.scroller.clientHeight,kp.top)};ip.visible=va(hp.display,hp.doc,kp);if(ip.visible.from>=hp.display.viewFrom&&ip.visible.to<=hp.display.viewTo)break;}if(!bb(hp,ip))break;gb(hp);var mp=ta(hp);zc(hp);eb(hp,mp);ua(hp,mp);}mm(hp,"update",hp);if(hp.display.viewFrom!=ip.oldViewFrom||hp.display.viewTo!=ip.oldViewTo)mm(hp,"viewportChange",hp,hp.display.viewFrom,hp.display.viewTo);}function db(hp,ip){var jp=new ab(hp,ip);if(bb(hp,jp)){gb(hp);cb(hp,jp);var kp=ta(hp);zc(hp);eb(hp,kp);ua(hp,kp);}}function eb(hp,ip){hp.display.sizer.style.minHeight=hp.display.heightForcer.style.top=ip.docHeight+"px";hp.display.gutters.style.height=Math.max(ip.docHeight,ip.clientHeight-sm)+"px";}function fb(hp,ip){if(hp.display.sizer.offsetWidth+hp.display.gutters.offsetWidth<hp.display.scroller.clientWidth-1){hp.display.sizer.style.minHeight=hp.display.heightForcer.style.top="0px";hp.display.gutters.style.height=ip.docHeight+"px";}}function gb(hp){var ip=hp.display,jp=ip.lineDiv.offsetTop;for(var kp=0;kp<ip.view.length;kp++){var lp=ip.view[kp],mp;if(lp.hidden)continue;if(k&&l<8){var np=lp.node.offsetTop+lp.node.offsetHeight;mp=np-jp;jp=np;}else{var op=lp.node.getBoundingClientRect();mp=op.bottom-op.top;}var pp=lp.line.height-mp;if(mp<2)mp=ie(ip);if(pp>.001||pp<-.001){il(lp.line,mp);hb(lp.line);if(lp.rest)for(var qp=0;qp<lp.rest.length;qp++)hb(lp.rest[qp]);}}}function hb(hp){if(hp.widgets)for(var ip=0;ip<hp.widgets.length;++ip)hp.widgets[ip].height=hp.widgets[ip].node.offsetHeight;}function ib(hp){var ip=hp.display,jp={},kp={};for(var lp=ip.gutters.firstChild,mp=0;lp;lp=lp.nextSibling,++mp){jp[hp.options.gutters[mp]]=lp.offsetLeft;kp[hp.options.gutters[mp]]=lp.offsetWidth;}return {fixedPos:za(ip),gutterTotalWidth:ip.gutters.offsetWidth,gutterLeft:jp,gutterWidth:kp,wrapperWidth:ip.wrapper.clientWidth};}function jb(hp,ip,jp){var kp=hp.display,lp=hp.options.lineNumbers,mp=kp.lineDiv,np=mp.firstChild;function op(vp){var wp=vp.nextSibling;if(m&&w&&hp.display.currentWheelTarget==vp){vp.style.display="none";}else vp.parentNode.removeChild(vp);return wp;}var pp=kp.view,qp=kp.viewFrom;for(var rp=0;rp<pp.length;rp++){var sp=pp[rp];if(!(sp.hidden))if(!sp.node){var tp=sb(hp,sp,qp,jp);mp.insertBefore(tp,np);}else{while(np!=sp.node)np=op(np);var up=lp&&ip!=null&&ip<=qp&&sp.lineNumber;if(sp.changes){if(en(sp.changes,"gutter")>-1)up=false;kb(hp,sp,qp,jp);}if(up){sn(sp.lineNumber);sp.lineNumber.appendChild(document.createTextNode(ya(hp.options,qp)));}np=sp.node.nextSibling;}qp+=sp.size;}while(np)np=op(np);}function kb(hp,ip,jp,kp){for(var lp=0;lp<ip.changes.length;lp++){var mp=ip.changes[lp];if(mp=="text"){ob(hp,ip);}else if(mp=="gutter"){qb(hp,ip,jp,kp);}else if(mp=="class"){pb(ip);}else if(mp=="widget")rb(ip,kp);}ip.changes=null;}function lb(hp){if(hp.node==hp.text){hp.node=qn("div",null,null,"position: relative");if(hp.text.parentNode)hp.text.parentNode.replaceChild(hp.node,hp.text);hp.node.appendChild(hp.text);if(k&&l<8)hp.node.style.zIndex=2;}return hp.node;}function mb(hp){var ip=hp.bgClass?hp.bgClass+" "+(hp.line.bgClass||""):hp.line.bgClass;if(ip)ip+=" CodeMirror-linebackground";if(hp.background){if(ip){hp.background.className=ip;}else{hp.background.parentNode.removeChild(hp.background);hp.background=null;}}else if(ip){var jp=lb(hp);hp.background=jp.insertBefore(qn("div",null,ip),jp.firstChild);}}function nb(hp,ip){var jp=hp.display.externalMeasured;if(jp&&jp.line==ip.line){hp.display.externalMeasured=null;ip.measure=jp.measure;return jp.built;}return ok(hp,ip);}function ob(hp,ip){var jp=ip.text.className,kp=nb(hp,ip);if(ip.text==ip.node)ip.node=kp.pre;ip.text.parentNode.replaceChild(kp.pre,ip.text);ip.text=kp.pre;if(kp.bgClass!=ip.bgClass||kp.textClass!=ip.textClass){ip.bgClass=kp.bgClass;ip.textClass=kp.textClass;pb(ip);}else if(jp)ip.text.className=jp;}function pb(hp){mb(hp);if(hp.line.wrapClass){lb(hp).className=hp.line.wrapClass;}else if(hp.node!=hp.text)hp.node.className="";var ip=hp.textClass?hp.textClass+" "+(hp.line.textClass||""):hp.line.textClass;hp.text.className=ip||"";}function qb(hp,ip,jp,kp){if(ip.gutter){ip.node.removeChild(ip.gutter);ip.gutter=null;}var lp=ip.line.gutterMarkers;if(hp.options.lineNumbers||lp){var mp=lb(ip),np=ip.gutter=mp.insertBefore(qn("div",null,"CodeMirror-gutter-wrapper","position: absolute; left: "+(hp.options.fixedGutter?kp.fixedPos:-kp.gutterTotalWidth)+"px"),ip.text);if(hp.options.lineNumbers&&(!lp||!lp["CodeMirror-linenumbers"]))ip.lineNumber=np.appendChild(qn("div",ya(hp.options,jp),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+kp.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+hp.display.lineNumInnerWidth+"px"));if(lp)for(var op=0;op<hp.options.gutters.length;++op){var pp=hp.options.gutters[op],qp=lp.hasOwnProperty(pp)&&lp[pp];if(qp)np.appendChild(qn("div",[qp],"CodeMirror-gutter-elt","left: "+kp.gutterLeft[pp]+"px; width: "+kp.gutterWidth[pp]+"px"));}}}function rb(hp,ip){if(hp.alignable)hp.alignable=null;for(var jp=hp.node.firstChild,kp;jp;jp=kp){var kp=jp.nextSibling;if(jp.className=="CodeMirror-linewidget")hp.node.removeChild(jp);}tb(hp,ip);}function sb(hp,ip,jp,kp){var lp=nb(hp,ip);ip.text=ip.node=lp.pre;if(lp.bgClass)ip.bgClass=lp.bgClass;if(lp.textClass)ip.textClass=lp.textClass;pb(ip);qb(hp,ip,jp,kp);tb(ip,kp);return ip.node;}function tb(hp,ip){ub(hp.line,hp,ip,true);if(hp.rest)for(var jp=0;jp<hp.rest.length;jp++)ub(hp.rest[jp],hp,ip,false);}function ub(hp,ip,jp,kp){if(!hp.widgets)return;var lp=lb(ip);for(var mp=0,np=hp.widgets;mp<np.length;++mp){var op=np[mp],pp=qn("div",[op.node],"CodeMirror-linewidget");if(!op.handleMouseEvents)pp.ignoreEvents=true;vb(op,pp,ip,jp);if(kp&&op.above){lp.insertBefore(pp,ip.gutter||ip.text);}else lp.appendChild(pp);mm(op,"redraw");}}function vb(hp,ip,jp,kp){if(hp.noHScroll){(jp.alignable||(jp.alignable=[])).push(ip);var lp=kp.wrapperWidth;ip.style.left=kp.fixedPos+"px";if(!hp.coverGutter){lp-=kp.gutterTotalWidth;ip.style.paddingLeft=kp.gutterTotalWidth+"px";}ip.style.width=lp+"px";}if(hp.coverGutter){ip.style.zIndex=5;ip.style.position="relative";if(!hp.noHScroll)ip.style.marginLeft=-kp.gutterTotalWidth+"px";}}var wb=da.Pos=function(hp,ip){if(!(this instanceof wb))return new wb(hp,ip);this.line=hp;this.ch=ip;},xb=da.cmpPos=function(hp,ip){return hp.line-ip.line||hp.ch-ip.ch;};function yb(hp){return wb(hp.line,hp.ch);}function zb(hp,ip){return xb(hp,ip)<0?ip:hp;}function ac(hp,ip){return xb(hp,ip)<0?hp:ip;}function bc(hp,ip){this.ranges=hp;this.primIndex=ip;}bc.prototype={primary:function(){return this.ranges[this.primIndex];},equals:function(hp){if(hp==this)return true;if(hp.primIndex!=this.primIndex||hp.ranges.length!=this.ranges.length)return false;for(var ip=0;ip<this.ranges.length;ip++){var jp=this.ranges[ip],kp=hp.ranges[ip];if(xb(jp.anchor,kp.anchor)!=0||xb(jp.head,kp.head)!=0)return false;}return true;},deepCopy:function(){for(var hp=[],ip=0;ip<this.ranges.length;ip++)hp[ip]=new cc(yb(this.ranges[ip].anchor),yb(this.ranges[ip].head));return new bc(hp,this.primIndex);},somethingSelected:function(){for(var hp=0;hp<this.ranges.length;hp++)if(!this.ranges[hp].empty())return true;return false;},contains:function(hp,ip){if(!ip)ip=hp;for(var jp=0;jp<this.ranges.length;jp++){var kp=this.ranges[jp];if(xb(ip,kp.from())>=0&&xb(hp,kp.to())<=0)return jp;}return -1;}};function cc(hp,ip){this.anchor=hp;this.head=ip;}cc.prototype={from:function(){return ac(this.anchor,this.head);},to:function(){return zb(this.anchor,this.head);},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch;}};function dc(hp,ip){var jp=hp[ip];hp.sort(function(qp,rp){return xb(qp.from(),rp.from());});ip=en(hp,jp);for(var kp=1;kp<hp.length;kp++){var lp=hp[kp],mp=hp[kp-1];if(xb(mp.to(),lp.from())>=0){var np=ac(mp.from(),lp.from()),op=zb(mp.to(),lp.to()),pp=mp.empty()?lp.from()==lp.head:mp.from()==mp.head;if(kp<=ip)--ip;hp.splice(--kp,2,new cc(pp?op:np,pp?np:op));}}return new bc(hp,ip);}function ec(hp,ip){return new bc([new cc(hp,ip||hp)],0);}function fc(hp,ip){return Math.max(hp.first,Math.min(ip,hp.first+hp.size-1));}function gc(hp,ip){if(ip.line<hp.first)return wb(hp.first,0);var jp=hp.first+hp.size-1;if(ip.line>jp)return wb(jp,fl(hp,jp).text.length);return hc(ip,fl(hp,ip.line).text.length);}function hc(hp,ip){var jp=hp.ch;if(jp==null||jp>ip){return wb(hp.line,ip);}else if(jp<0){return wb(hp.line,0);}else return hp;}function ic(hp,ip){return ip>=hp.first&&ip<hp.first+hp.size;}function jc(hp,ip){for(var jp=[],kp=0;kp<ip.length;kp++)jp[kp]=gc(hp,ip[kp]);return jp;}function kc(hp,ip,jp,kp){if(hp.cm&&hp.cm.display.shift||hp.extend){var lp=ip.anchor;if(kp){var mp=xb(jp,lp)<0;if(mp!=(xb(kp,lp)<0)){lp=jp;jp=kp;}else if(mp!=(xb(jp,kp)<0))jp=kp;}return new cc(lp,jp);}else return new cc(kp||jp,jp);}function lc(hp,ip,jp,kp){rc(hp,new bc([kc(hp,hp.sel.primary(),ip,jp)],0),kp);}function mc(hp,ip,jp){for(var kp=[],lp=0;lp<hp.sel.ranges.length;lp++)kp[lp]=kc(hp,hp.sel.ranges[lp],ip[lp],null);var mp=dc(kp,hp.sel.primIndex);rc(hp,mp,jp);}function nc(hp,ip,jp,kp){var lp=hp.sel.ranges.slice(0);lp[ip]=jp;rc(hp,dc(lp,hp.sel.primIndex),kp);}function oc(hp,ip,jp,kp){rc(hp,ec(ip,jp),kp);}function pc(hp,ip){var jp={ranges:ip.ranges,update:function(kp){this.ranges=[];for(var lp=0;lp<kp.length;lp++)this.ranges[lp]=new cc(gc(hp,kp[lp].anchor),gc(hp,kp[lp].head));}};km(hp,"beforeSelectionChange",hp,jp);if(hp.cm)km(hp.cm,"beforeSelectionChange",hp.cm,jp);if(jp.ranges!=ip.ranges){return dc(jp.ranges,jp.ranges.length-1);}else return ip;}function qc(hp,ip,jp){var kp=hp.history.done,lp=cn(kp);if(lp&&lp.ranges){kp[kp.length-1]=ip;sc(hp,ip,jp);}else rc(hp,ip,jp);}function rc(hp,ip,jp){sc(hp,ip,jp);tl(hp,hp.sel,hp.cm?hp.cm.curOp.id:NaN,jp);}function sc(hp,ip,jp){if(qm(hp,"beforeSelectionChange")||hp.cm&&qm(hp.cm,"beforeSelectionChange"))ip=pc(hp,ip);var kp=jp&&jp.bias||(xb(ip.primary().head,hp.sel.primary().head)<0?-1:1);tc(hp,vc(hp,ip,kp,true));if(!(jp&&jp.scroll===false)&&hp.cm)rh(hp.cm);}function tc(hp,ip){if(ip.equals(hp.sel))return;hp.sel=ip;if(hp.cm){hp.cm.curOp.updateInput=hp.cm.curOp.selectionChanged=true;pm(hp.cm);}mm(hp,"cursorActivity",hp);}function uc(hp){tc(hp,vc(hp,hp.sel,null,false),um);}function vc(hp,ip,jp,kp){var lp;for(var mp=0;mp<ip.ranges.length;mp++){var np=ip.ranges[mp],op=wc(hp,np.anchor,jp,kp),pp=wc(hp,np.head,jp,kp);if(lp||op!=np.anchor||pp!=np.head){if(!lp)lp=ip.ranges.slice(0,mp);lp[mp]=new cc(op,pp);}}return lp?dc(lp,ip.primIndex):ip;}function wc(hp,ip,jp,kp){var lp=false,mp=ip,np=jp||1;hp.cantEdit=false;search:for(;;){var op=fl(hp,mp.line);if(op.markedSpans)for(var pp=0;pp<op.markedSpans.length;++pp){var qp=op.markedSpans[pp],rp=qp.marker;if((qp.from==null||(rp.inclusiveLeft?qp.from<=mp.ch:qp.from<mp.ch))&&(qp.to==null||(rp.inclusiveRight?qp.to>=mp.ch:qp.to>mp.ch))){if(kp){km(rp,"beforeCursorEnter");if(rp.explicitlyCleared)if(!op.markedSpans){break;}else{--pp;continue;}}if(!rp.atomic)continue;var sp=rp.find(np<0?-1:1);if(xb(sp,mp)==0){sp.ch+=np;if(sp.ch<0){if(sp.line>hp.first){sp=gc(hp,wb(sp.line-1));}else sp=null;}else if(sp.ch>op.text.length)if(sp.line<hp.first+hp.size-1){sp=wb(sp.line+1,0);}else sp=null;if(!sp){if(lp){if(!kp)return wc(hp,ip,jp,true);hp.cantEdit=true;return wb(hp.first,0);}lp=true;sp=ip;np=-np;}}mp=sp;continue search;}}return mp;};}function xc(hp){var ip=hp.display,jp=hp.doc,kp={},lp=kp.cursors=document.createDocumentFragment(),mp=kp.selection=document.createDocumentFragment();for(var np=0;np<jp.sel.ranges.length;np++){var op=jp.sel.ranges[np],pp=op.empty();if(pp||hp.options.showCursorWhenSelecting)ad(hp,op,lp);if(!pp)bd(hp,op,mp);}if(hp.options.moveInputWithCursor){var qp=ce(hp,jp.sel.primary().head,"div"),rp=ip.wrapper.getBoundingClientRect(),sp=ip.lineDiv.getBoundingClientRect();kp.teTop=Math.max(0,Math.min(ip.wrapper.clientHeight-10,qp.top+sp.top-rp.top));kp.teLeft=Math.max(0,Math.min(ip.wrapper.clientWidth-10,qp.left+sp.left-rp.left));}return kp;}function yc(hp,ip){tn(hp.display.cursorDiv,ip.cursors);tn(hp.display.selectionDiv,ip.selection);if(ip.teTop!=null){hp.display.inputDiv.style.top=ip.teTop+"px";hp.display.inputDiv.style.left=ip.teLeft+"px";}}function zc(hp){yc(hp,xc(hp));}function ad(hp,ip,jp){var kp=ce(hp,ip.head,"div",null,null,!hp.options.singleCursorHeightPerLine),lp=jp.appendChild(qn("div","\u00a0","CodeMirror-cursor"));lp.style.left=kp.left+"px";lp.style.top=kp.top+"px";lp.style.height=Math.max(0,kp.bottom-kp.top)*hp.options.cursorHeight+"px";if(kp.other){var mp=jp.appendChild(qn("div","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor"));mp.style.display="";mp.style.left=kp.other.left+"px";mp.style.top=kp.other.top+"px";mp.style.height=(kp.other.bottom-kp.other.top)*.85+"px";}}function bd(hp,ip,jp){var kp=hp.display,lp=hp.doc,mp=document.createDocumentFragment(),np=jd(hp.display),op=np.left,pp=kp.lineSpace.offsetWidth-np.right;function qp(zp,aq,bq,cq){if(aq<0)aq=0;aq=Math.round(aq);cq=Math.round(cq);mp.appendChild(qn("div",null,"CodeMirror-selected","position: absolute; left: "+zp+"px; top: "+aq+"px; width: "+(bq==null?pp-zp:bq)+"px; height: "+(cq-aq)+"px"));}function rp(zp,aq,bq){var cq=fl(lp,zp),dq=cq.text.length,eq,fq;function gq(hq,iq){return be(hp,wb(zp,hq),"div",cq,iq);}so(ml(cq),aq||0,bq==null?dq:bq,function(hq,iq,jq){var kq=gq(hq,"left"),lq,mq,nq;if(hq==iq){lq=kq;mq=nq=kq.left;}else{lq=gq(iq-1,"right");if(jq=="rtl"){var oq=kq;kq=lq;lq=oq;}mq=kq.left;nq=lq.right;}if(aq==null&&hq==0)mq=op;if(lq.top-kq.top>3){qp(mq,kq.top,null,kq.bottom);mq=op;if(kq.bottom<lq.top)qp(mq,kq.bottom,null,lq.top);}if(bq==null&&iq==dq)nq=pp;if(!eq||kq.top<eq.top||kq.top==eq.top&&kq.left<eq.left)eq=kq;if(!fq||lq.bottom>fq.bottom||lq.bottom==fq.bottom&&lq.right>fq.right)fq=lq;if(mq<op+1)mq=op;qp(mq,lq.top,nq-mq,lq.bottom);});return {start:eq,end:fq};}var sp=ip.from(),tp=ip.to();if(sp.line==tp.line){rp(sp.line,sp.ch,tp.ch);}else{var up=fl(lp,sp.line),vp=fl(lp,tp.line),wp=rj(up)==rj(vp),xp=rp(sp.line,sp.ch,wp?up.text.length+1:null).end,yp=rp(tp.line,wp?0:null,tp.ch).start;if(wp)if(xp.top<yp.top-2){qp(xp.right,xp.top,null,xp.bottom);qp(op,yp.top,yp.left,yp.bottom);}else qp(xp.right,xp.top,yp.left-xp.right,xp.bottom);if(xp.bottom<yp.top)qp(op,xp.bottom,null,yp.top);}jp.appendChild(mp);}function cd(hp){if(!hp.state.focused)return;var ip=hp.display;clearInterval(ip.blinker);var jp=true;ip.cursorDiv.style.visibility="";if(hp.options.cursorBlinkRate>0){ip.blinker=setInterval(function(){ip.cursorDiv.style.visibility=(jp=!jp)?"":"hidden";},hp.options.cursorBlinkRate);}else if(hp.options.cursorBlinkRate<0)ip.cursorDiv.style.visibility="hidden";}function dd(hp,ip){if(hp.doc.mode.startState&&hp.doc.frontier<hp.display.viewTo)hp.state.highlight.set(ip,jn(ed,hp));}function ed(hp){var ip=hp.doc;if(ip.frontier<ip.first)ip.frontier=ip.first;if(ip.frontier>=hp.display.viewTo)return;var jp=+new Date()+hp.options.workTime,kp=hi(ip.mode,gd(hp,ip.frontier)),lp=[];ip.iter(ip.frontier,Math.min(ip.first+ip.size,hp.display.viewTo+500),function(mp){if(ip.frontier>=hp.display.viewFrom){var np=mp.styles,op=ik(hp,mp,kp,true);mp.styles=op.styles;var pp=mp.styleClasses,qp=op.classes;if(qp){mp.styleClasses=qp;}else if(pp)mp.styleClasses=null;var rp=!np||np.length!=mp.styles.length||pp!=qp&&(!pp||!qp||pp.bgClass!=qp.bgClass||pp.textClass!=qp.textClass);for(var sp=0;!rp&&sp<np.length;++sp)rp=np[sp]!=mp.styles[sp];if(rp)lp.push(ip.frontier);mp.stateAfter=hi(ip.mode,kp);}else{kk(hp,mp.text,kp);mp.stateAfter=ip.frontier%5==0?hi(ip.mode,kp):null;}++ip.frontier;if(+new Date()>jp){dd(hp,hp.options.workDelay);return true;}});if(lp.length)ve(hp,function(){for(var mp=0;mp<lp.length;mp++)cf(hp,lp[mp],"text");});}function fd(hp,ip,jp){var kp,lp,mp=hp.doc,np=jp?-1:ip-(hp.doc.mode.innerMode?1000:100);for(var op=ip;op>np;--op){if(op<=mp.first)return mp.first;var pp=fl(mp,op-1);if(pp.stateAfter&&(!jp||op<=mp.frontier))return op;var qp=ym(pp.text,null,hp.options.tabSize);if(lp==null||kp>qp){lp=op-1;kp=qp;}}return lp;}function gd(hp,ip,jp){var kp=hp.doc,lp=hp.display;if(!kp.mode.startState)return true;var mp=fd(hp,ip,jp),np=mp>kp.first&&fl(kp,mp-1).stateAfter;if(!np){np=ii(kp.mode);}else np=hi(kp.mode,np);kp.iter(mp,ip,function(op){kk(hp,op.text,np);var pp=mp==ip-1||mp%5==0||mp>=lp.viewFrom&&mp<lp.viewTo;op.stateAfter=pp?hi(kp.mode,np):null;++mp;});if(jp)kp.frontier=mp;return np;}function hd(hp){return hp.lineSpace.offsetTop;}function id(hp){return hp.mover.offsetHeight-hp.lineSpace.offsetHeight;}function jd(hp){if(hp.cachedPaddingH)return hp.cachedPaddingH;var ip=tn(hp.measure,qn("pre","x")),jp=window.getComputedStyle?window.getComputedStyle(ip):ip.currentStyle,kp={left:parseInt(jp.paddingLeft),right:parseInt(jp.paddingRight)};if(!isNaN(kp.left)&&!isNaN(kp.right))hp.cachedPaddingH=kp;return kp;}function kd(hp,ip,jp){var kp=hp.options.lineWrapping,lp=kp&&hp.display.scroller.clientWidth;if(!ip.measure.heights||kp&&ip.measure.width!=lp){var mp=ip.measure.heights=[];if(kp){ip.measure.width=lp;var np=ip.text.firstChild.getClientRects();for(var op=0;op<np.length-1;op++){var pp=np[op],qp=np[op+1];if(Math.abs(pp.bottom-qp.bottom)>2)mp.push((pp.bottom+qp.top)/2-jp.top);}}mp.push(jp.bottom-jp.top);}}function ld(hp,ip,jp){if(hp.line==ip)return {map:hp.measure.map,cache:hp.measure.cache};for(var kp=0;kp<hp.rest.length;kp++)if(hp.rest[kp]==ip)return {map:hp.measure.maps[kp],cache:hp.measure.caches[kp]};for(var kp=0;kp<hp.rest.length;kp++)if(jl(hp.rest[kp])>jp)return {map:hp.measure.maps[kp],cache:hp.measure.caches[kp],before:true};}function md(hp,ip){ip=rj(ip);var jp=jl(ip),kp=hp.display.externalMeasured=new ze(hp.doc,ip,jp);kp.lineN=jp;var lp=kp.built=ok(hp,kp);kp.text=lp.pre;tn(hp.display.lineMeasure,lp.pre);return kp;}function nd(hp,ip,jp,kp){return qd(hp,pd(hp,ip),jp,kp);}function od(hp,ip){if(ip>=hp.display.viewFrom&&ip<hp.display.viewTo)return hp.display.view[ef(hp,ip)];var jp=hp.display.externalMeasured;if(jp&&ip>=jp.lineN&&ip<jp.lineN+jp.size)return jp;}function pd(hp,ip){var jp=jl(ip),kp=od(hp,jp);if(kp&&!kp.text){kp=null;}else if(kp&&kp.changes)kb(hp,kp,jp,ib(hp));if(!kp)kp=md(hp,ip);var lp=ld(kp,ip,jp);return {line:ip,view:kp,rect:null,map:lp.map,cache:lp.cache,before:lp.before,hasHeights:false};}function qd(hp,ip,jp,kp,lp){if(ip.before)jp=-1;var mp=jp+(kp||""),np;if(ip.cache.hasOwnProperty(mp)){np=ip.cache[mp];}else{if(!ip.rect)ip.rect=ip.view.text.getBoundingClientRect();if(!ip.hasHeights){kd(hp,ip.view,ip.rect);ip.hasHeights=true;}np=sd(hp,ip,jp,kp);if(!np.bogus)ip.cache[mp]=np;}return {left:np.left,right:np.right,top:lp?np.rtop:np.top,bottom:lp?np.rbottom:np.bottom};}var rd={left:0,right:0,top:0,bottom:0};function sd(hp,ip,jp,kp){var lp=ip.map,mp,np,op,pp;for(var qp=0;qp<lp.length;qp+=3){var rp=lp[qp],sp=lp[qp+1];if(jp<rp){np=0;op=1;pp="left";}else if(jp<sp){np=jp-rp;op=np+1;}else if(qp==lp.length-3||jp==sp&&lp[qp+3]>jp){op=sp-rp;np=op-1;if(jp>=sp)pp="right";}if(np!=null){mp=lp[qp+2];if(rp==sp&&kp==(mp.insertLeft?"left":"right"))pp=kp;if(kp=="left"&&np==0)while(qp&&lp[qp-2]==lp[qp-3]&&lp[qp-1].insertLeft){mp=lp[(qp-=3)+2];pp="left";}if(kp=="right"&&np==sp-rp)while(qp<lp.length-3&&lp[qp+3]==lp[qp+4]&&!lp[qp+5].insertLeft){mp=lp[(qp+=3)+2];pp="right";}break;}}var tp;if(mp.nodeType==3){for(var qp=0;qp<4;qp++){while(np&&pn(ip.line.text.charAt(rp+np)))--np;while(rp+op<sp&&pn(ip.line.text.charAt(rp+op)))++op;if(k&&l<9&&np==0&&op==sp-rp){tp=mp.parentNode.getBoundingClientRect();}else if(k&&hp.options.lineWrapping){var up=rn(mp,np,op).getClientRects();if(up.length){tp=up[kp=="right"?up.length-1:0];}else tp=rd;}else tp=rn(mp,np,op).getBoundingClientRect()||rd;if(tp.left||tp.right||np==0)break;op=np;np=np-1;pp="right";}if(k&&l<11)tp=td(hp.display.measure,tp);}else{if(np>0)pp=kp="right";var up;if(hp.options.lineWrapping&&(up=mp.getClientRects()).length>1){tp=up[kp=="right"?up.length-1:0];}else tp=mp.getBoundingClientRect();}if(k&&l<9&&!np&&(!tp||!tp.left&&!tp.right)){var vp=mp.parentNode.getClientRects()[0];if(vp){tp={left:vp.left,right:vp.left+je(hp.display),top:vp.top,bottom:vp.bottom};}else tp=rd;}var wp=tp.top-ip.rect.top,xp=tp.bottom-ip.rect.top,yp=(wp+xp)/2,zp=ip.view.measure.heights;for(var qp=0;qp<zp.length-1;qp++)if(yp<zp[qp])break;var aq=qp?zp[qp-1]:0,bq=zp[qp],cq={left:(pp=="right"?tp.right:tp.left)-ip.rect.left,right:(pp=="left"?tp.left:tp.right)-ip.rect.left,top:aq,bottom:bq};if(!tp.left&&!tp.right)cq.bogus=true;if(!hp.options.singleCursorHeightPerLine){cq.rtop=wp;cq.rbottom=xp;}return cq;}function td(hp,ip){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!qo(hp))return ip;var jp=screen.logicalXDPI/screen.deviceXDPI,kp=screen.logicalYDPI/screen.deviceYDPI;return {left:ip.left*jp,right:ip.right*jp,top:ip.top*kp,bottom:ip.bottom*kp};}function ud(hp){if(hp.measure){hp.measure.cache={};hp.measure.heights=null;if(hp.rest)for(var ip=0;ip<hp.rest.length;ip++)hp.measure.caches[ip]={};}}function vd(hp){hp.display.externalMeasure=null;sn(hp.display.lineMeasure);for(var ip=0;ip<hp.display.view.length;ip++)ud(hp.display.view[ip]);}function wd(hp){vd(hp);hp.display.cachedCharWidth=hp.display.cachedTextHeight=hp.display.cachedPaddingH=null;if(!hp.options.lineWrapping)hp.display.maxLineChanged=true;hp.display.lineNumChars=null;}function xd(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft;}function yd(){return window.pageYOffset||(document.documentElement||document.body).scrollTop;}function zd(hp,ip,jp,kp){if(ip.widgets)for(var lp=0;lp<ip.widgets.length;++lp)if(ip.widgets[lp].above){var mp=zj(ip.widgets[lp]);jp.top+=mp;jp.bottom+=mp;}if(kp=="line")return jp;if(!kp)kp="local";var np=ll(ip);if(kp=="local"){np+=hd(hp.display);}else np-=hp.display.viewOffset;if(kp=="page"||kp=="window"){var op=hp.display.lineSpace.getBoundingClientRect();np+=op.top+(kp=="window"?0:yd());var pp=op.left+(kp=="window"?0:xd());jp.left+=pp;jp.right+=pp;}jp.top+=np;jp.bottom+=np;return jp;}function ae(hp,ip,jp){if(jp=="div")return ip;var kp=ip.left,lp=ip.top;if(jp=="page"){kp-=xd();lp-=yd();}else if(jp=="local"||!jp){var mp=hp.display.sizer.getBoundingClientRect();kp+=mp.left;lp+=mp.top;}var np=hp.display.lineSpace.getBoundingClientRect();return {left:kp-np.left,top:lp-np.top};}function be(hp,ip,jp,kp,lp){if(!kp)kp=fl(hp.doc,ip.line);return zd(hp,kp,nd(hp,kp,ip.ch,lp),jp);}function ce(hp,ip,jp,kp,lp,mp){kp=kp||fl(hp.doc,ip.line);if(!lp)lp=pd(hp,kp);function np(tp,up){var vp=qd(hp,lp,tp,up?"right":"left",mp);if(up){vp.left=vp.right;}else vp.right=vp.left;return zd(hp,kp,vp,jp);}function op(tp,up){var vp=pp[up],wp=vp.level%2;if(tp==to(vp)&&up&&vp.level<pp[up-1].level){vp=pp[--up];tp=uo(vp)-(vp.level%2?0:1);wp=true;}else if(tp==uo(vp)&&up<pp.length-1&&vp.level<pp[up+1].level){vp=pp[++up];tp=to(vp)-vp.level%2;wp=false;}if(wp&&tp==vp.to&&tp>vp.from)return np(tp-1);return np(tp,wp);}var pp=ml(kp),qp=ip.ch;if(!pp)return np(qp);var rp=cp(pp,qp),sp=op(qp,rp);if(bp!=null)sp.other=op(qp,bp);return sp;}function de(hp,ip){var jp=0,ip=gc(hp.doc,ip);if(!hp.options.lineWrapping)jp=je(hp.display)*ip.ch;var kp=fl(hp.doc,ip.line),lp=ll(kp)+hd(hp.display);return {left:jp,right:jp,top:lp,bottom:lp+kp.height};}function ee(hp,ip,jp,kp){var lp=wb(hp,ip);lp.xRel=kp;if(jp)lp.outside=true;return lp;}function fe(hp,ip,jp){var kp=hp.doc;jp+=hp.display.viewOffset;if(jp<0)return ee(kp.first,0,true,-1);var lp=kl(kp,jp),mp=kp.first+kp.size-1;if(lp>mp)return ee(kp.first+kp.size-1,fl(kp,mp).text.length,true,1);if(ip<0)ip=0;var np=fl(kp,lp);for(;;){var op=ge(hp,np,lp,ip,jp),pp=pj(np),qp=pp&&pp.find(0,true);if(pp&&(op.ch>qp.from.ch||op.ch==qp.from.ch&&op.xRel>0)){lp=jl(np=qp.to.line);}else return op;}}function ge(hp,ip,jp,kp,lp){var mp=lp-ll(ip),np=false,op=2*hp.display.wrapper.clientWidth,pp=pd(hp,ip);function qp(gq){var hq=ce(hp,wb(jp,gq),"line",ip,pp);np=true;if(mp>hq.bottom){return hq.left-op;}else if(mp<hq.top){return hq.left+op;}else np=false;return hq.left;}var rp=ml(ip),sp=ip.text.length,tp=vo(ip),up=wo(ip),vp=qp(tp),wp=np,xp=qp(up),yp=np;if(kp>xp)return ee(jp,up,yp,1);for(;;){if(rp?up==tp||up==ep(ip,tp,1):up-tp<=1){var zp=kp<vp||kp-vp<=xp-kp?tp:up,aq=kp-(zp==tp?vp:xp);while(pn(ip.text.charAt(zp)))++zp;var bq=ee(jp,zp,zp==tp?wp:yp,aq<-1?-1:aq>1?1:0);return bq;}var cq=Math.ceil(sp/2),dq=tp+cq;if(rp){dq=tp;for(var eq=0;eq<cq;++eq)dq=ep(ip,dq,1);}var fq=qp(dq);if(fq>kp){up=dq;xp=fq;if(yp=np)xp+=1000;sp=cq;}else{tp=dq;vp=fq;wp=np;sp-=cq;}}}var he;function ie(hp){if(hp.cachedTextHeight!=null)return hp.cachedTextHeight;if(he==null){he=qn("pre");for(var ip=0;ip<49;++ip){he.appendChild(document.createTextNode("x"));he.appendChild(qn("br"));}he.appendChild(document.createTextNode("x"));}tn(hp.measure,he);var jp=he.offsetHeight/50;if(jp>3)hp.cachedTextHeight=jp;sn(hp.measure);return jp||1;}function je(hp){if(hp.cachedCharWidth!=null)return hp.cachedCharWidth;var ip=qn("span","xxxxxxxxxx"),jp=qn("pre",[ip]);tn(hp.measure,jp);var kp=ip.getBoundingClientRect(),lp=(kp.right-kp.left)/10;if(lp>2)hp.cachedCharWidth=lp;return lp||10;}var ke=null,le=0;function me(hp){hp.curOp={cm:hp,viewChanged:false,startHeight:hp.doc.height,forceUpdate:false,updateInput:null,typing:false,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:false,updateMaxLine:false,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++le};if(ke){ke.ops.push(hp.curOp);}else hp.curOp.ownsGroup=ke={ops:[hp.curOp],delayedCallbacks:[]};}function ne(hp){var ip=hp.delayedCallbacks,jp=0;do{for(;jp<ip.length;jp++)ip[jp]();for(var kp=0;kp<hp.ops.length;kp++){var lp=hp.ops[kp];if(lp.cursorActivityHandlers)while(lp.cursorActivityCalled<lp.cursorActivityHandlers.length)lp.cursorActivityHandlers[lp.cursorActivityCalled++](lp.cm);}}while(jp<ip.length);}function oe(hp){var ip=hp.curOp,jp=ip.ownsGroup;if(!jp)return;try{ne(jp);}finally{ke=null;for(var kp=0;kp<jp.ops.length;kp++)jp.ops[kp].cm.curOp=null;pe(jp);}}function pe(hp){var ip=hp.ops;for(var jp=0;jp<ip.length;jp++)qe(ip[jp]);for(var jp=0;jp<ip.length;jp++)re(ip[jp]);for(var jp=0;jp<ip.length;jp++)se(ip[jp]);for(var jp=0;jp<ip.length;jp++)te(ip[jp]);for(var jp=0;jp<ip.length;jp++)ue(ip[jp]);}function qe(hp){var ip=hp.cm,jp=ip.display;if(hp.updateMaxLine)qa(ip);hp.mustUpdate=hp.viewChanged||hp.forceUpdate||hp.scrollTop!=null||hp.scrollToPos&&(hp.scrollToPos.from.line<jp.viewFrom||hp.scrollToPos.to.line>=jp.viewTo)||jp.maxLineChanged&&ip.options.lineWrapping;hp.update=hp.mustUpdate&&new ab(ip,hp.mustUpdate&&{top:hp.scrollTop,ensure:hp.scrollToPos},hp.forceUpdate);}function re(hp){hp.updatedDisplay=hp.mustUpdate&&bb(hp.cm,hp.update);}function se(hp){var ip=hp.cm,jp=ip.display;if(hp.updatedDisplay)gb(ip);hp.barMeasure=ta(ip);if(jp.maxLineChanged&&!ip.options.lineWrapping){hp.adjustWidthTo=nd(ip,jp.maxLine,jp.maxLine.text.length).left+3;hp.maxScrollLeft=Math.max(0,jp.sizer.offsetLeft+hp.adjustWidthTo+sm-jp.scroller.clientWidth);}if(hp.updatedDisplay||hp.selectionChanged)hp.newSelectionNodes=xc(ip);}function te(hp){var ip=hp.cm;if(hp.adjustWidthTo!=null){ip.display.sizer.style.minWidth=hp.adjustWidthTo+"px";if(hp.maxScrollLeft<ip.doc.scrollLeft)hg(ip,Math.min(ip.display.scroller.scrollLeft,hp.maxScrollLeft),true);ip.display.maxLineChanged=false;}if(hp.newSelectionNodes)yc(ip,hp.newSelectionNodes);if(hp.updatedDisplay)eb(ip,hp.barMeasure);if(hp.updatedDisplay||hp.startHeight!=ip.doc.height)ua(ip,hp.barMeasure);if(hp.selectionChanged)cd(ip);if(ip.state.focused&&hp.updateInput)nf(ip,hp.typing);}function ue(hp){var ip=hp.cm,jp=ip.display,kp=ip.doc;if(hp.adjustWidthTo!=null&&Math.abs(hp.barMeasure.scrollWidth-ip.display.scroller.scrollWidth)>1)ua(ip);if(hp.updatedDisplay)cb(ip,hp.update);if(jp.wheelStartX!=null&&(hp.scrollTop!=null||hp.scrollLeft!=null||hp.scrollToPos))jp.wheelStartX=jp.wheelStartY=null;if(hp.scrollTop!=null&&(jp.scroller.scrollTop!=hp.scrollTop||hp.forceScroll)){var lp=Math.max(0,Math.min(jp.scroller.scrollHeight-jp.scroller.clientHeight,hp.scrollTop));jp.scroller.scrollTop=jp.scrollbarV.scrollTop=kp.scrollTop=lp;}if(hp.scrollLeft!=null&&(jp.scroller.scrollLeft!=hp.scrollLeft||hp.forceScroll)){var mp=Math.max(0,Math.min(jp.scroller.scrollWidth-jp.scroller.clientWidth,hp.scrollLeft));jp.scroller.scrollLeft=jp.scrollbarH.scrollLeft=kp.scrollLeft=mp;wa(ip);}if(hp.scrollToPos){var np=nh(ip,gc(kp,hp.scrollToPos.from),gc(kp,hp.scrollToPos.to),hp.scrollToPos.margin);if(hp.scrollToPos.isCursor&&ip.state.focused)mh(ip,np);}var op=hp.maybeHiddenMarkers,pp=hp.maybeUnhiddenMarkers;if(op)for(var qp=0;qp<op.length;++qp)if(!op[qp].lines.length)km(op[qp],"hide");if(pp)for(var qp=0;qp<pp.length;++qp)if(pp[qp].lines.length)km(pp[qp],"unhide");if(jp.wrapper.offsetHeight)kp.scrollTop=ip.display.scroller.scrollTop;if(hp.updatedDisplay&&m){if(ip.options.lineWrapping)fb(ip,hp.barMeasure);if(hp.barMeasure.scrollWidth>hp.barMeasure.clientWidth&&hp.barMeasure.scrollWidth<hp.barMeasure.clientWidth+1&&!sa(ip))ua(ip);}if(hp.changeObjs)km(ip,"changes",ip,hp.changeObjs);}function ve(hp,ip){if(hp.curOp)return ip();me(hp);try{return ip();}finally{oe(hp);}}function we(hp,ip){return function(){if(hp.curOp)return ip.apply(hp,arguments);me(hp);try{return ip.apply(hp,arguments);}finally{oe(hp);}};}function xe(hp){return function(){if(this.curOp)return hp.apply(this,arguments);me(this);try{return hp.apply(this,arguments);}finally{oe(this);}};}function ye(hp){return function(){var ip=this.cm;if(!ip||ip.curOp)return hp.apply(this,arguments);me(ip);try{return hp.apply(this,arguments);}finally{oe(ip);}};}function ze(hp,ip,jp){this.line=ip;this.rest=sj(ip);this.size=this.rest?jl(cn(this.rest))-jp+1:1;this.node=this.text=null;this.hidden=vj(hp,ip);}function af(hp,ip,jp){var kp=[],lp;for(var mp=ip;mp<jp;mp=lp){var np=new ze(hp.doc,fl(hp.doc,mp),mp);lp=mp+np.size;kp.push(np);}return kp;}function bf(hp,ip,jp,kp){if(ip==null)ip=hp.doc.first;if(jp==null)jp=hp.doc.first+hp.doc.size;if(!kp)kp=0;var lp=hp.display;if(kp&&jp<lp.viewTo&&(lp.updateLineNumbers==null||lp.updateLineNumbers>ip))lp.updateLineNumbers=ip;hp.curOp.viewChanged=true;if(ip>=lp.viewTo){if(ca&&tj(hp.doc,ip)<lp.viewTo)df(hp);}else if(jp<=lp.viewFrom){if(ca&&uj(hp.doc,jp+kp)>lp.viewFrom){df(hp);}else{lp.viewFrom+=kp;lp.viewTo+=kp;}}else if(ip<=lp.viewFrom&&jp>=lp.viewTo){df(hp);}else if(ip<=lp.viewFrom){var mp=ff(hp,jp,jp+kp,1);if(mp){lp.view=lp.view.slice(mp.index);lp.viewFrom=mp.lineN;lp.viewTo+=kp;}else df(hp);}else if(jp>=lp.viewTo){var mp=ff(hp,ip,ip,-1);if(mp){lp.view=lp.view.slice(0,mp.index);lp.viewTo=mp.lineN;}else df(hp);}else{var np=ff(hp,ip,ip,-1),op=ff(hp,jp,jp+kp,1);if(np&&op){lp.view=lp.view.slice(0,np.index).concat(af(hp,np.lineN,op.lineN)).concat(lp.view.slice(op.index));lp.viewTo+=kp;}else df(hp);}var pp=lp.externalMeasured;if(pp)if(jp<pp.lineN){pp.lineN+=kp;}else if(ip<pp.lineN+pp.size)lp.externalMeasured=null;}function cf(hp,ip,jp){hp.curOp.viewChanged=true;var kp=hp.display,lp=hp.display.externalMeasured;if(lp&&ip>=lp.lineN&&ip<lp.lineN+lp.size)kp.externalMeasured=null;if(ip<kp.viewFrom||ip>=kp.viewTo)return;var mp=kp.view[ef(hp,ip)];if(mp.node==null)return;var np=mp.changes||(mp.changes=[]);if(en(np,jp)==-1)np.push(jp);}function df(hp){hp.display.viewFrom=hp.display.viewTo=hp.doc.first;hp.display.view=[];hp.display.viewOffset=0;}function ef(hp,ip){if(ip>=hp.display.viewTo)return null;ip-=hp.display.viewFrom;if(ip<0)return null;var jp=hp.display.view;for(var kp=0;kp<jp.length;kp++){ip-=jp[kp].size;if(ip<0)return kp;}}function ff(hp,ip,jp,kp){var lp=ef(hp,ip),mp,np=hp.display.view;if(!ca||jp==hp.doc.first+hp.doc.size)return {index:lp,lineN:jp};for(var op=0,pp=hp.display.viewFrom;op<lp;op++)pp+=np[op].size;if(pp!=ip){if(kp>0){if(lp==np.length-1)return null;mp=(pp+np[lp].size)-ip;lp++;}else mp=pp-ip;ip+=mp;jp+=mp;}while(tj(hp.doc,jp)!=jp){if(lp==(kp<0?0:np.length-1))return null;jp+=kp*np[lp-(kp<0?1:0)].size;lp+=kp;}return {index:lp,lineN:jp};}function gf(hp,ip,jp){var kp=hp.display,lp=kp.view;if(lp.length==0||ip>=kp.viewTo||jp<=kp.viewFrom){kp.view=af(hp,ip,jp);kp.viewFrom=ip;}else{if(kp.viewFrom>ip){kp.view=af(hp,ip,kp.viewFrom).concat(kp.view);}else if(kp.viewFrom<ip)kp.view=kp.view.slice(ef(hp,ip));kp.viewFrom=ip;if(kp.viewTo<jp){kp.view=kp.view.concat(af(hp,kp.viewTo,jp));}else if(kp.viewTo>jp)kp.view=kp.view.slice(0,ef(hp,jp));}kp.viewTo=jp;}function hf(hp){var ip=hp.display.view,jp=0;for(var kp=0;kp<ip.length;kp++){var lp=ip[kp];if(!lp.hidden&&(!lp.node||lp.changes))++jp;}return jp;}function jf(hp){if(hp.display.pollingFast)return;hp.display.poll.set(hp.options.pollInterval,function(){mf(hp);if(hp.state.focused)jf(hp);});}function kf(hp){var ip=false;hp.display.pollingFast=true;function jp(){var kp=mf(hp);if(!kp&&!ip){ip=true;hp.display.poll.set(60,jp);}else{hp.display.pollingFast=false;jf(hp);}}hp.display.poll.set(20,jp);}var lf=null;function mf(hp){var ip=hp.display.input,jp=hp.display.prevInput,kp=hp.doc;if(!hp.state.focused||(no(ip)&&!jp)||qf(hp)||hp.options.disableInput)return false;if(hp.state.pasteIncoming&&hp.state.fakedLastChar){ip.value=ip.value.substring(0,ip.value.length-1);hp.state.fakedLastChar=false;}var lp=ip.value;if(lp==jp&&!hp.somethingSelected())return false;if(k&&l>=9&&hp.display.inputHasSelection===lp||w&&/[\uf700-\uf7ff]/.test(lp)){nf(hp);return false;}var mp=!hp.curOp;if(mp)me(hp);hp.display.shift=false;if(lp.charCodeAt(0)==8203&&kp.sel==hp.display.selForContextMenu&&!jp)jp="\u200b";var np=0,op=Math.min(jp.length,lp.length);while(np<op&&jp.charCodeAt(np)==lp.charCodeAt(np))++np;var pp=lp.slice(np),qp=mo(pp),rp=null;if(hp.state.pasteIncoming&&kp.sel.ranges.length>1)if(lf&&lf.join("\n")==pp){rp=kp.sel.ranges.length%lf.length==0&&fn(lf,mo);}else if(qp.length==kp.sel.ranges.length)rp=fn(qp,function(bq){return [bq];});for(var sp=kp.sel.ranges.length-1;sp>=0;sp--){var tp=kp.sel.ranges[sp],up=tp.from(),vp=tp.to();if(np<jp.length){up=wb(up.line,up.ch-(jp.length-np));}else if(hp.state.overwrite&&tp.empty()&&!hp.state.pasteIncoming)vp=wb(vp.line,Math.min(fl(kp,vp.line).text.length,vp.ch+cn(qp).length));var wp=hp.curOp.updateInput,xp={from:up,to:vp,text:rp?rp[sp%rp.length]:qp,origin:hp.state.pasteIncoming?"paste":hp.state.cutIncoming?"cut":"+input"};fh(hp.doc,xp);mm(hp,"inputRead",hp,xp);if(pp&&!hp.state.pasteIncoming&&hp.options.electricChars&&hp.options.smartIndent&&tp.head.ch<100&&(!sp||kp.sel.ranges[sp-1].head.line!=tp.head.line)){var yp=hp.getModeAt(tp.head),zp=zg(xp);if(yp.electricChars){for(var aq=0;aq<yp.electricChars.length;aq++)if(pp.indexOf(yp.electricChars.charAt(aq))>-1){th(hp,zp.line,"smart");break;}}else if(yp.electricInput)if(yp.electricInput.test(fl(kp,zp.line).text.slice(0,zp.ch)))th(hp,zp.line,"smart");}}rh(hp);hp.curOp.updateInput=wp;hp.curOp.typing=true;if(lp.length>1000||lp.indexOf("\n")>-1){ip.value=hp.display.prevInput="";}else hp.display.prevInput=lp;if(mp)oe(hp);hp.state.pasteIncoming=hp.state.cutIncoming=false;return true;}function nf(hp,ip){var jp,kp,lp=hp.doc;if(hp.somethingSelected()){hp.display.prevInput="";var mp=lp.sel.primary();jp=oo&&(mp.to().line-mp.from().line>100||(kp=hp.getSelection()).length>1000);var np=jp?"-":kp||hp.getSelection();hp.display.input.value=np;if(hp.state.focused)dn(hp.display.input);if(k&&l>=9)hp.display.inputHasSelection=np;}else if(!ip){hp.display.prevInput=hp.display.input.value="";if(k&&l>=9)hp.display.inputHasSelection=null;}hp.display.inaccurateSelection=jp;}function of(hp){if(hp.options.readOnly!="nocursor"&&(!v||vn()!=hp.display.input))hp.display.input.focus();}function pf(hp){if(!hp.state.focused){of(hp);vg(hp);}}function qf(hp){return hp.options.readOnly||hp.doc.cantEdit;}function rf(hp){var ip=hp.display;im(ip.scroller,"mousedown",we(hp,vf));if(k&&l<11){im(ip.scroller,"dblclick",we(hp,function(mp){if(om(hp,mp))return;var np=uf(hp,mp);if(!np||cg(hp,mp)||tf(hp.display,mp))return;cm(mp);var op=hp.findWordAt(np);lc(hp.doc,op.anchor,op.head);}));}else im(ip.scroller,"dblclick",function(mp){om(hp,mp)||cm(mp);});im(ip.lineSpace,"selectstart",function(mp){if(!tf(ip,mp))cm(mp);});if(!aa)im(ip.scroller,"contextmenu",function(mp){xg(hp,mp);});im(ip.scroller,"scroll",function(){if(ip.scroller.clientHeight){gg(hp,ip.scroller.scrollTop);hg(hp,ip.scroller.scrollLeft,true);km(hp,"scroll",hp);}});im(ip.scrollbarV,"scroll",function(){if(ip.scroller.clientHeight)gg(hp,ip.scrollbarV.scrollTop);});im(ip.scrollbarH,"scroll",function(){if(ip.scroller.clientHeight)hg(hp,ip.scrollbarH.scrollLeft);});im(ip.scroller,"mousewheel",function(mp){kg(hp,mp);});im(ip.scroller,"DOMMouseScroll",function(mp){kg(hp,mp);});function jp(){if(hp.state.focused)setTimeout(jn(of,hp),0);}im(ip.scrollbarH,"mousedown",jp);im(ip.scrollbarV,"mousedown",jp);im(ip.wrapper,"scroll",function(){ip.wrapper.scrollTop=ip.wrapper.scrollLeft=0;});im(ip.input,"keyup",function(mp){tg.call(hp,mp);});im(ip.input,"input",function(){if(k&&l>=9&&hp.display.inputHasSelection)hp.display.inputHasSelection=null;kf(hp);});im(ip.input,"keydown",we(hp,rg));im(ip.input,"keypress",we(hp,ug));im(ip.input,"focus",jn(vg,hp));im(ip.input,"blur",jn(wg,hp));function kp(mp){if(!om(hp,mp))fm(mp);}if(hp.options.dragDrop){im(ip.scroller,"dragstart",function(mp){fg(hp,mp);});im(ip.scroller,"dragenter",kp);im(ip.scroller,"dragover",kp);im(ip.scroller,"drop",we(hp,eg));}im(ip.scroller,"paste",function(mp){if(tf(ip,mp))return;hp.state.pasteIncoming=true;of(hp);kf(hp);});im(ip.input,"paste",function(){if(m&&!hp.state.fakedLastChar&&!(new Date()-hp.state.lastMiddleDown<200)){var mp=ip.input.selectionStart,np=ip.input.selectionEnd;ip.input.value+="$";ip.input.selectionEnd=np;ip.input.selectionStart=mp;hp.state.fakedLastChar=true;}hp.state.pasteIncoming=true;kf(hp);});function lp(mp){if(hp.somethingSelected()){lf=hp.getSelections();if(ip.inaccurateSelection){ip.prevInput="";ip.inaccurateSelection=false;ip.input.value=lf.join("\n");dn(ip.input);}}else{var np=[],op=[];for(var pp=0;pp<hp.doc.sel.ranges.length;pp++){var qp=hp.doc.sel.ranges[pp].head.line,rp={anchor:wb(qp,0),head:wb(qp+1,0)};op.push(rp);np.push(hp.getRange(rp.anchor,rp.head));}if(mp.type=="cut"){hp.setSelections(op,null,um);}else{ip.prevInput="";ip.input.value=np.join("\n");dn(ip.input);}lf=np;}if(mp.type=="cut")hp.state.cutIncoming=true;}im(ip.input,"cut",lp);im(ip.input,"copy",lp);if(r)im(ip.sizer,"mouseup",function(){if(vn()==ip.input)ip.input.blur();of(hp);});}function sf(hp){var ip=hp.display;ip.cachedCharWidth=ip.cachedTextHeight=ip.cachedPaddingH=null;hp.setSize();}function tf(hp,ip){for(var jp=gm(ip);jp!=hp.wrapper;jp=jp.parentNode)if(!jp||jp.ignoreEvents||jp.parentNode==hp.sizer&&jp!=hp.mover)return true;}function uf(hp,ip,jp,kp){var lp=hp.display;if(!jp){var mp=gm(ip);if(mp==lp.scrollbarH||mp==lp.scrollbarV||mp==lp.scrollbarFiller||mp==lp.gutterFiller)return null;}var np,op,pp=lp.lineSpace.getBoundingClientRect();try{np=ip.clientX-pp.left;op=ip.clientY-pp.top;}catch(ip){return null;}var qp=fe(hp,np,op),rp;if(kp&&qp.xRel==1&&(rp=fl(hp.doc,qp.line).text).length==qp.ch){var sp=ym(rp,rp.length,hp.options.tabSize)-rp.length;qp=wb(qp.line,Math.max(0,Math.round((np-jd(hp.display).left)/je(hp.display))-sp));}return qp;}function vf(hp){if(om(this,hp))return;var ip=this,jp=ip.display;jp.shift=hp.shiftKey;if(tf(jp,hp)){if(!m){jp.scroller.draggable=false;setTimeout(function(){jp.scroller.draggable=true;},100);}return;}if(cg(ip,hp))return;var kp=uf(ip,hp);window.focus();switch(hm(hp)){case 1:if(kp){yf(ip,hp,kp);}else if(gm(hp)==jp.scroller)cm(hp);break;case 2:if(m)ip.state.lastMiddleDown=+new Date();if(kp)lc(ip.doc,kp);setTimeout(jn(of,ip),20);cm(hp);break;case 3:if(aa)xg(ip,hp);break;}}var wf,xf;function yf(hp,ip,jp){setTimeout(jn(pf,hp),0);var kp=+new Date(),lp;if(xf&&xf.time>kp-400&&xb(xf.pos,jp)==0){lp="triple";}else if(wf&&wf.time>kp-400&&xb(wf.pos,jp)==0){lp="double";xf={time:kp,pos:jp};}else{lp="single";wf={time:kp,pos:jp};}var mp=hp.doc.sel,np=w?ip.metaKey:ip.ctrlKey;if(hp.options.dragDrop&&fo&&!qf(hp)&&lp=="single"&&mp.contains(jp)>-1&&mp.somethingSelected()){zf(hp,ip,jp,np);}else ag(hp,ip,jp,lp,np);}function zf(hp,ip,jp,kp){var lp=hp.display,mp=we(hp,function(np){if(m)lp.scroller.draggable=false;hp.state.draggingText=false;jm(document,"mouseup",mp);jm(lp.scroller,"drop",mp);if(Math.abs(ip.clientX-np.clientX)+Math.abs(ip.clientY-np.clientY)<10){cm(np);if(!kp)lc(hp.doc,jp);of(hp);if(k&&l==9)setTimeout(function(){document.body.focus();of(hp);},20);}});if(m)lp.scroller.draggable=true;hp.state.draggingText=mp;if(lp.scroller.dragDrop)lp.scroller.dragDrop();im(document,"mouseup",mp);im(lp.scroller,"drop",mp);}function ag(hp,ip,jp,kp,lp){var mp=hp.display,np=hp.doc;cm(ip);var op,pp,qp=np.sel;if(lp&&!ip.shiftKey){pp=np.sel.contains(jp);if(pp>-1){op=np.sel.ranges[pp];}else op=new cc(jp,jp);}else op=np.sel.primary();if(ip.altKey){kp="rect";if(!lp)op=new cc(jp,jp);jp=uf(hp,ip,true,true);pp=-1;}else if(kp=="double"){var rp=hp.findWordAt(jp);if(hp.display.shift||np.extend){op=kc(np,op,rp.anchor,rp.head);}else op=rp;}else if(kp=="triple"){var sp=new cc(wb(jp.line,0),gc(np,wb(jp.line+1,0)));if(hp.display.shift||np.extend){op=kc(np,op,sp.anchor,sp.head);}else op=sp;}else op=kc(np,op,jp);if(!lp){pp=0;rc(np,new bc([op],0),vm);qp=np.sel;}else if(pp>-1){nc(np,pp,op,vm);}else{pp=np.sel.ranges.length;rc(np,dc(np.sel.ranges.concat([op]),pp),{scroll:false,origin:"*mouse"});}var tp=jp;function up(bq){if(xb(tp,bq)==0)return;tp=bq;if(kp=="rect"){var cq=[],dq=hp.options.tabSize,eq=ym(fl(np,jp.line).text,jp.ch,dq),fq=ym(fl(np,bq.line).text,bq.ch,dq),gq=Math.min(eq,fq),hq=Math.max(eq,fq);for(var iq=Math.min(jp.line,bq.line),jq=Math.min(hp.lastLine(),Math.max(jp.line,bq.line));iq<=jq;iq++){var kq=fl(np,iq).text,lq=zm(kq,gq,dq);if(gq==hq){cq.push(new cc(wb(iq,lq),wb(iq,lq)));}else if(kq.length>lq)cq.push(new cc(wb(iq,lq),wb(iq,zm(kq,hq,dq))));}if(!cq.length)cq.push(new cc(jp,jp));rc(np,dc(qp.ranges.slice(0,pp).concat(cq),pp),{origin:"*mouse",scroll:false});hp.scrollIntoView(bq);}else{var mq=op,nq=mq.anchor,oq=bq;if(kp!="single"){if(kp=="double"){var pq=hp.findWordAt(bq);}else var pq=new cc(wb(bq.line,0),gc(np,wb(bq.line+1,0)));if(xb(pq.anchor,nq)>0){oq=pq.head;nq=ac(mq.from(),pq.anchor);}else{oq=pq.anchor;nq=zb(mq.to(),pq.head);}}var cq=qp.ranges.slice(0);cq[pp]=new cc(gc(np,nq),oq);rc(np,dc(cq,pp),vm);}}var vp=mp.wrapper.getBoundingClientRect(),wp=0;function xp(bq){var cq=++wp,dq=uf(hp,bq,true,kp=="rect");if(!dq)return;if(xb(dq,tp)!=0){pf(hp);up(dq);var eq=va(mp,np);if(dq.line>=eq.to||dq.line<eq.from)setTimeout(we(hp,function(){if(wp==cq)xp(bq);}),150);}else{var fq=bq.clientY<vp.top?-20:bq.clientY>vp.bottom?20:0;if(fq)setTimeout(we(hp,function(){if(wp!=cq)return;mp.scroller.scrollTop+=fq;xp(bq);}),50);}}function yp(bq){wp=Infinity;cm(bq);of(hp);jm(document,"mousemove",zp);jm(document,"mouseup",aq);np.history.lastSelOrigin=null;}var zp=we(hp,function(bq){if(!hm(bq)){yp(bq);}else xp(bq);}),aq=we(hp,yp);im(document,"mousemove",zp);im(document,"mouseup",aq);}function bg(hp,ip,jp,kp,lp){try{var mp=ip.clientX,np=ip.clientY;}catch(ip){return false;}if(mp>=Math.floor(hp.display.gutters.getBoundingClientRect().right))return false;if(kp)cm(ip);var op=hp.display,pp=op.lineDiv.getBoundingClientRect();if(np>pp.bottom||!qm(hp,jp))return em(ip);np-=pp.top-op.viewOffset;for(var qp=0;qp<hp.options.gutters.length;++qp){var rp=op.gutters.childNodes[qp];if(rp&&rp.getBoundingClientRect().right>=mp){var sp=kl(hp.doc,np),tp=hp.options.gutters[qp];lp(hp,jp,hp,sp,tp,ip);return em(ip);}}}function cg(hp,ip){return bg(hp,ip,"gutterClick",true,mm);}var dg=0;function eg(hp){var ip=this;if(om(ip,hp)||tf(ip.display,hp))return;cm(hp);if(k)dg=+new Date();var jp=uf(ip,hp,true),kp=hp.dataTransfer.files;if(!jp||qf(ip))return;if(kp&&kp.length&&window.FileReader&&window.File){var lp=kp.length,mp=Array(lp),np=0,op=function(rp,sp){var tp=new FileReader();tp.onload=we(ip,function(){mp[sp]=tp.result;if(++np==lp){jp=gc(ip.doc,jp);var up={from:jp,to:jp,text:mo(mp.join("\n")),origin:"paste"};fh(ip.doc,up);qc(ip.doc,ec(jp,zg(up)));}});tp.readAsText(rp);};for(var pp=0;pp<lp;++pp)op(kp[pp],pp);}else{if(ip.state.draggingText&&ip.doc.sel.contains(jp)>-1){ip.state.draggingText(hp);setTimeout(jn(of,ip),20);return;}try{var mp=hp.dataTransfer.getData("Text");if(mp){if(ip.state.draggingText&&!(w?hp.metaKey:hp.ctrlKey))var qp=ip.listSelections();sc(ip.doc,ec(jp,jp));if(qp)for(var pp=0;pp<qp.length;++pp)lh(ip.doc,"",qp[pp].anchor,qp[pp].head,"drag");ip.replaceSelection(mp,"around","paste");of(ip);}}catch(hp){}}}function fg(hp,ip){if(k&&(!hp.state.draggingText||+new Date()-dg<100)){fm(ip);return;}if(om(hp,ip)||tf(hp.display,ip))return;ip.dataTransfer.setData("Text",hp.getSelection());if(ip.dataTransfer.setDragImage&&!q){var jp=qn("img",null,null,"position: fixed; left: 0; top: 0;");jp.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";if(p){jp.width=jp.height=1;hp.display.wrapper.appendChild(jp);jp._top=jp.offsetTop;}ip.dataTransfer.setDragImage(jp,0,0);if(p)jp.parentNode.removeChild(jp);}}function gg(hp,ip){if(Math.abs(hp.doc.scrollTop-ip)<2)return;hp.doc.scrollTop=ip;if(!h)db(hp,{top:ip});if(hp.display.scroller.scrollTop!=ip)hp.display.scroller.scrollTop=ip;if(hp.display.scrollbarV.scrollTop!=ip)hp.display.scrollbarV.scrollTop=ip;if(h)db(hp);dd(hp,100);}function hg(hp,ip,jp){if(jp?ip==hp.doc.scrollLeft:Math.abs(hp.doc.scrollLeft-ip)<2)return;ip=Math.min(ip,hp.display.scroller.scrollWidth-hp.display.scroller.clientWidth);hp.doc.scrollLeft=ip;wa(hp);if(hp.display.scroller.scrollLeft!=ip)hp.display.scroller.scrollLeft=ip;if(hp.display.scrollbarH.scrollLeft!=ip)hp.display.scrollbarH.scrollLeft=ip;}var ig=0,jg=null;if(k){jg=-.53;}else if(h){jg=15;}else if(o){jg=-.7;}else if(q)jg=-1/3;function kg(hp,ip){var jp=ip.wheelDeltaX,kp=ip.wheelDeltaY;if(jp==null&&ip.detail&&ip.axis==ip.HORIZONTAL_AXIS)jp=ip.detail;if(kp==null&&ip.detail&&ip.axis==ip.VERTICAL_AXIS){kp=ip.detail;}else if(kp==null)kp=ip.wheelDelta;var lp=hp.display,mp=lp.scroller;if(!(jp&&mp.scrollWidth>mp.clientWidth||kp&&mp.scrollHeight>mp.clientHeight))return;if(kp&&w&&m)outer:for(var np=ip.target,op=lp.view;np!=mp;np=np.parentNode)for(var pp=0;pp<op.length;pp++)if(op[pp].node==np){hp.display.currentWheelTarget=np;break outer;};if(jp&&!h&&!p&&jg!=null){if(kp)gg(hp,Math.max(0,Math.min(mp.scrollTop+kp*jg,mp.scrollHeight-mp.clientHeight)));hg(hp,Math.max(0,Math.min(mp.scrollLeft+jp*jg,mp.scrollWidth-mp.clientWidth)));cm(ip);lp.wheelStartX=null;return;}if(kp&&jg!=null){var qp=kp*jg,rp=hp.doc.scrollTop,sp=rp+lp.wrapper.clientHeight;if(qp<0){rp=Math.max(0,rp+qp-50);}else sp=Math.min(hp.doc.height,sp+qp+50);db(hp,{top:rp,bottom:sp});}if(ig<20)if(lp.wheelStartX==null){lp.wheelStartX=mp.scrollLeft;lp.wheelStartY=mp.scrollTop;lp.wheelDX=jp;lp.wheelDY=kp;setTimeout(function(){if(lp.wheelStartX==null)return;var tp=mp.scrollLeft-lp.wheelStartX,up=mp.scrollTop-lp.wheelStartY,vp=(up&&lp.wheelDY&&up/lp.wheelDY)||(tp&&lp.wheelDX&&tp/lp.wheelDX);lp.wheelStartX=lp.wheelStartY=null;if(!vp)return;jg=(jg*ig+vp)/(ig+1);++ig;},200);}else{lp.wheelDX+=jp;lp.wheelDY+=kp;}}function lg(hp,ip,jp){if(typeof ip=="string"){ip=ji[ip];if(!ip)return false;}if(hp.display.pollingFast&&mf(hp))hp.display.pollingFast=false;var kp=hp.display.shift,lp=false;try{if(qf(hp))hp.state.suppressEdits=true;if(jp)hp.display.shift=false;lp=ip(hp)!=tm;}finally{hp.display.shift=kp;hp.state.suppressEdits=false;}return lp;}function mg(hp){var ip=hp.state.keyMaps.slice(0);if(hp.options.extraKeys)ip.push(hp.options.extraKeys);ip.push(hp.options.keyMap);return ip;}var ng;function og(hp,ip){var jp=li(hp.options.keyMap),kp=jp.auto;clearTimeout(ng);if(kp&&!ni(ip))ng=setTimeout(function(){if(li(hp.options.keyMap)==jp){hp.options.keyMap=(kp.call?kp.call(null,hp):kp);ka(hp);}},50);var lp=oi(ip,true),mp=false;if(!lp)return false;var np=mg(hp);if(ip.shiftKey){mp=mi("Shift-"+lp,np,function(op){return lg(hp,op,true);})||mi(lp,np,function(op){if(typeof op=="string"?/^go[A-Z]/.test(op):op.motion)return lg(hp,op);});}else mp=mi(lp,np,function(op){return lg(hp,op);});if(mp){cm(ip);cd(hp);mm(hp,"keyHandled",hp,lp,ip);}return mp;}function pg(hp,ip,jp){var kp=mi("'"+jp+"'",mg(hp),function(lp){return lg(hp,lp,true);});if(kp){cm(ip);cd(hp);mm(hp,"keyHandled",hp,"'"+jp+"'",ip);}return kp;}var qg=null;function rg(hp){var ip=this;pf(ip);if(om(ip,hp))return;if(k&&l<11&&hp.keyCode==27)hp.returnValue=false;var jp=hp.keyCode;ip.display.shift=jp==16||hp.shiftKey;var kp=og(ip,hp);if(p){qg=kp?jp:null;if(!kp&&jp==88&&!oo&&(w?hp.metaKey:hp.ctrlKey))ip.replaceSelection("",null,"cut");}if(jp==18&&!/\bCodeMirror-crosshair\b/.test(ip.display.lineDiv.className))sg(ip);}function sg(hp){var ip=hp.display.lineDiv;yn(ip,"CodeMirror-crosshair");function jp(kp){if(kp.keyCode==18||!kp.altKey){xn(ip,"CodeMirror-crosshair");jm(document,"keyup",jp);jm(document,"mouseover",jp);}}im(document,"keyup",jp);im(document,"mouseover",jp);}function tg(hp){if(hp.keyCode==16)this.doc.sel.shift=false;om(this,hp);}function ug(hp){var ip=this;if(om(ip,hp)||hp.ctrlKey&&!hp.altKey||w&&hp.metaKey)return;var jp=hp.keyCode,kp=hp.charCode;if(p&&jp==qg){qg=null;cm(hp);return;}if(((p&&(!hp.which||hp.which<10))||r)&&og(ip,hp))return;var lp=String.fromCharCode(kp==null?jp:kp);if(pg(ip,hp,lp))return;if(k&&l>=9)ip.display.inputHasSelection=null;kf(ip);}function vg(hp){if(hp.options.readOnly=="nocursor")return;if(!hp.state.focused){km(hp,"focus",hp);hp.state.focused=true;yn(hp.display.wrapper,"CodeMirror-focused");if(!hp.curOp&&hp.display.selForContextMenu!=hp.doc.sel){nf(hp);if(m)setTimeout(jn(nf,hp,true),0);}}jf(hp);cd(hp);}function wg(hp){if(hp.state.focused){km(hp,"blur",hp);hp.state.focused=false;xn(hp.display.wrapper,"CodeMirror-focused");}clearInterval(hp.display.blinker);setTimeout(function(){if(!hp.state.focused)hp.display.shift=false;},150);}function xg(hp,ip){if(om(hp,ip,"contextmenu"))return;var jp=hp.display;if(tf(jp,ip)||yg(hp,ip))return;var kp=uf(hp,ip),lp=jp.scroller.scrollTop;if(!kp||p)return;var mp=hp.options.resetSelectionOnContextMenu;if(mp&&hp.doc.sel.contains(kp)==-1)we(hp,rc)(hp.doc,ec(kp),um);var np=jp.input.style.cssText;jp.inputDiv.style.position="absolute";jp.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(ip.clientY-5)+"px; left: "+(ip.clientX-5)+"px; z-index: 1000; background: "+(k?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";if(m)var op=window.scrollY;of(hp);if(m)window.scrollTo(null,op);nf(hp);if(!hp.somethingSelected())jp.input.value=jp.prevInput=" ";jp.selForContextMenu=hp.doc.sel;clearTimeout(jp.detectingSelectAll);function pp(){if(jp.input.selectionStart!=null){var sp=hp.somethingSelected(),tp=jp.input.value="\u200b"+(sp?jp.input.value:"");jp.prevInput=sp?"":"\u200b";jp.input.selectionStart=1;jp.input.selectionEnd=tp.length;jp.selForContextMenu=hp.doc.sel;}}function qp(){jp.inputDiv.style.position="relative";jp.input.style.cssText=np;if(k&&l<9)jp.scrollbarV.scrollTop=jp.scroller.scrollTop=lp;jf(hp);if(jp.input.selectionStart!=null){if(!k||(k&&l<9))pp();var sp=0,tp=function(){if(jp.selForContextMenu==hp.doc.sel&&jp.input.selectionStart==0){we(hp,ji.selectAll)(hp);}else if(sp++<10){jp.detectingSelectAll=setTimeout(tp,500);}else nf(hp);};jp.detectingSelectAll=setTimeout(tp,200);}}if(k&&l>=9)pp();if(aa){fm(ip);var rp=function(){jm(window,"mouseup",rp);setTimeout(qp,20);};im(window,"mouseup",rp);}else setTimeout(qp,50);}function yg(hp,ip){if(!qm(hp,"gutterContextMenu"))return false;return bg(hp,ip,"gutterContextMenu",false,km);}var zg=da.changeEnd=function(hp){if(!hp.text)return hp.to;return wb(hp.from.line+hp.text.length-1,cn(hp.text).length+(hp.text.length==1?hp.from.ch:0));};function ah(hp,ip){if(xb(hp,ip.from)<0)return hp;if(xb(hp,ip.to)<=0)return zg(ip);var jp=hp.line+ip.text.length-(ip.to.line-ip.from.line)-1,kp=hp.ch;if(hp.line==ip.to.line)kp+=zg(ip).ch-ip.to.ch;return wb(jp,kp);}function bh(hp,ip){var jp=[];for(var kp=0;kp<hp.sel.ranges.length;kp++){var lp=hp.sel.ranges[kp];jp.push(new cc(ah(lp.anchor,ip),ah(lp.head,ip)));}return dc(jp,hp.sel.primIndex);}function ch(hp,ip,jp){if(hp.line==ip.line){return wb(jp.line,hp.ch-ip.ch+jp.ch);}else return wb(jp.line+(hp.line-ip.line),hp.ch);}function dh(hp,ip,jp){var kp=[],lp=wb(hp.first,0),mp=lp;for(var np=0;np<ip.length;np++){var op=ip[np],pp=ch(op.from,lp,mp),qp=ch(zg(op),lp,mp);lp=op.to;mp=qp;if(jp=="around"){var rp=hp.sel.ranges[np],sp=xb(rp.head,rp.anchor)<0;kp[np]=new cc(sp?qp:pp,sp?pp:qp);}else kp[np]=new cc(pp,pp);}return new bc(kp,hp.sel.primIndex);}function eh(hp,ip,jp){var kp={canceled:false,from:ip.from,to:ip.to,text:ip.text,origin:ip.origin,cancel:function(){this.canceled=true;}};if(jp)kp.update=function(lp,mp,np,op){if(lp)this.from=gc(hp,lp);if(mp)this.to=gc(hp,mp);if(np)this.text=np;if(op!==undefined)this.origin=op;};km(hp,"beforeChange",hp,kp);if(hp.cm)km(hp.cm,"beforeChange",hp.cm,kp);if(kp.canceled)return null;return {from:kp.from,to:kp.to,text:kp.text,origin:kp.origin};}function fh(hp,ip,jp){if(hp.cm){if(!hp.cm.curOp)return we(hp.cm,fh)(hp,ip,jp);if(hp.cm.state.suppressEdits)return;}if(qm(hp,"beforeChange")||hp.cm&&qm(hp.cm,"beforeChange")){ip=eh(hp,ip,true);if(!ip)return;}var kp=ba&&!jp&&hj(hp,ip.from,ip.to);if(kp){for(var lp=kp.length-1;lp>=0;--lp)gh(hp,{from:kp[lp].from,to:kp[lp].to,text:lp?[""]:ip.text});}else gh(hp,ip);}function gh(hp,ip){if(ip.text.length==1&&ip.text[0]==""&&xb(ip.from,ip.to)==0)return;var jp=bh(hp,ip);rl(hp,ip,jp,hp.cm?hp.cm.curOp.id:NaN);jh(hp,ip,jp,ej(hp,ip));var kp=[];dl(hp,function(lp,mp){if(!mp&&en(kp,lp.history)==-1){bm(lp.history,ip);kp.push(lp.history);}jh(lp,ip,null,ej(lp,ip));});}function hh(hp,ip,jp){if(hp.cm&&hp.cm.state.suppressEdits)return;var kp=hp.history,event,lp=hp.sel,mp=ip=="undo"?kp.done:kp.undone,np=ip=="undo"?kp.undone:kp.done;for(var op=0;op<mp.length;op++){event=mp[op];if(jp?event.ranges&&!event.equals(hp.sel):!event.ranges)break;}if(op==mp.length)return;kp.lastOrigin=kp.lastSelOrigin=null;for(;;){event=mp.pop();if(event.ranges){ul(event,np);if(jp&&!event.equals(hp.sel)){rc(hp,event,{clearRedo:false});return;}lp=event;}else break;}var pp=[];ul(lp,np);np.push({changes:pp,generation:kp.generation});kp.generation=event.generation||++kp.maxGeneration;var qp=qm(hp,"beforeChange")||hp.cm&&qm(hp.cm,"beforeChange");for(var op=event.changes.length-1;op>=0;--op){var rp=event.changes[op];rp.origin=ip;if(qp&&!eh(hp,rp,false)){mp.length=0;return;}pp.push(ol(hp,rp));var sp=op?bh(hp,rp):cn(mp);jh(hp,rp,sp,gj(hp,rp));if(!op&&hp.cm)hp.cm.scrollIntoView({from:rp.from,to:zg(rp)});var tp=[];dl(hp,function(up,vp){if(!vp&&en(tp,up.history)==-1){bm(up.history,rp);tp.push(up.history);}jh(up,rp,null,gj(up,rp));});}}function ih(hp,ip){if(ip==0)return;hp.first+=ip;hp.sel=new bc(fn(hp.sel.ranges,function(lp){return new cc(wb(lp.anchor.line+ip,lp.anchor.ch),wb(lp.head.line+ip,lp.head.ch));}),hp.sel.primIndex);if(hp.cm){bf(hp.cm,hp.first,hp.first-ip,ip);for(var jp=hp.cm.display,kp=jp.viewFrom;kp<jp.viewTo;kp++)cf(hp.cm,kp,"gutter");}}function jh(hp,ip,jp,kp){if(hp.cm&&!hp.cm.curOp)return we(hp.cm,jh)(hp,ip,jp,kp);if(ip.to.line<hp.first){ih(hp,ip.text.length-1-(ip.to.line-ip.from.line));return;}if(ip.from.line>hp.lastLine())return;if(ip.from.line<hp.first){var lp=ip.text.length-1-(hp.first-ip.from.line);ih(hp,lp);ip={from:wb(hp.first,0),to:wb(ip.to.line+lp,ip.to.ch),text:[cn(ip.text)],origin:ip.origin};}var mp=hp.lastLine();if(ip.to.line>mp)ip={from:ip.from,to:wb(mp,fl(hp,mp).text.length),text:[ip.text[0]],origin:ip.origin};ip.removed=gl(hp,ip.from,ip.to);if(!jp)jp=bh(hp,ip);if(hp.cm){kh(hp.cm,ip,kp);}else wk(hp,ip,kp);sc(hp,jp,um);}function kh(hp,ip,jp){var kp=hp.doc,lp=hp.display,mp=ip.from,np=ip.to,op=false,pp=mp.line;if(!hp.options.lineWrapping){pp=jl(rj(fl(kp,mp.line)));kp.iter(pp,np.line+1,function(up){if(up==lp.maxLine){op=true;return true;}});}if(kp.sel.contains(ip.from,ip.to)>-1)pm(hp);wk(kp,ip,jp,ia(hp));if(!hp.options.lineWrapping){kp.iter(pp,mp.line+ip.text.length,function(up){var vp=pa(up);if(vp>lp.maxLineLength){lp.maxLine=up;lp.maxLineLength=vp;lp.maxLineChanged=true;op=false;}});if(op)hp.curOp.updateMaxLine=true;}kp.frontier=Math.min(kp.frontier,mp.line);dd(hp,400);var qp=ip.text.length-(np.line-mp.line)-1;if(mp.line==np.line&&ip.text.length==1&&!vk(hp.doc,ip)){cf(hp,mp.line,"text");}else bf(hp,mp.line,np.line+1,qp);var rp=qm(hp,"changes"),sp=qm(hp,"change");if(sp||rp){var tp={from:mp,to:np,text:ip.text,removed:ip.removed,origin:ip.origin};if(sp)mm(hp,"change",hp,tp);if(rp)(hp.curOp.changeObjs||(hp.curOp.changeObjs=[])).push(tp);}hp.display.selForContextMenu=null;}function lh(hp,ip,jp,kp,lp){if(!kp)kp=jp;if(xb(kp,jp)<0){var mp=kp;kp=jp;jp=mp;}if(typeof ip=="string")ip=mo(ip);fh(hp,{from:jp,to:kp,text:ip,origin:lp});}function mh(hp,ip){var jp=hp.display,kp=jp.sizer.getBoundingClientRect(),lp=null;if(ip.top+kp.top<0){lp=true;}else if(ip.bottom+kp.top>(window.innerHeight||document.documentElement.clientHeight))lp=false;if(lp!=null&&!t){var mp=qn("div","\u200b",null,"position: absolute; top: "+(ip.top-jp.viewOffset-hd(hp.display))+"px; height: "+(ip.bottom-ip.top+sm)+"px; left: "+ip.left+"px; width: 2px;");hp.display.lineSpace.appendChild(mp);mp.scrollIntoView(lp);hp.display.lineSpace.removeChild(mp);}}function nh(hp,ip,jp,kp){if(kp==null)kp=0;for(;;){var lp=false,mp=ce(hp,ip),np=!jp||jp==ip?mp:ce(hp,jp),op=ph(hp,Math.min(mp.left,np.left),Math.min(mp.top,np.top)-kp,Math.max(mp.left,np.left),Math.max(mp.bottom,np.bottom)+kp),pp=hp.doc.scrollTop,qp=hp.doc.scrollLeft;if(op.scrollTop!=null){gg(hp,op.scrollTop);if(Math.abs(hp.doc.scrollTop-pp)>1)lp=true;}if(op.scrollLeft!=null){hg(hp,op.scrollLeft);if(Math.abs(hp.doc.scrollLeft-qp)>1)lp=true;}if(!lp)return mp;}}function oh(hp,ip,jp,kp,lp){var mp=ph(hp,ip,jp,kp,lp);if(mp.scrollTop!=null)gg(hp,mp.scrollTop);if(mp.scrollLeft!=null)hg(hp,mp.scrollLeft);}function ph(hp,ip,jp,kp,lp){var mp=hp.display,np=ie(hp.display);if(jp<0)jp=0;var op=hp.curOp&&hp.curOp.scrollTop!=null?hp.curOp.scrollTop:mp.scroller.scrollTop,pp=mp.scroller.clientHeight-sm,qp={};if(lp-jp>pp)lp=jp+pp;var rp=hp.doc.height+id(mp),sp=jp<np,tp=lp>rp-np;if(jp<op){qp.scrollTop=sp?0:jp;}else if(lp>op+pp){var up=Math.min(jp,(tp?rp:lp)-pp);if(up!=op)qp.scrollTop=up;}var vp=hp.curOp&&hp.curOp.scrollLeft!=null?hp.curOp.scrollLeft:mp.scroller.scrollLeft,wp=mp.scroller.clientWidth-sm-mp.gutters.offsetWidth,xp=kp-ip>wp;if(xp)kp=jp+pp;if(ip<10){qp.scrollLeft=0;}else if(ip<vp){qp.scrollLeft=Math.max(0,ip-(xp?0:10));}else if(kp>wp+vp-3)qp.scrollLeft=kp+(xp?0:10)-wp;return qp;}function qh(hp,ip,jp){if(ip!=null||jp!=null)sh(hp);if(ip!=null)hp.curOp.scrollLeft=(hp.curOp.scrollLeft==null?hp.doc.scrollLeft:hp.curOp.scrollLeft)+ip;if(jp!=null)hp.curOp.scrollTop=(hp.curOp.scrollTop==null?hp.doc.scrollTop:hp.curOp.scrollTop)+jp;}function rh(hp){sh(hp);var ip=hp.getCursor(),jp=ip,kp=ip;if(!hp.options.lineWrapping){jp=ip.ch?wb(ip.line,ip.ch-1):ip;kp=wb(ip.line,ip.ch+1);}hp.curOp.scrollToPos={from:jp,to:kp,margin:hp.options.cursorScrollMargin,isCursor:true};}function sh(hp){var ip=hp.curOp.scrollToPos;if(ip){hp.curOp.scrollToPos=null;var jp=de(hp,ip.from),kp=de(hp,ip.to),lp=ph(hp,Math.min(jp.left,kp.left),Math.min(jp.top,kp.top)-ip.margin,Math.max(jp.right,kp.right),Math.max(jp.bottom,kp.bottom)+ip.margin);hp.scrollTo(lp.scrollLeft,lp.scrollTop);}}function th(hp,ip,jp,kp){var lp=hp.doc,mp;if(jp==null)jp="add";if(jp=="smart")if(!lp.mode.indent){jp="prev";}else mp=gd(hp,ip);var np=hp.options.tabSize,op=fl(lp,ip),pp=ym(op.text,null,np);if(op.stateAfter)op.stateAfter=null;var qp=op.text.match(/^\s*/)[0],rp;if(!kp&&!/\S/.test(op.text)){rp=0;jp="not";}else if(jp=="smart"){rp=lp.mode.indent(mp,op.text.slice(qp.length),op.text);if(rp==tm||rp>150){if(!kp)return;jp="prev";}}if(jp=="prev"){if(ip>lp.first){rp=ym(fl(lp,ip-1).text,null,np);}else rp=0;}else if(jp=="add"){rp=pp+hp.options.indentUnit;}else if(jp=="subtract"){rp=pp-hp.options.indentUnit;}else if(typeof jp=="number")rp=pp+jp;rp=Math.max(0,rp);var sp="",tp=0;if(hp.options.indentWithTabs)for(var up=Math.floor(rp/np);up;--up){tp+=np;sp+="\t";}if(tp<rp)sp+=bn(rp-tp);if(sp!=qp){lh(lp,sp,wb(ip,0),wb(ip,qp.length),"+input");}else for(var up=0;up<lp.sel.ranges.length;up++){var vp=lp.sel.ranges[up];if(vp.head.line==ip&&vp.head.ch<qp.length){var tp=wb(ip,qp.length);nc(lp,up,new cc(tp,tp));break;}}op.stateAfter=null;}function uh(hp,ip,jp,kp){var lp=ip,mp=ip;if(typeof ip=="number"){mp=fl(hp,fc(hp,ip));}else lp=jl(ip);if(lp==null)return null;if(kp(mp,lp)&&hp.cm)cf(hp.cm,lp,jp);return mp;}function vh(hp,ip){var jp=hp.doc.sel.ranges,kp=[];for(var lp=0;lp<jp.length;lp++){var mp=ip(jp[lp]);while(kp.length&&xb(mp.from,cn(kp).to)<=0){var np=kp.pop();if(xb(np.from,mp.from)<0){mp.from=np.from;break;}}kp.push(mp);}ve(hp,function(){for(var op=kp.length-1;op>=0;op--)lh(hp.doc,"",kp[op].from,kp[op].to,"+delete");rh(hp);});}function wh(hp,ip,jp,kp,lp){var mp=ip.line,np=ip.ch,op=jp,pp=fl(hp,mp),qp=true;function rp(){var aq=mp+jp;if(aq<hp.first||aq>=hp.first+hp.size)return (qp=false);mp=aq;return pp=fl(hp,aq);}function sp(aq){var bq=(lp?ep:fp)(pp,np,jp,true);if(bq==null){if(!aq&&rp()){if(lp){np=(jp<0?wo:vo)(pp);}else np=jp<0?pp.text.length:0;}else return (qp=false);}else np=bq;return true;}if(kp=="char"){sp();}else if(kp=="column"){sp(true);}else if(kp=="word"||kp=="group"){var tp=null,up=kp=="group",vp=hp.cm&&hp.cm.getHelper(ip,"wordChars");for(var wp=true;;wp=false){if(jp<0&&!sp(!wp))break;var xp=pp.text.charAt(np)||"\n",yp=mn(xp,vp)?"w":up&&xp=="\n"?"n":!up||/\s/.test(xp)?null:"p";if(up&&!wp&&!yp)yp="s";if(tp&&tp!=yp){if(jp<0){jp=1;sp();}break;}if(yp)tp=yp;if(jp>0&&!sp(!wp))break;}}var zp=wc(hp,wb(mp,np),op,true);if(!qp)zp.hitSide=true;return zp;}function xh(hp,ip,jp,kp){var lp=hp.doc,mp=ip.left,np;if(kp=="page"){var op=Math.min(hp.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);np=ip.top+jp*(op-(jp<0?1.5:.5)*ie(hp.display));}else if(kp=="line")np=jp>0?ip.bottom+3:ip.top-3;for(;;){var pp=fe(hp,mp,np);if(!pp.outside)break;if(jp<0?np<=0:np>=lp.height){pp.hitSide=true;break;}np+=jp*5;}return pp;}da.prototype={constructor:da,focus:function(){window.focus();of(this);kf(this);},setOption:function(hp,ip){var jp=this.options,kp=jp[hp];if(jp[hp]==ip&&hp!="mode")return;jp[hp]=ip;if(zh.hasOwnProperty(hp))we(this,zh[hp])(this,ip,kp);},getOption:function(hp){return this.options[hp];},getDoc:function(){return this.doc;},addKeyMap:function(hp,ip){this.state.keyMaps[ip?"push":"unshift"](hp);},removeKeyMap:function(hp){var ip=this.state.keyMaps;for(var jp=0;jp<ip.length;++jp)if(ip[jp]==hp||(typeof ip[jp]!="string"&&ip[jp].name==hp)){ip.splice(jp,1);return true;}},addOverlay:xe(function(hp,ip){var jp=hp.token?hp:da.getMode(this.options,hp);if(jp.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:jp,modeSpec:hp,opaque:ip&&ip.opaque});this.state.modeGen++;bf(this);}),removeOverlay:xe(function(hp){var ip=this.state.overlays;for(var jp=0;jp<ip.length;++jp){var kp=ip[jp].modeSpec;if(kp==hp||typeof hp=="string"&&kp.name==hp){ip.splice(jp,1);this.state.modeGen++;bf(this);return;}}}),indentLine:xe(function(hp,ip,jp){if(typeof ip!="string"&&typeof ip!="number")if(ip==null){ip=this.options.smartIndent?"smart":"prev";}else ip=ip?"add":"subtract";if(ic(this.doc,hp))th(this,hp,ip,jp);}),indentSelection:xe(function(hp){var ip=this.doc.sel.ranges,jp=-1;for(var kp=0;kp<ip.length;kp++){var lp=ip[kp];if(!lp.empty()){var mp=lp.from(),np=lp.to(),op=Math.max(jp,mp.line);jp=Math.min(this.lastLine(),np.line-(np.ch?0:1))+1;for(var pp=op;pp<jp;++pp)th(this,pp,hp);var qp=this.doc.sel.ranges;if(mp.ch==0&&ip.length==qp.length&&qp[kp].from().ch>0)nc(this.doc,kp,new cc(mp,qp[kp].to()),um);}else if(lp.head.line>jp){th(this,lp.head.line,hp,true);jp=lp.head.line;if(kp==this.doc.sel.primIndex)rh(this);}}}),getTokenAt:function(hp,ip){var jp=this.doc;hp=gc(jp,hp);var kp=gd(this,hp.line,ip),lp=this.doc.mode,mp=fl(jp,hp.line),np=new pi(mp.text,this.options.tabSize);while(np.pos<hp.ch&&!np.eol()){np.start=np.pos;var op=gk(lp,np,kp);}return {start:np.start,end:np.pos,string:np.current(),type:op||null,state:kp};},getTokenTypeAt:function(hp){hp=gc(this.doc,hp);var ip=jk(this,fl(this.doc,hp.line)),jp=0,kp=(ip.length-1)/2,lp=hp.ch,mp;if(lp==0){mp=ip[2];}else for(;;){var np=(jp+kp)>>1;if((np?ip[np*2-1]:0)>=lp){kp=np;}else if(ip[np*2+1]<lp){jp=np+1;}else{mp=ip[np*2+2];break;}}var op=mp?mp.indexOf("cm-overlay "):-1;return op<0?mp:op==0?null:mp.slice(0,op-1);},getModeAt:function(hp){var ip=this.doc.mode;if(!ip.innerMode)return ip;return da.innerMode(ip,this.getTokenAt(hp).state).mode;},getHelper:function(hp,ip){return this.getHelpers(hp,ip)[0];},getHelpers:function(hp,ip){var jp=[];if(!gi.hasOwnProperty(ip))return gi;var kp=gi[ip],lp=this.getModeAt(hp);if(typeof lp[ip]=="string"){if(kp[lp[ip]])jp.push(kp[lp[ip]]);}else if(lp[ip]){for(var mp=0;mp<lp[ip].length;mp++){var np=kp[lp[ip][mp]];if(np)jp.push(np);}}else if(lp.helperType&&kp[lp.helperType]){jp.push(kp[lp.helperType]);}else if(kp[lp.name])jp.push(kp[lp.name]);for(var mp=0;mp<kp._global.length;mp++){var op=kp._global[mp];if(op.pred(lp,this)&&en(jp,op.val)==-1)jp.push(op.val);}return jp;},getStateAfter:function(hp,ip){var jp=this.doc;hp=fc(jp,hp==null?jp.first+jp.size-1:hp);return gd(this,hp+1,ip);},cursorCoords:function(hp,ip){var jp,kp=this.doc.sel.primary();if(hp==null){jp=kp.head;}else if(typeof hp=="object"){jp=gc(this.doc,hp);}else jp=hp?kp.from():kp.to();return ce(this,jp,ip||"page");},charCoords:function(hp,ip){return be(this,gc(this.doc,hp),ip||"page");},coordsChar:function(hp,ip){hp=ae(this,hp,ip||"page");return fe(this,hp.left,hp.top);},lineAtHeight:function(hp,ip){hp=ae(this,{top:hp,left:0},ip||"page").top;return kl(this.doc,hp+this.display.viewOffset);},heightAtLine:function(hp,ip){var jp=false,kp=this.doc.first+this.doc.size-1;if(hp<this.doc.first){hp=this.doc.first;}else if(hp>kp){hp=kp;jp=true;}var lp=fl(this.doc,hp);return zd(this,lp,{top:0,left:0},ip||"page").top+(jp?this.doc.height-ll(lp):0);},defaultTextHeight:function(){return ie(this.display);},defaultCharWidth:function(){return je(this.display);},setGutterMarker:xe(function(hp,ip,jp){return uh(this.doc,hp,"gutter",function(kp){var lp=kp.gutterMarkers||(kp.gutterMarkers={});lp[ip]=jp;if(!jp&&nn(lp))kp.gutterMarkers=null;return true;});}),clearGutter:xe(function(hp){var ip=this,jp=ip.doc,kp=jp.first;jp.iter(function(lp){if(lp.gutterMarkers&&lp.gutterMarkers[hp]){lp.gutterMarkers[hp]=null;cf(ip,kp,"gutter");if(nn(lp.gutterMarkers))lp.gutterMarkers=null;}++kp;});}),addLineWidget:xe(function(hp,ip,jp){return ak(this,hp,ip,jp);}),removeLineWidget:function(hp){hp.clear();},lineInfo:function(hp){if(typeof hp=="number"){if(!ic(this.doc,hp))return null;var ip=hp;hp=fl(this.doc,hp);if(!hp)return null;}else{var ip=jl(hp);if(ip==null)return null;}return {line:ip,handle:hp,text:hp.text,gutterMarkers:hp.gutterMarkers,textClass:hp.textClass,bgClass:hp.bgClass,wrapClass:hp.wrapClass,widgets:hp.widgets};},getViewport:function(){return {from:this.display.viewFrom,to:this.display.viewTo};},addWidget:function(hp,ip,jp,kp,lp){var mp=this.display;hp=ce(this,gc(this.doc,hp));var np=hp.bottom,op=hp.left;ip.style.position="absolute";mp.sizer.appendChild(ip);if(kp=="over"){np=hp.top;}else if(kp=="above"||kp=="near"){var pp=Math.max(mp.wrapper.clientHeight,this.doc.height),qp=Math.max(mp.sizer.clientWidth,mp.lineSpace.clientWidth);if((kp=='above'||hp.bottom+ip.offsetHeight>pp)&&hp.top>ip.offsetHeight){np=hp.top-ip.offsetHeight;}else if(hp.bottom+ip.offsetHeight<=pp)np=hp.bottom;if(op+ip.offsetWidth>qp)op=qp-ip.offsetWidth;}ip.style.top=np+"px";ip.style.left=ip.style.right="";if(lp=="right"){op=mp.sizer.clientWidth-ip.offsetWidth;ip.style.right="0px";}else{if(lp=="left"){op=0;}else if(lp=="middle")op=(mp.sizer.clientWidth-ip.offsetWidth)/2;ip.style.left=op+"px";}if(jp)oh(this,op,np,op+ip.offsetWidth,np+ip.offsetHeight);},triggerOnKeyDown:xe(rg),triggerOnKeyPress:xe(ug),triggerOnKeyUp:tg,execCommand:function(hp){if(ji.hasOwnProperty(hp))return ji[hp](this);},findPosH:function(hp,ip,jp,kp){var lp=1;if(ip<0){lp=-1;ip=-ip;}for(var mp=0,np=gc(this.doc,hp);mp<ip;++mp){np=wh(this.doc,np,lp,jp,kp);if(np.hitSide)break;}return np;},moveH:xe(function(hp,ip){var jp=this;jp.extendSelectionsBy(function(kp){if(jp.display.shift||jp.doc.extend||kp.empty()){return wh(jp.doc,kp.head,hp,ip,jp.options.rtlMoveVisually);}else return hp<0?kp.from():kp.to();},wm);}),deleteH:xe(function(hp,ip){var jp=this.doc.sel,kp=this.doc;if(jp.somethingSelected()){kp.replaceSelection("",null,"+delete");}else vh(this,function(lp){var mp=wh(kp,lp.head,hp,ip,false);return hp<0?{from:mp,to:lp.head}:{from:lp.head,to:mp};});}),findPosV:function(hp,ip,jp,kp){var lp=1,mp=kp;if(ip<0){lp=-1;ip=-ip;}for(var np=0,op=gc(this.doc,hp);np<ip;++np){var pp=ce(this,op,"div");if(mp==null){mp=pp.left;}else pp.left=mp;op=xh(this,pp,lp,jp);if(op.hitSide)break;}return op;},moveV:xe(function(hp,ip){var jp=this,kp=this.doc,lp=[],mp=!jp.display.shift&&!kp.extend&&kp.sel.somethingSelected();kp.extendSelectionsBy(function(op){if(mp)return hp<0?op.from():op.to();var pp=ce(jp,op.head,"div");if(op.goalColumn!=null)pp.left=op.goalColumn;lp.push(pp.left);var qp=xh(jp,pp,hp,ip);if(ip=="page"&&op==kp.sel.primary())qh(jp,null,be(jp,qp,"div").top-pp.top);return qp;},wm);if(lp.length)for(var np=0;np<kp.sel.ranges.length;np++)kp.sel.ranges[np].goalColumn=lp[np];}),findWordAt:function(hp){var ip=this.doc,jp=fl(ip,hp.line).text,kp=hp.ch,lp=hp.ch;if(jp){var mp=this.getHelper(hp,"wordChars");if((hp.xRel<0||lp==jp.length)&&kp){--kp;}else ++lp;var np=jp.charAt(kp),op=mn(np,mp)?function(pp){return mn(pp,mp);}:/\s/.test(np)?function(pp){return /\s/.test(pp);}:function(pp){return !/\s/.test(pp)&&!mn(pp);};while(kp>0&&op(jp.charAt(kp-1)))--kp;while(lp<jp.length&&op(jp.charAt(lp)))++lp;}return new cc(wb(hp.line,kp),wb(hp.line,lp));},toggleOverwrite:function(hp){if(hp!=null&&hp==this.state.overwrite)return;if(this.state.overwrite=!this.state.overwrite){yn(this.display.cursorDiv,"CodeMirror-overwrite");}else xn(this.display.cursorDiv,"CodeMirror-overwrite");km(this,"overwriteToggle",this,this.state.overwrite);},hasFocus:function(){return vn()==this.display.input;},scrollTo:xe(function(hp,ip){if(hp!=null||ip!=null)sh(this);if(hp!=null)this.curOp.scrollLeft=hp;if(ip!=null)this.curOp.scrollTop=ip;}),getScrollInfo:function(){var hp=this.display.scroller,ip=sm;return {left:hp.scrollLeft,top:hp.scrollTop,height:hp.scrollHeight-ip,width:hp.scrollWidth-ip,clientHeight:hp.clientHeight-ip,clientWidth:hp.clientWidth-ip};},scrollIntoView:xe(function(hp,ip){if(hp==null){hp={from:this.doc.sel.primary().head,to:null};if(ip==null)ip=this.options.cursorScrollMargin;}else if(typeof hp=="number"){hp={from:wb(hp,0),to:null};}else if(hp.from==null)hp={from:hp,to:null};if(!hp.to)hp.to=hp.from;hp.margin=ip||0;if(hp.from.line!=null){sh(this);this.curOp.scrollToPos=hp;}else{var jp=ph(this,Math.min(hp.from.left,hp.to.left),Math.min(hp.from.top,hp.to.top)-hp.margin,Math.max(hp.from.right,hp.to.right),Math.max(hp.from.bottom,hp.to.bottom)+hp.margin);this.scrollTo(jp.scrollLeft,jp.scrollTop);}}),setSize:xe(function(hp,ip){var jp=this;function kp(mp){return typeof mp=="number"||/^\d+$/.test(String(mp))?mp+"px":mp;}if(hp!=null)jp.display.wrapper.style.width=kp(hp);if(ip!=null)jp.display.wrapper.style.height=kp(ip);if(jp.options.lineWrapping)vd(this);var lp=jp.display.viewFrom;jp.doc.iter(lp,jp.display.viewTo,function(mp){if(mp.widgets)for(var np=0;np<mp.widgets.length;np++)if(mp.widgets[np].noHScroll){cf(jp,lp,"widget");break;}++lp;});jp.curOp.forceUpdate=true;km(jp,"refresh",this);}),operation:function(hp){return ve(this,hp);},refresh:xe(function(){var hp=this.display.cachedTextHeight;bf(this);this.curOp.forceUpdate=true;wd(this);this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop);oa(this);if(hp==null||Math.abs(hp-ie(this.display))>.5)ja(this);km(this,"refresh",this);}),swapDoc:xe(function(hp){var ip=this.doc;ip.cm=null;el(this,hp);wd(this);nf(this);this.scrollTo(hp.scrollLeft,hp.scrollTop);this.curOp.forceScroll=true;mm(this,"swapDoc",this,ip);return ip;}),getInputField:function(){return this.display.input;},getWrapperElement:function(){return this.display.wrapper;},getScrollerElement:function(){return this.display.scroller;},getGutterElement:function(){return this.display.gutters;}};rm(da);var yh=da.defaults={},zh=da.optionHandlers={};function ai(hp,ip,jp,kp){da.defaults[hp]=ip;if(jp)zh[hp]=kp?function(lp,mp,np){if(np!=bi)jp(lp,mp,np);}:jp;}var bi=da.Init={toString:function(){return "CodeMirror.Init";}};ai("value","",function(hp,ip){hp.setValue(ip);},true);ai("mode",null,function(hp,ip){hp.doc.modeOption=ip;fa(hp);},true);ai("indentUnit",2,fa,true);ai("indentWithTabs",false);ai("smartIndent",true);ai("tabSize",4,function(hp){ga(hp);wd(hp);bf(hp);},true);ai("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(hp,ip){hp.options.specialChars=new RegExp(ip.source+(ip.test("\t")?"":"|\t"),"g");hp.refresh();},true);ai("specialCharPlaceholder",pk,function(hp){hp.refresh();},true);ai("electricChars",true);ai("rtlMoveVisually",!x);ai("wholeLineUpdateBefore",true);ai("theme","default",function(hp){la(hp);ma(hp);},true);ai("keyMap","default",ka);ai("extraKeys",null);ai("lineWrapping",false,ha,true);ai("gutters",[],function(hp){ra(hp.options);ma(hp);},true);ai("fixedGutter",true,function(hp,ip){hp.display.gutters.style.left=ip?za(hp.display)+"px":"0";hp.refresh();},true);ai("coverGutterNextToScrollbar",false,ua,true);ai("lineNumbers",false,function(hp){ra(hp.options);ma(hp);},true);ai("firstLineNumber",1,ma,true);ai("lineNumberFormatter",function(hp){return hp;},ma,true);ai("showCursorWhenSelecting",false,zc,true);ai("resetSelectionOnContextMenu",true);ai("readOnly",false,function(hp,ip){if(ip=="nocursor"){wg(hp);hp.display.input.blur();hp.display.disabled=true;}else{hp.display.disabled=false;if(!ip)nf(hp);}});ai("disableInput",false,function(hp,ip){if(!ip)nf(hp);},true);ai("dragDrop",true);ai("cursorBlinkRate",530);ai("cursorScrollMargin",0);ai("cursorHeight",1,zc,true);ai("singleCursorHeightPerLine",true,zc,true);ai("workTime",100);ai("workDelay",100);ai("flattenSpans",true,ga,true);ai("addModeClass",false,ga,true);ai("pollInterval",100);ai("undoDepth",200,function(hp,ip){hp.doc.history.undoDepth=ip;});ai("historyEventDelay",1250);ai("viewportMargin",10,function(hp){hp.refresh();},true);ai("maxHighlightLength",10000,ga,true);ai("moveInputWithCursor",true,function(hp,ip){if(!ip)hp.display.inputDiv.style.top=hp.display.inputDiv.style.left=0;});ai("tabindex",null,function(hp,ip){hp.display.input.tabIndex=ip||"";});ai("autofocus",null);var ci=da.modes={},di=da.mimeModes={};da.defineMode=function(hp,ip){if(!da.defaults.mode&&hp!="null")da.defaults.mode=hp;if(arguments.length>2){ip.dependencies=[];for(var jp=2;jp<arguments.length;++jp)ip.dependencies.push(arguments[jp]);}ci[hp]=ip;};da.defineMIME=function(hp,ip){di[hp]=ip;};da.resolveMode=function(hp){if(typeof hp=="string"&&di.hasOwnProperty(hp)){hp=di[hp];}else if(hp&&typeof hp.name=="string"&&di.hasOwnProperty(hp.name)){var ip=di[hp.name];if(typeof ip=="string")ip={name:ip};hp=gn(ip,hp);hp.name=ip.name;}else if(typeof hp=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(hp))return da.resolveMode("application/xml");if(typeof hp=="string"){return {name:hp};}else return hp||{name:"null"};};da.getMode=function(hp,ip){var ip=da.resolveMode(ip),jp=ci[ip.name];if(!jp)return da.getMode(hp,"text/plain");var kp=jp(hp,ip);if(ei.hasOwnProperty(ip.name)){var lp=ei[ip.name];for(var mp in lp){if(!lp.hasOwnProperty(mp))continue;if(kp.hasOwnProperty(mp))kp["_"+mp]=kp[mp];kp[mp]=lp[mp];}}kp.name=ip.name;if(ip.helperType)kp.helperType=ip.helperType;if(ip.modeProps)for(var mp in ip.modeProps)kp[mp]=ip.modeProps[mp];return kp;};da.defineMode("null",function(){return {token:function(hp){hp.skipToEnd();}};});da.defineMIME("text/plain","null");var ei=da.modeExtensions={};da.extendMode=function(hp,ip){var jp=ei.hasOwnProperty(hp)?ei[hp]:(ei[hp]={});hn(ip,jp);};da.defineExtension=function(hp,ip){da.prototype[hp]=ip;};da.defineDocExtension=function(hp,ip){al.prototype[hp]=ip;};da.defineOption=ai;var fi=[];da.defineInitHook=function(hp){fi.push(hp);};var gi=da.helpers={};da.registerHelper=function(hp,ip,jp){if(!gi.hasOwnProperty(hp))gi[hp]=da[hp]={_global:[]};gi[hp][ip]=jp;};da.registerGlobalHelper=function(hp,ip,jp,kp){da.registerHelper(hp,ip,kp);gi[hp]._global.push({pred:jp,val:kp});};var hi=da.copyState=function(hp,ip){if(ip===true)return ip;if(hp.copyState)return hp.copyState(ip);var jp={};for(var kp in ip){var lp=ip[kp];if(lp instanceof Array)lp=lp.concat([]);jp[kp]=lp;}return jp;},ii=da.startState=function(hp,ip,jp){return hp.startState?hp.startState(ip,jp):true;};da.innerMode=function(hp,ip){while(hp.innerMode){var jp=hp.innerMode(ip);if(!jp||jp.mode==hp)break;ip=jp.state;hp=jp.mode;}return jp||{mode:hp,state:ip};};var ji=da.commands={selectAll:function(hp){hp.setSelection(wb(hp.firstLine(),0),wb(hp.lastLine()),um);},singleSelection:function(hp){hp.setSelection(hp.getCursor("anchor"),hp.getCursor("head"),um);},killLine:function(hp){vh(hp,function(ip){if(ip.empty()){var jp=fl(hp.doc,ip.head.line).text.length;if(ip.head.ch==jp&&ip.head.line<hp.lastLine()){return {from:ip.head,to:wb(ip.head.line+1,0)};}else return {from:ip.head,to:wb(ip.head.line,jp)};}else return {from:ip.from(),to:ip.to()};});},deleteLine:function(hp){vh(hp,function(ip){return {from:wb(ip.from().line,0),to:gc(hp.doc,wb(ip.to().line+1,0))};});},delLineLeft:function(hp){vh(hp,function(ip){return {from:wb(ip.from().line,0),to:ip.from()};});},delWrappedLineLeft:function(hp){vh(hp,function(ip){var jp=hp.charCoords(ip.head,"div").top+5,kp=hp.coordsChar({left:0,top:jp},"div");return {from:kp,to:ip.from()};});},delWrappedLineRight:function(hp){vh(hp,function(ip){var jp=hp.charCoords(ip.head,"div").top+5,kp=hp.coordsChar({left:hp.display.lineDiv.offsetWidth+100,top:jp},"div");return {from:ip.from(),to:kp};});},undo:function(hp){hp.undo();},redo:function(hp){hp.redo();},undoSelection:function(hp){hp.undoSelection();},redoSelection:function(hp){hp.redoSelection();},goDocStart:function(hp){hp.extendSelection(wb(hp.firstLine(),0));},goDocEnd:function(hp){hp.extendSelection(wb(hp.lastLine()));},goLineStart:function(hp){hp.extendSelectionsBy(function(ip){return xo(hp,ip.head.line);},{origin:"+move",bias:1});},goLineStartSmart:function(hp){hp.extendSelectionsBy(function(ip){return zo(hp,ip.head);},{origin:"+move",bias:1});},goLineEnd:function(hp){hp.extendSelectionsBy(function(ip){return yo(hp,ip.head.line);},{origin:"+move",bias:-1});},goLineRight:function(hp){hp.extendSelectionsBy(function(ip){var jp=hp.charCoords(ip.head,"div").top+5;return hp.coordsChar({left:hp.display.lineDiv.offsetWidth+100,top:jp},"div");},wm);},goLineLeft:function(hp){hp.extendSelectionsBy(function(ip){var jp=hp.charCoords(ip.head,"div").top+5;return hp.coordsChar({left:0,top:jp},"div");},wm);},goLineLeftSmart:function(hp){hp.extendSelectionsBy(function(ip){var jp=hp.charCoords(ip.head,"div").top+5,kp=hp.coordsChar({left:0,top:jp},"div");if(kp.ch<hp.getLine(kp.line).search(/\S/))return zo(hp,ip.head);return kp;},wm);},goLineUp:function(hp){hp.moveV(-1,"line");},goLineDown:function(hp){hp.moveV(1,"line");},goPageUp:function(hp){hp.moveV(-1,"page");},goPageDown:function(hp){hp.moveV(1,"page");},goCharLeft:function(hp){hp.moveH(-1,"char");},goCharRight:function(hp){hp.moveH(1,"char");},goColumnLeft:function(hp){hp.moveH(-1,"column");},goColumnRight:function(hp){hp.moveH(1,"column");},goWordLeft:function(hp){hp.moveH(-1,"word");},goGroupRight:function(hp){hp.moveH(1,"group");},goGroupLeft:function(hp){hp.moveH(-1,"group");},goWordRight:function(hp){hp.moveH(1,"word");},delCharBefore:function(hp){hp.deleteH(-1,"char");},delCharAfter:function(hp){hp.deleteH(1,"char");},delWordBefore:function(hp){hp.deleteH(-1,"word");},delWordAfter:function(hp){hp.deleteH(1,"word");},delGroupBefore:function(hp){hp.deleteH(-1,"group");},delGroupAfter:function(hp){hp.deleteH(1,"group");},indentAuto:function(hp){hp.indentSelection("smart");},indentMore:function(hp){hp.indentSelection("add");},indentLess:function(hp){hp.indentSelection("subtract");},insertTab:function(hp){hp.replaceSelection("\t");},insertSoftTab:function(hp){var ip=[],jp=hp.listSelections(),kp=hp.options.tabSize;for(var lp=0;lp<jp.length;lp++){var mp=jp[lp].from(),np=ym(hp.getLine(mp.line),mp.ch,kp);ip.push(new Array(kp-np%kp+1).join(" "));}hp.replaceSelections(ip);},defaultTab:function(hp){if(hp.somethingSelected()){hp.indentSelection("add");}else hp.execCommand("insertTab");},transposeChars:function(hp){ve(hp,function(){var ip=hp.listSelections(),jp=[];for(var kp=0;kp<ip.length;kp++){var lp=ip[kp].head,mp=fl(hp.doc,lp.line).text;if(mp){if(lp.ch==mp.length)lp=new wb(lp.line,lp.ch-1);if(lp.ch>0){lp=new wb(lp.line,lp.ch+1);hp.replaceRange(mp.charAt(lp.ch-1)+mp.charAt(lp.ch-2),wb(lp.line,lp.ch-2),lp,"+transpose");}else if(lp.line>hp.doc.first){var np=fl(hp.doc,lp.line-1).text;if(np)hp.replaceRange(mp.charAt(0)+"\n"+np.charAt(np.length-1),wb(lp.line-1,np.length-1),wb(lp.line,1),"+transpose");}}jp.push(new cc(lp,lp));}hp.setSelections(jp);});},newlineAndIndent:function(hp){ve(hp,function(){var ip=hp.listSelections().length;for(var jp=0;jp<ip;jp++){var kp=hp.listSelections()[jp];hp.replaceRange("\n",kp.anchor,kp.head,"+input");hp.indentLine(kp.from().line+1,null,true);rh(hp);}});},toggleOverwrite:function(hp){hp.toggleOverwrite();}},ki=da.keyMap={};ki.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"};ki.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"};ki.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection",fallthrough:["basic","emacsy"]};ki.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};ki["default"]=w?ki.macDefault:ki.pcDefault;function li(hp){if(typeof hp=="string"){return ki[hp];}else return hp;}var mi=da.lookupKey=function(hp,ip,jp){function kp(np){np=li(np);var op=np[hp];if(op===false)return "stop";if(op!=null&&jp(op))return true;if(np.nofallthrough)return "stop";var pp=np.fallthrough;if(pp==null)return false;if(Object.prototype.toString.call(pp)!="[object Array]")return kp(pp);for(var qp=0;qp<pp.length;++qp){var rp=kp(pp[qp]);if(rp)return rp;}return false;}for(var lp=0;lp<ip.length;++lp){var mp=kp(ip[lp]);if(mp)return mp!="stop";}},ni=da.isModifierKey=function(event){var hp=ro[event.keyCode];return hp=="Ctrl"||hp=="Alt"||hp=="Shift"||hp=="Mod";},oi=da.keyName=function(event,hp){if(p&&event.keyCode==34&&event["char"])return false;var ip=ro[event.keyCode];if(ip==null||event.altGraphKey)return false;if(event.altKey)ip="Alt-"+ip;if(z?event.metaKey:event.ctrlKey)ip="Ctrl-"+ip;if(z?event.ctrlKey:event.metaKey)ip="Cmd-"+ip;if(!hp&&event.shiftKey)ip="Shift-"+ip;return ip;};da.fromTextArea=function(hp,ip){if(!ip)ip={};ip.value=hp.value;if(!ip.tabindex&&hp.tabindex)ip.tabindex=hp.tabindex;if(!ip.placeholder&&hp.placeholder)ip.placeholder=hp.placeholder;if(ip.autofocus==null){var jp=vn();ip.autofocus=jp==hp||hp.getAttribute("autofocus")!=null&&jp==document.body;}function kp(){hp.value=pp.getValue();}if(hp.form){im(hp.form,"submit",kp);if(!ip.leaveSubmitMethodAlone){var lp=hp.form,mp=lp.submit;try{var op=lp.submit=function(){kp();lp.submit=mp;lp.submit();lp.submit=op;};}catch(np){}}}hp.style.display="none";var pp=da(function(qp){hp.parentNode.insertBefore(qp,hp.nextSibling);},ip);pp.save=kp;pp.getTextArea=function(){return hp;};pp.toTextArea=function(){kp();hp.parentNode.removeChild(pp.getWrapperElement());hp.style.display="";if(hp.form){jm(hp.form,"submit",kp);if(typeof hp.form.submit=="function")hp.form.submit=mp;}};return pp;};var pi=da.StringStream=function(hp,ip){this.pos=this.start=0;this.string=hp;this.tabSize=ip||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0;};pi.prototype={eol:function(){return this.pos>=this.string.length;},sol:function(){return this.pos==this.lineStart;},peek:function(){return this.string.charAt(this.pos)||undefined;},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++);},eat:function(hp){var ip=this.string.charAt(this.pos);if(typeof hp=="string"){var jp=ip==hp;}else var jp=ip&&(hp.test?hp.test(ip):hp(ip));if(jp){++this.pos;return ip;}},eatWhile:function(hp){var ip=this.pos;while(this.eat(hp));return this.pos>ip;},eatSpace:function(){var hp=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>hp;},skipToEnd:function(){this.pos=this.string.length;},skipTo:function(hp){var ip=this.string.indexOf(hp,this.pos);if(ip>-1){this.pos=ip;return true;}},backUp:function(hp){this.pos-=hp;},column:function(){if(this.lastColumnPos<this.start){this.lastColumnValue=ym(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start;}return this.lastColumnValue-(this.lineStart?ym(this.string,this.lineStart,this.tabSize):0);},indentation:function(){return ym(this.string,null,this.tabSize)-(this.lineStart?ym(this.string,this.lineStart,this.tabSize):0);},match:function(hp,ip,jp){if(typeof hp=="string"){var kp=function(np){return jp?np.toLowerCase():np;},lp=this.string.substr(this.pos,hp.length);if(kp(lp)==kp(hp)){if(ip!==false)this.pos+=hp.length;return true;}}else{var mp=this.string.slice(this.pos).match(hp);if(mp&&mp.index>0)return null;if(mp&&ip!==false)this.pos+=mp[0].length;return mp;}},current:function(){return this.string.slice(this.start,this.pos);},hideFirstChars:function(hp,ip){this.lineStart+=hp;try{return ip();}finally{this.lineStart-=hp;}}};var qi=da.TextMarker=function(hp,ip){this.lines=[];this.type=ip;this.doc=hp;};rm(qi);qi.prototype.clear=function(){if(this.explicitlyCleared)return;var hp=this.doc.cm,ip=hp&&!hp.curOp;if(ip)me(hp);if(qm(this,"clear")){var jp=this.find();if(jp)mm(this,"clear",jp.from,jp.to);}var kp=null,lp=null;for(var mp=0;mp<this.lines.length;++mp){var np=this.lines[mp],op=zi(np.markedSpans,this);if(hp&&!this.collapsed){cf(hp,jl(np),"text");}else if(hp){if(op.to!=null)lp=jl(np);if(op.from!=null)kp=jl(np);}np.markedSpans=aj(np.markedSpans,op);if(op.from==null&&this.collapsed&&!vj(this.doc,np)&&hp)il(np,ie(hp.display));}if(hp&&this.collapsed&&!hp.options.lineWrapping)for(var mp=0;mp<this.lines.length;++mp){var pp=rj(this.lines[mp]),qp=pa(pp);if(qp>hp.display.maxLineLength){hp.display.maxLine=pp;hp.display.maxLineLength=qp;hp.display.maxLineChanged=true;}}if(kp!=null&&hp&&this.collapsed)bf(hp,kp,lp+1);this.lines.length=0;this.explicitlyCleared=true;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=false;if(hp)uc(hp.doc);}if(hp)mm(hp,"markerCleared",hp,this);if(ip)oe(hp);if(this.parent)this.parent.clear();};qi.prototype.find=function(hp,ip){if(hp==null&&this.type=="bookmark")hp=1;var jp,kp;for(var lp=0;lp<this.lines.length;++lp){var mp=this.lines[lp],np=zi(mp.markedSpans,this);if(np.from!=null){jp=wb(ip?mp:jl(mp),np.from);if(hp==-1)return jp;}if(np.to!=null){kp=wb(ip?mp:jl(mp),np.to);if(hp==1)return kp;}}return jp&&{from:jp,to:kp};};qi.prototype.changed=function(){var hp=this.find(-1,true),ip=this,jp=this.doc.cm;if(!hp||!jp)return;ve(jp,function(){var kp=hp.line,lp=jl(hp.line),mp=od(jp,lp);if(mp){ud(mp);jp.curOp.selectionChanged=jp.curOp.forceUpdate=true;}jp.curOp.updateMaxLine=true;if(!vj(ip.doc,kp)&&ip.height!=null){var np=ip.height;ip.height=null;var op=zj(ip)-np;if(op)il(kp,kp.height+op);}});};qi.prototype.attachLine=function(hp){if(!this.lines.length&&this.doc.cm){var ip=this.doc.cm.curOp;if(!ip.maybeHiddenMarkers||en(ip.maybeHiddenMarkers,this)==-1)(ip.maybeUnhiddenMarkers||(ip.maybeUnhiddenMarkers=[])).push(this);}this.lines.push(hp);};qi.prototype.detachLine=function(hp){this.lines.splice(en(this.lines,hp),1);if(!this.lines.length&&this.doc.cm){var ip=this.doc.cm.curOp;(ip.maybeHiddenMarkers||(ip.maybeHiddenMarkers=[])).push(this);}};var ri=0;function si(hp,ip,jp,kp,lp){if(kp&&kp.shared)return ui(hp,ip,jp,kp,lp);if(hp.cm&&!hp.cm.curOp)return we(hp.cm,si)(hp,ip,jp,kp,lp);var mp=new qi(hp,lp),np=xb(ip,jp);if(kp)hn(kp,mp,false);if(np>0||np==0&&mp.clearWhenEmpty!==false)return mp;if(mp.replacedWith){mp.collapsed=true;mp.widgetNode=qn("span",[mp.replacedWith],"CodeMirror-widget");if(!kp.handleMouseEvents)mp.widgetNode.ignoreEvents=true;if(kp.insertLeft)mp.widgetNode.insertLeft=true;}if(mp.collapsed){if(qj(hp,ip.line,ip,jp,mp)||ip.line!=jp.line&&qj(hp,jp.line,ip,jp,mp))throw new Error("Inserting collapsed marker partially overlapping an existing one");ca=true;}if(mp.addToHistory)rl(hp,{from:ip,to:jp,origin:"markText"},hp.sel,NaN);var op=ip.line,pp=hp.cm,qp;hp.iter(op,jp.line+1,function(sp){if(pp&&mp.collapsed&&!pp.options.lineWrapping&&rj(sp)==pp.display.maxLine)qp=true;if(mp.collapsed&&op!=ip.line)il(sp,0);bj(sp,new yi(mp,op==ip.line?ip.ch:null,op==jp.line?jp.ch:null));++op;});if(mp.collapsed)hp.iter(ip.line,jp.line+1,function(sp){if(vj(hp,sp))il(sp,0);});if(mp.clearOnEnter)im(mp,"beforeCursorEnter",function(){mp.clear();});if(mp.readOnly){ba=true;if(hp.history.done.length||hp.history.undone.length)hp.clearHistory();}if(mp.collapsed){mp.id=++ri;mp.atomic=true;}if(pp){if(qp)pp.curOp.updateMaxLine=true;if(mp.collapsed){bf(pp,ip.line,jp.line+1);}else if(mp.className||mp.title||mp.startStyle||mp.endStyle)for(var rp=ip.line;rp<=jp.line;rp++)cf(pp,rp,"text");if(mp.atomic)uc(pp.doc);mm(pp,"markerAdded",pp,mp);}return mp;}var ti=da.SharedTextMarker=function(hp,ip){this.markers=hp;this.primary=ip;for(var jp=0;jp<hp.length;++jp)hp[jp].parent=this;};rm(ti);ti.prototype.clear=function(){if(this.explicitlyCleared)return;this.explicitlyCleared=true;for(var hp=0;hp<this.markers.length;++hp)this.markers[hp].clear();mm(this,"clear");};ti.prototype.find=function(hp,ip){return this.primary.find(hp,ip);};function ui(hp,ip,jp,kp,lp){kp=hn(kp);kp.shared=false;var mp=[si(hp,ip,jp,kp,lp)],np=mp[0],op=kp.widgetNode;dl(hp,function(pp){if(op)kp.widgetNode=op.cloneNode(true);mp.push(si(pp,gc(pp,ip),gc(pp,jp),kp,lp));for(var qp=0;qp<pp.linked.length;++qp)if(pp.linked[qp].isParent)return;np=cn(mp);});return new ti(mp,np);}function vi(hp){return hp.findMarks(wb(hp.first,0),hp.clipPos(wb(hp.lastLine())),function(ip){return ip.parent;});}function wi(hp,ip){for(var jp=0;jp<ip.length;jp++){var kp=ip[jp],lp=kp.find(),mp=hp.clipPos(lp.from),np=hp.clipPos(lp.to);if(xb(mp,np)){var op=si(hp,mp,np,kp.primary,kp.primary.type);kp.markers.push(op);op.parent=kp;}}}function xi(hp){for(var ip=0;ip<hp.length;ip++){var jp=hp[ip],kp=[jp.primary.doc];dl(jp.primary.doc,function(np){kp.push(np);});for(var lp=0;lp<jp.markers.length;lp++){var mp=jp.markers[lp];if(en(kp,mp.doc)==-1){mp.parent=null;jp.markers.splice(lp--,1);}}}}function yi(hp,ip,jp){this.marker=hp;this.from=ip;this.to=jp;}function zi(hp,ip){if(hp)for(var jp=0;jp<hp.length;++jp){var kp=hp[jp];if(kp.marker==ip)return kp;}}function aj(hp,ip){for(var jp,kp=0;kp<hp.length;++kp)if(hp[kp]!=ip)(jp||(jp=[])).push(hp[kp]);return jp;}function bj(hp,ip){hp.markedSpans=hp.markedSpans?hp.markedSpans.concat([ip]):[ip];ip.marker.attachLine(hp);}function cj(hp,ip,jp){if(hp)for(var kp=0,lp;kp<hp.length;++kp){var mp=hp[kp],np=mp.marker,op=mp.from==null||(np.inclusiveLeft?mp.from<=ip:mp.from<ip);if(op||mp.from==ip&&np.type=="bookmark"&&(!jp||!mp.marker.insertLeft)){var pp=mp.to==null||(np.inclusiveRight?mp.to>=ip:mp.to>ip);(lp||(lp=[])).push(new yi(np,mp.from,pp?null:mp.to));}}return lp;}function dj(hp,ip,jp){if(hp)for(var kp=0,lp;kp<hp.length;++kp){var mp=hp[kp],np=mp.marker,op=mp.to==null||(np.inclusiveRight?mp.to>=ip:mp.to>ip);if(op||mp.from==ip&&np.type=="bookmark"&&(!jp||mp.marker.insertLeft)){var pp=mp.from==null||(np.inclusiveLeft?mp.from<=ip:mp.from<ip);(lp||(lp=[])).push(new yi(np,pp?null:mp.from-ip,mp.to==null?null:mp.to-ip));}}return lp;}function ej(hp,ip){var jp=ic(hp,ip.from.line)&&fl(hp,ip.from.line).markedSpans,kp=ic(hp,ip.to.line)&&fl(hp,ip.to.line).markedSpans;if(!jp&&!kp)return null;var lp=ip.from.ch,mp=ip.to.ch,np=xb(ip.from,ip.to)==0,op=cj(jp,lp,np),pp=dj(kp,mp,np),qp=ip.text.length==1,rp=cn(ip.text).length+(qp?lp:0);if(op)for(var sp=0;sp<op.length;++sp){var tp=op[sp];if(tp.to==null){var up=zi(pp,tp.marker);if(!up){tp.to=lp;}else if(qp)tp.to=up.to==null?null:up.to+rp;}}if(pp)for(var sp=0;sp<pp.length;++sp){var tp=pp[sp];if(tp.to!=null)tp.to+=rp;if(tp.from==null){var up=zi(op,tp.marker);if(!up){tp.from=rp;if(qp)(op||(op=[])).push(tp);}}else{tp.from+=rp;if(qp)(op||(op=[])).push(tp);}}if(op)op=fj(op);if(pp&&pp!=op)pp=fj(pp);var vp=[op];if(!qp){var wp=ip.text.length-2,xp;if(wp>0&&op)for(var sp=0;sp<op.length;++sp)if(op[sp].to==null)(xp||(xp=[])).push(new yi(op[sp].marker,null,null));for(var sp=0;sp<wp;++sp)vp.push(xp);vp.push(pp);}return vp;}function fj(hp){for(var ip=0;ip<hp.length;++ip){var jp=hp[ip];if(jp.from!=null&&jp.from==jp.to&&jp.marker.clearWhenEmpty!==false)hp.splice(ip--,1);}if(!hp.length)return null;return hp;}function gj(hp,ip){var jp=xl(hp,ip),kp=ej(hp,ip);if(!jp)return kp;if(!kp)return jp;for(var lp=0;lp<jp.length;++lp){var mp=jp[lp],np=kp[lp];if(mp&&np){spans:for(var op=0;op<np.length;++op){var pp=np[op];for(var qp=0;qp<mp.length;++qp)if(mp[qp].marker==pp.marker)continue spans;mp.push(pp);};}else if(np)jp[lp]=np;}return jp;}function hj(hp,ip,jp){var kp=null;hp.iter(ip.line,jp.line+1,function(up){if(up.markedSpans)for(var vp=0;vp<up.markedSpans.length;++vp){var wp=up.markedSpans[vp].marker;if(wp.readOnly&&(!kp||en(kp,wp)==-1))(kp||(kp=[])).push(wp);}});if(!kp)return null;var lp=[{from:ip,to:jp}];for(var mp=0;mp<kp.length;++mp){var np=kp[mp],op=np.find(0);for(var pp=0;pp<lp.length;++pp){var qp=lp[pp];if(xb(qp.to,op.from)<0||xb(qp.from,op.to)>0)continue;var rp=[pp,1],sp=xb(qp.from,op.from),tp=xb(qp.to,op.to);if(sp<0||!np.inclusiveLeft&&!sp)rp.push({from:qp.from,to:op.from});if(tp>0||!np.inclusiveRight&&!tp)rp.push({from:op.to,to:qp.to});lp.splice.apply(lp,rp);pp+=rp.length-1;}}return lp;}function ij(hp){var ip=hp.markedSpans;if(!ip)return;for(var jp=0;jp<ip.length;++jp)ip[jp].marker.detachLine(hp);hp.markedSpans=null;}function jj(hp,ip){if(!ip)return;for(var jp=0;jp<ip.length;++jp)ip[jp].marker.attachLine(hp);hp.markedSpans=ip;}function kj(hp){return hp.inclusiveLeft?-1:0;}function lj(hp){return hp.inclusiveRight?1:0;}function mj(hp,ip){var jp=hp.lines.length-ip.lines.length;if(jp!=0)return jp;var kp=hp.find(),lp=ip.find(),mp=xb(kp.from,lp.from)||kj(hp)-kj(ip);if(mp)return -mp;var np=xb(kp.to,lp.to)||lj(hp)-lj(ip);if(np)return np;return ip.id-hp.id;}function nj(hp,ip){var jp=ca&&hp.markedSpans,kp;if(jp)for(var lp,mp=0;mp<jp.length;++mp){lp=jp[mp];if(lp.marker.collapsed&&(ip?lp.from:lp.to)==null&&(!kp||mj(kp,lp.marker)<0))kp=lp.marker;}return kp;}function oj(hp){return nj(hp,true);}function pj(hp){return nj(hp,false);}function qj(hp,ip,jp,kp,lp){var mp=fl(hp,ip),np=ca&&mp.markedSpans;if(np)for(var op=0;op<np.length;++op){var pp=np[op];if(!pp.marker.collapsed)continue;var qp=pp.marker.find(0),rp=xb(qp.from,jp)||kj(pp.marker)-kj(lp),sp=xb(qp.to,kp)||lj(pp.marker)-lj(lp);if(rp>=0&&sp<=0||rp<=0&&sp>=0)continue;if(rp<=0&&(xb(qp.to,jp)>0||(pp.marker.inclusiveRight&&lp.inclusiveLeft))||rp>=0&&(xb(qp.from,kp)<0||(pp.marker.inclusiveLeft&&lp.inclusiveRight)))return true;}}function rj(hp){var ip;while(ip=oj(hp))hp=ip.find(-1,true).line;return hp;}function sj(hp){var ip,jp;while(ip=pj(hp)){hp=ip.find(1,true).line;(jp||(jp=[])).push(hp);}return jp;}function tj(hp,ip){var jp=fl(hp,ip),kp=rj(jp);if(jp==kp)return ip;return jl(kp);}function uj(hp,ip){if(ip>hp.lastLine())return ip;var jp=fl(hp,ip),kp;if(!vj(hp,jp))return ip;while(kp=pj(jp))jp=kp.find(1,true).line;return jl(jp)+1;}function vj(hp,ip){var jp=ca&&ip.markedSpans;if(jp)for(var kp,lp=0;lp<jp.length;++lp){kp=jp[lp];if(!kp.marker.collapsed)continue;if(kp.from==null)return true;if(kp.marker.widgetNode)continue;if(kp.from==0&&kp.marker.inclusiveLeft&&wj(hp,ip,kp))return true;}}function wj(hp,ip,jp){if(jp.to==null){var kp=jp.marker.find(1,true);return wj(hp,kp.line,zi(kp.line.markedSpans,jp.marker));}if(jp.marker.inclusiveRight&&jp.to==ip.text.length)return true;for(var lp,mp=0;mp<ip.markedSpans.length;++mp){lp=ip.markedSpans[mp];if(lp.marker.collapsed&&!lp.marker.widgetNode&&lp.from==jp.to&&(lp.to==null||lp.to!=jp.from)&&(lp.marker.inclusiveLeft||jp.marker.inclusiveRight)&&wj(hp,ip,lp))return true;}}var xj=da.LineWidget=function(hp,ip,jp){if(jp)for(var kp in jp)if(jp.hasOwnProperty(kp))this[kp]=jp[kp];this.cm=hp;this.node=ip;};rm(xj);function yj(hp,ip,jp){if(ll(ip)<((hp.curOp&&hp.curOp.scrollTop)||hp.doc.scrollTop))qh(hp,null,jp);}xj.prototype.clear=function(){var hp=this.cm,ip=this.line.widgets,jp=this.line,kp=jl(jp);if(kp==null||!ip)return;for(var lp=0;lp<ip.length;++lp)if(ip[lp]==this)ip.splice(lp--,1);if(!ip.length)jp.widgets=null;var mp=zj(this);ve(hp,function(){yj(hp,jp,-mp);cf(hp,kp,"widget");il(jp,Math.max(0,jp.height-mp));});};xj.prototype.changed=function(){var hp=this.height,ip=this.cm,jp=this.line;this.height=null;var kp=zj(this)-hp;if(!kp)return;ve(ip,function(){ip.curOp.forceUpdate=true;yj(ip,jp,kp);il(jp,jp.height+kp);});};function zj(hp){if(hp.height!=null)return hp.height;if(!un(document.body,hp.node)){var ip="position: relative;";if(hp.coverGutter)ip+="margin-left: -"+hp.cm.getGutterElement().offsetWidth+"px;";tn(hp.cm.display.measure,qn("div",[hp.node],null,ip));}return hp.height=hp.node.offsetHeight;}function ak(hp,ip,jp,kp){var lp=new xj(hp,jp,kp);if(lp.noHScroll)hp.display.alignWidgets=true;uh(hp.doc,ip,"widget",function(mp){var np=mp.widgets||(mp.widgets=[]);if(lp.insertAt==null){np.push(lp);}else np.splice(Math.min(np.length-1,Math.max(0,lp.insertAt)),0,lp);lp.line=mp;if(!vj(hp.doc,mp)){var op=ll(mp)<hp.doc.scrollTop;il(mp,mp.height+zj(lp));if(op)qh(hp,null,lp.height);hp.curOp.forceUpdate=true;}return true;});return lp;}var bk=da.Line=function(hp,ip,jp){this.text=hp;jj(this,ip);this.height=jp?jp(this):1;};rm(bk);bk.prototype.lineNo=function(){return jl(this);};function ck(hp,ip,jp,kp){hp.text=ip;if(hp.stateAfter)hp.stateAfter=null;if(hp.styles)hp.styles=null;if(hp.order!=null)hp.order=null;ij(hp);jj(hp,jp);var lp=kp?kp(hp):1;if(lp!=hp.height)il(hp,lp);}function dk(hp){hp.parent=null;ij(hp);}function ek(hp,ip){if(hp)for(;;){var jp=hp.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!jp)break;hp=hp.slice(0,jp.index)+hp.slice(jp.index+jp[0].length);var kp=jp[1]?"bgClass":"textClass";if(ip[kp]==null){ip[kp]=jp[2];}else if(!(new RegExp("(?:^|\s)"+jp[2]+"(?:$|\s)")).test(ip[kp]))ip[kp]+=" "+jp[2];}return hp;}function fk(hp,ip){if(hp.blankLine)return hp.blankLine(ip);if(!hp.innerMode)return;var jp=da.innerMode(hp,ip);if(jp.mode.blankLine)return jp.mode.blankLine(jp.state);}function gk(hp,ip,jp){for(var kp=0;kp<10;kp++){var lp=hp.token(ip,jp);if(ip.pos>ip.start)return lp;}throw new Error("Mode "+hp.name+" failed to advance stream.");}function hk(hp,ip,jp,kp,lp,mp,np){var op=jp.flattenSpans;if(op==null)op=hp.options.flattenSpans;var pp=0,qp=null,rp=new pi(ip,hp.options.tabSize),sp;if(ip=="")ek(fk(jp,kp),mp);while(!rp.eol()){if(rp.pos>hp.options.maxHighlightLength){op=false;if(np)kk(hp,ip,kp,rp.pos);rp.pos=ip.length;sp=null;}else sp=ek(gk(jp,rp,kp),mp);if(hp.options.addModeClass){var tp=da.innerMode(jp,kp).mode.name;if(tp)sp="m-"+(sp?tp+" "+sp:tp);}if(!op||qp!=sp){if(pp<rp.start)lp(rp.start,qp);pp=rp.start;qp=sp;}rp.start=rp.pos;}while(pp<rp.pos){var up=Math.min(rp.pos,pp+50000);lp(up,qp);pp=up;}}function ik(hp,ip,jp,kp){var lp=[hp.state.modeGen],mp={};hk(hp,ip.text,hp.doc.mode,jp,function(rp,sp){lp.push(rp,sp);},mp,kp);for(var np=0;np<hp.state.overlays.length;++np){var op=hp.state.overlays[np],pp=1,qp=0;hk(hp,ip.text,op.mode,true,function(rp,sp){var tp=pp;while(qp<rp){var up=lp[pp];if(up>rp)lp.splice(pp,1,rp,lp[pp+1],up);pp+=2;qp=Math.min(rp,up);}if(!sp)return;if(op.opaque){lp.splice(tp,pp-tp,rp,"cm-overlay "+sp);pp=tp+2;}else for(;tp<pp;tp+=2){var vp=lp[tp+1];lp[tp+1]=(vp?vp+" ":"")+"cm-overlay "+sp;}},mp);}return {styles:lp,classes:mp.bgClass||mp.textClass?mp:null};}function jk(hp,ip){if(!ip.styles||ip.styles[0]!=hp.state.modeGen){var jp=ik(hp,ip,ip.stateAfter=gd(hp,jl(ip)));ip.styles=jp.styles;if(jp.classes){ip.styleClasses=jp.classes;}else if(ip.styleClasses)ip.styleClasses=null;}return ip.styles;}function kk(hp,ip,jp,kp){var lp=hp.doc.mode,mp=new pi(ip,hp.options.tabSize);mp.start=mp.pos=kp||0;if(ip=="")fk(lp,jp);while(!mp.eol()&&mp.pos<=hp.options.maxHighlightLength){gk(lp,mp,jp);mp.start=mp.pos;}}var lk={},mk={};function nk(hp,ip){if(!hp||/^\s*$/.test(hp))return null;var jp=ip.addModeClass?mk:lk;return jp[hp]||(jp[hp]=hp.replace(/\S+/g,"cm-$&"));}function ok(hp,ip){var jp=qn("span",null,null,m?"padding-right: .1px":null),kp={pre:qn("pre",[jp]),content:jp,col:0,pos:0,cm:hp};ip.measure={};for(var lp=0;lp<=(ip.rest?ip.rest.length:0);lp++){var mp=lp?ip.rest[lp-1]:ip.line,np;kp.pos=0;kp.addToken=qk;if((k||m)&&hp.getOption("lineWrapping"))kp.addToken=rk(kp.addToken);if(lo(hp.display.measure)&&(np=ml(mp)))kp.addToken=sk(kp.addToken,np);kp.map=[];uk(mp,kp,jk(hp,mp));if(mp.styleClasses){if(mp.styleClasses.bgClass)kp.bgClass=zn(mp.styleClasses.bgClass,kp.bgClass||"");if(mp.styleClasses.textClass)kp.textClass=zn(mp.styleClasses.textClass,kp.textClass||"");}if(kp.map.length==0)kp.map.push(0,0,kp.content.appendChild(jo(hp.display.measure)));if(lp==0){ip.measure.map=kp.map;ip.measure.cache={};}else{(ip.measure.maps||(ip.measure.maps=[])).push(kp.map);(ip.measure.caches||(ip.measure.caches=[])).push({});}}km(hp,"renderLine",hp,ip.line,kp.pre);if(kp.pre.className)kp.textClass=zn(kp.pre.className,kp.textClass||"");return kp;}function pk(hp){var ip=qn("span","\u2022","cm-invalidchar");ip.title="\\u"+hp.charCodeAt(0).toString(16);return ip;}function qk(hp,ip,jp,kp,lp,mp){if(!ip)return;var np=hp.cm.options.specialChars,op=false;if(!np.test(ip)){hp.col+=ip.length;var pp=document.createTextNode(ip);hp.map.push(hp.pos,hp.pos+ip.length,pp);if(k&&l<9)op=true;hp.pos+=ip.length;}else{var pp=document.createDocumentFragment(),qp=0;while(true){np.lastIndex=qp;var rp=np.exec(ip),sp=rp?rp.index-qp:ip.length-qp;if(sp){var tp=document.createTextNode(ip.slice(qp,qp+sp));if(k&&l<9){pp.appendChild(qn("span",[tp]));}else pp.appendChild(tp);hp.map.push(hp.pos,hp.pos+sp,tp);hp.col+=sp;hp.pos+=sp;}if(!rp)break;qp+=sp+1;if(rp[0]=="\t"){var up=hp.cm.options.tabSize,vp=up-hp.col%up,tp=pp.appendChild(qn("span",bn(vp),"cm-tab"));hp.col+=vp;}else{var tp=hp.cm.options.specialCharPlaceholder(rp[0]);if(k&&l<9){pp.appendChild(qn("span",[tp]));}else pp.appendChild(tp);hp.col+=1;}hp.map.push(hp.pos,hp.pos+1,tp);hp.pos++;}}if(jp||kp||lp||op){var wp=jp||"";if(kp)wp+=kp;if(lp)wp+=lp;var xp=qn("span",[pp],wp);if(mp)xp.title=mp;return hp.content.appendChild(xp);}hp.content.appendChild(pp);}function rk(hp){function ip(jp){var kp=" ";for(var lp=0;lp<jp.length-2;++lp)kp+=lp%2?" ":"\u00a0";kp+=" ";return kp;}return function(jp,kp,lp,mp,np,op){hp(jp,kp.replace(/ {3,}/g,ip),lp,mp,np,op);};}function sk(hp,ip){return function(jp,kp,lp,mp,np,op){lp=lp?lp+" cm-force-border":"cm-force-border";var pp=jp.pos,qp=pp+kp.length;for(;;){for(var rp=0;rp<ip.length;rp++){var sp=ip[rp];if(sp.to>pp&&sp.from<=pp)break;}if(sp.to>=qp)return hp(jp,kp,lp,mp,np,op);hp(jp,kp.slice(0,sp.to-pp),lp,mp,null,op);mp=null;kp=kp.slice(sp.to-pp);pp=sp.to;}};}function tk(hp,ip,jp,kp){var lp=!kp&&jp.widgetNode;if(lp){hp.map.push(hp.pos,hp.pos+ip,lp);hp.content.appendChild(lp);}hp.pos+=ip;}function uk(hp,ip,jp){var kp=hp.markedSpans,lp=hp.text,mp=0;if(!kp){for(var np=1;np<jp.length;np+=2)ip.addToken(ip,lp.slice(mp,mp=jp[np]),nk(jp[np+1],ip.cm.options));return;}var op=lp.length,pp=0,np=1,qp="",rp,sp=0,tp,up,vp,wp,xp;for(;;){if(sp==pp){tp=up=vp=wp="";xp=null;sp=Infinity;var yp=[];for(var zp=0;zp<kp.length;++zp){var aq=kp[zp],bq=aq.marker;if(aq.from<=pp&&(aq.to==null||aq.to>pp)){if(aq.to!=null&&sp>aq.to){sp=aq.to;up="";}if(bq.className)tp+=" "+bq.className;if(bq.startStyle&&aq.from==pp)vp+=" "+bq.startStyle;if(bq.endStyle&&aq.to==sp)up+=" "+bq.endStyle;if(bq.title&&!wp)wp=bq.title;if(bq.collapsed&&(!xp||mj(xp.marker,bq)<0))xp=aq;}else if(aq.from>pp&&sp>aq.from)sp=aq.from;if(bq.type=="bookmark"&&aq.from==pp&&bq.widgetNode)yp.push(bq);}if(xp&&(xp.from||0)==pp){tk(ip,(xp.to==null?op+1:xp.to)-pp,xp.marker,xp.from==null);if(xp.to==null)return;}if(!xp&&yp.length)for(var zp=0;zp<yp.length;++zp)tk(ip,0,yp[zp]);}if(pp>=op)break;var cq=Math.min(op,sp);while(true){if(qp){var dq=pp+qp.length;if(!xp){var eq=dq>cq?qp.slice(0,cq-pp):qp;ip.addToken(ip,eq,rp?rp+tp:tp,vp,pp+eq.length==sp?up:"",wp);}if(dq>=cq){qp=qp.slice(cq-pp);pp=cq;break;}pp=dq;vp="";}qp=lp.slice(mp,mp=jp[np++]);rp=nk(jp[np++],ip.cm.options);}}}function vk(hp,ip){return ip.from.ch==0&&ip.to.ch==0&&cn(ip.text)==""&&(!hp.cm||hp.cm.options.wholeLineUpdateBefore);}function wk(hp,ip,jp,kp){function lp(xp){return jp?jp[xp]:null;}function mp(xp,yp,zp){ck(xp,yp,zp,kp);mm(xp,"change",xp,ip);}var np=ip.from,op=ip.to,pp=ip.text,qp=fl(hp,np.line),rp=fl(hp,op.line),sp=cn(pp),tp=lp(pp.length-1),up=op.line-np.line;if(vk(hp,ip)){for(var vp=0,wp=[];vp<pp.length-1;++vp)wp.push(new bk(pp[vp],lp(vp),kp));mp(rp,rp.text,tp);if(up)hp.remove(np.line,up);if(wp.length)hp.insert(np.line,wp);}else if(qp==rp){if(pp.length==1){mp(qp,qp.text.slice(0,np.ch)+sp+qp.text.slice(op.ch),tp);}else{for(var wp=[],vp=1;vp<pp.length-1;++vp)wp.push(new bk(pp[vp],lp(vp),kp));wp.push(new bk(sp+qp.text.slice(op.ch),tp,kp));mp(qp,qp.text.slice(0,np.ch)+pp[0],lp(0));hp.insert(np.line+1,wp);}}else if(pp.length==1){mp(qp,qp.text.slice(0,np.ch)+pp[0]+rp.text.slice(op.ch),lp(0));hp.remove(np.line+1,up);}else{mp(qp,qp.text.slice(0,np.ch)+pp[0],lp(0));mp(rp,sp+rp.text.slice(op.ch),tp);for(var vp=1,wp=[];vp<pp.length-1;++vp)wp.push(new bk(pp[vp],lp(vp),kp));if(up>1)hp.remove(np.line+1,up-1);hp.insert(np.line+1,wp);}mm(hp,"change",hp,ip);}function xk(hp){this.lines=hp;this.parent=null;for(var ip=0,jp=0;ip<hp.length;++ip){hp[ip].parent=this;jp+=hp[ip].height;}this.height=jp;}xk.prototype={chunkSize:function(){return this.lines.length;},removeInner:function(hp,ip){for(var jp=hp,kp=hp+ip;jp<kp;++jp){var lp=this.lines[jp];this.height-=lp.height;dk(lp);mm(lp,"delete");}this.lines.splice(hp,ip);},collapse:function(hp){hp.push.apply(hp,this.lines);},insertInner:function(hp,ip,jp){this.height+=jp;this.lines=this.lines.slice(0,hp).concat(ip).concat(this.lines.slice(hp));for(var kp=0;kp<ip.length;++kp)ip[kp].parent=this;},iterN:function(hp,ip,jp){for(var kp=hp+ip;hp<kp;++hp)if(jp(this.lines[hp]))return true;}};function yk(hp){this.children=hp;var ip=0,jp=0;for(var kp=0;kp<hp.length;++kp){var lp=hp[kp];ip+=lp.chunkSize();jp+=lp.height;lp.parent=this;}this.size=ip;this.height=jp;this.parent=null;}yk.prototype={chunkSize:function(){return this.size;},removeInner:function(hp,ip){this.size-=ip;for(var jp=0;jp<this.children.length;++jp){var kp=this.children[jp],lp=kp.chunkSize();if(hp<lp){var mp=Math.min(ip,lp-hp),np=kp.height;kp.removeInner(hp,mp);this.height-=np-kp.height;if(lp==mp){this.children.splice(jp--,1);kp.parent=null;}if((ip-=mp)==0)break;hp=0;}else hp-=lp;}if(this.size-ip<25&&(this.children.length>1||!(this.children[0] instanceof xk))){var op=[];this.collapse(op);this.children=[new xk(op)];this.children[0].parent=this;}},collapse:function(hp){for(var ip=0;ip<this.children.length;++ip)this.children[ip].collapse(hp);},insertInner:function(hp,ip,jp){this.size+=ip.length;this.height+=jp;for(var kp=0;kp<this.children.length;++kp){var lp=this.children[kp],mp=lp.chunkSize();if(hp<=mp){lp.insertInner(hp,ip,jp);if(lp.lines&&lp.lines.length>50){while(lp.lines.length>50){var np=lp.lines.splice(lp.lines.length-25,25),op=new xk(np);lp.height-=op.height;this.children.splice(kp+1,0,op);op.parent=this;}this.maybeSpill();}break;}hp-=mp;}},maybeSpill:function(){if(this.children.length<=10)return;var hp=this;do{var ip=hp.children.splice(hp.children.length-5,5),jp=new yk(ip);if(!hp.parent){var kp=new yk(hp.children);kp.parent=hp;hp.children=[kp,jp];hp=kp;}else{hp.size-=jp.size;hp.height-=jp.height;var lp=en(hp.parent.children,hp);hp.parent.children.splice(lp+1,0,jp);}jp.parent=hp.parent;}while(hp.children.length>10);hp.parent.maybeSpill();},iterN:function(hp,ip,jp){for(var kp=0;kp<this.children.length;++kp){var lp=this.children[kp],mp=lp.chunkSize();if(hp<mp){var np=Math.min(ip,mp-hp);if(lp.iterN(hp,np,jp))return true;if((ip-=np)==0)break;hp=0;}else hp-=mp;}}};var zk=0,al=da.Doc=function(hp,ip,jp){if(!(this instanceof al))return new al(hp,ip,jp);if(jp==null)jp=0;yk.call(this,[new xk([new bk("",null)])]);this.first=jp;this.scrollTop=this.scrollLeft=0;this.cantEdit=false;this.cleanGeneration=1;this.frontier=jp;var kp=wb(jp,0);this.sel=ec(kp);this.history=new nl(null);this.id=++zk;this.modeOption=ip;if(typeof hp=="string")hp=mo(hp);wk(this,{from:kp,to:kp,text:hp});rc(this,ec(kp),um);};al.prototype=gn(yk.prototype,{constructor:al,iter:function(hp,ip,jp){if(jp){this.iterN(hp-this.first,ip-hp,jp);}else this.iterN(this.first,this.first+this.size,hp);},insert:function(hp,ip){var jp=0;for(var kp=0;kp<ip.length;++kp)jp+=ip[kp].height;this.insertInner(hp-this.first,ip,jp);},remove:function(hp,ip){this.removeInner(hp-this.first,ip);},getValue:function(hp){var ip=hl(this,this.first,this.first+this.size);if(hp===false)return ip;return ip.join(hp||"\n");},setValue:ye(function(hp){var ip=wb(this.first,0),jp=this.first+this.size-1;fh(this,{from:ip,to:wb(jp,fl(this,jp).text.length),text:mo(hp),origin:"setValue"},true);rc(this,ec(ip));}),replaceRange:function(hp,ip,jp,kp){ip=gc(this,ip);jp=jp?gc(this,jp):ip;lh(this,hp,ip,jp,kp);},getRange:function(hp,ip,jp){var kp=gl(this,gc(this,hp),gc(this,ip));if(jp===false)return kp;return kp.join(jp||"\n");},getLine:function(hp){var ip=this.getLineHandle(hp);return ip&&ip.text;},getLineHandle:function(hp){if(ic(this,hp))return fl(this,hp);},getLineNumber:function(hp){return jl(hp);},getLineHandleVisualStart:function(hp){if(typeof hp=="number")hp=fl(this,hp);return rj(hp);},lineCount:function(){return this.size;},firstLine:function(){return this.first;},lastLine:function(){return this.first+this.size-1;},clipPos:function(hp){return gc(this,hp);},getCursor:function(hp){var ip=this.sel.primary(),jp;if(hp==null||hp=="head"){jp=ip.head;}else if(hp=="anchor"){jp=ip.anchor;}else if(hp=="end"||hp=="to"||hp===false){jp=ip.to();}else jp=ip.from();return jp;},listSelections:function(){return this.sel.ranges;},somethingSelected:function(){return this.sel.somethingSelected();},setCursor:ye(function(hp,ip,jp){oc(this,gc(this,typeof hp=="number"?wb(hp,ip||0):hp),null,jp);}),setSelection:ye(function(hp,ip,jp){oc(this,gc(this,hp),gc(this,ip||hp),jp);}),extendSelection:ye(function(hp,ip,jp){lc(this,gc(this,hp),ip&&gc(this,ip),jp);}),extendSelections:ye(function(hp,ip){mc(this,jc(this,hp,ip));}),extendSelectionsBy:ye(function(hp,ip){mc(this,fn(this.sel.ranges,hp),ip);}),setSelections:ye(function(hp,ip,jp){if(!hp.length)return;for(var kp=0,lp=[];kp<hp.length;kp++)lp[kp]=new cc(gc(this,hp[kp].anchor),gc(this,hp[kp].head));if(ip==null)ip=Math.min(hp.length-1,this.sel.primIndex);rc(this,dc(lp,ip),jp);}),addSelection:ye(function(hp,ip,jp){var kp=this.sel.ranges.slice(0);kp.push(new cc(gc(this,hp),gc(this,ip||hp)));rc(this,dc(kp,kp.length-1),jp);}),getSelection:function(hp){var ip=this.sel.ranges,jp;for(var kp=0;kp<ip.length;kp++){var lp=gl(this,ip[kp].from(),ip[kp].to());jp=jp?jp.concat(lp):lp;}if(hp===false){return jp;}else return jp.join(hp||"\n");},getSelections:function(hp){var ip=[],jp=this.sel.ranges;for(var kp=0;kp<jp.length;kp++){var lp=gl(this,jp[kp].from(),jp[kp].to());if(hp!==false)lp=lp.join(hp||"\n");ip[kp]=lp;}return ip;},replaceSelection:function(hp,ip,jp){var kp=[];for(var lp=0;lp<this.sel.ranges.length;lp++)kp[lp]=hp;this.replaceSelections(kp,ip,jp||"+input");},replaceSelections:ye(function(hp,ip,jp){var kp=[],lp=this.sel;for(var mp=0;mp<lp.ranges.length;mp++){var np=lp.ranges[mp];kp[mp]={from:np.from(),to:np.to(),text:mo(hp[mp]),origin:jp};}var op=ip&&ip!="end"&&dh(this,kp,ip);for(var mp=kp.length-1;mp>=0;mp--)fh(this,kp[mp]);if(op){qc(this,op);}else if(this.cm)rh(this.cm);}),undo:ye(function(){hh(this,"undo");}),redo:ye(function(){hh(this,"redo");}),undoSelection:ye(function(){hh(this,"undo",true);}),redoSelection:ye(function(){hh(this,"redo",true);}),setExtending:function(hp){this.extend=hp;},getExtending:function(){return this.extend;},historySize:function(){var hp=this.history,ip=0,jp=0;for(var kp=0;kp<hp.done.length;kp++)if(!hp.done[kp].ranges)++ip;for(var kp=0;kp<hp.undone.length;kp++)if(!hp.undone[kp].ranges)++jp;return {undo:ip,redo:jp};},clearHistory:function(){this.history=new nl(this.history.maxGeneration);},markClean:function(){this.cleanGeneration=this.changeGeneration(true);},changeGeneration:function(hp){if(hp)this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null;return this.history.generation;},isClean:function(hp){return this.history.generation==(hp||this.cleanGeneration);},getHistory:function(){return {done:yl(this.history.done),undone:yl(this.history.undone)};},setHistory:function(hp){var ip=this.history=new nl(this.history.maxGeneration);ip.done=yl(hp.done.slice(0),null,true);ip.undone=yl(hp.undone.slice(0),null,true);},addLineClass:ye(function(hp,ip,jp){return uh(this,hp,"class",function(kp){var lp=ip=="text"?"textClass":ip=="background"?"bgClass":"wrapClass";if(!kp[lp]){kp[lp]=jp;}else if(new RegExp("(?:^|\\s)"+jp+"(?:$|\\s)").test(kp[lp])){return false;}else kp[lp]+=" "+jp;return true;});}),removeLineClass:ye(function(hp,ip,jp){return uh(this,hp,"class",function(kp){var lp=ip=="text"?"textClass":ip=="background"?"bgClass":"wrapClass",mp=kp[lp];if(!mp){return false;}else if(jp==null){kp[lp]=null;}else{var np=mp.match(new RegExp("(?:^|\\s+)"+jp+"(?:$|\\s+)"));if(!np)return false;var op=np.index+np[0].length;kp[lp]=mp.slice(0,np.index)+(!np.index||op==mp.length?"":" ")+mp.slice(op)||null;}return true;});}),markText:function(hp,ip,jp){return si(this,gc(this,hp),gc(this,ip),jp,"range");},setBookmark:function(hp,ip){var jp={replacedWith:ip&&(ip.nodeType==null?ip.widget:ip),insertLeft:ip&&ip.insertLeft,clearWhenEmpty:false,shared:ip&&ip.shared};hp=gc(this,hp);return si(this,hp,hp,jp,"bookmark");},findMarksAt:function(hp){hp=gc(this,hp);var ip=[],jp=fl(this,hp.line).markedSpans;if(jp)for(var kp=0;kp<jp.length;++kp){var lp=jp[kp];if((lp.from==null||lp.from<=hp.ch)&&(lp.to==null||lp.to>=hp.ch))ip.push(lp.marker.parent||lp.marker);}return ip;},findMarks:function(hp,ip,jp){hp=gc(this,hp);ip=gc(this,ip);var kp=[],lp=hp.line;this.iter(hp.line,ip.line+1,function(mp){var np=mp.markedSpans;if(np)for(var op=0;op<np.length;op++){var pp=np[op];if(!(lp==hp.line&&hp.ch>pp.to||pp.from==null&&lp!=hp.line||lp==ip.line&&pp.from>ip.ch)&&(!jp||jp(pp.marker)))kp.push(pp.marker.parent||pp.marker);}++lp;});return kp;},getAllMarks:function(){var hp=[];this.iter(function(ip){var jp=ip.markedSpans;if(jp)for(var kp=0;kp<jp.length;++kp)if(jp[kp].from!=null)hp.push(jp[kp].marker);});return hp;},posFromIndex:function(hp){var ip,jp=this.first;this.iter(function(kp){var lp=kp.text.length+1;if(lp>hp){ip=hp;return true;}hp-=lp;++jp;});return gc(this,wb(jp,ip));},indexFromPos:function(hp){hp=gc(this,hp);var ip=hp.ch;if(hp.line<this.first||hp.ch<0)return 0;this.iter(this.first,hp.line,function(jp){ip+=jp.text.length+1;});return ip;},copy:function(hp){var ip=new al(hl(this,this.first,this.first+this.size),this.modeOption,this.first);ip.scrollTop=this.scrollTop;ip.scrollLeft=this.scrollLeft;ip.sel=this.sel;ip.extend=false;if(hp){ip.history.undoDepth=this.history.undoDepth;ip.setHistory(this.getHistory());}return ip;},linkedDoc:function(hp){if(!hp)hp={};var ip=this.first,jp=this.first+this.size;if(hp.from!=null&&hp.from>ip)ip=hp.from;if(hp.to!=null&&hp.to<jp)jp=hp.to;var kp=new al(hl(this,ip,jp),hp.mode||this.modeOption,ip);if(hp.sharedHist)kp.history=this.history;(this.linked||(this.linked=[])).push({doc:kp,sharedHist:hp.sharedHist});kp.linked=[{doc:this,isParent:true,sharedHist:hp.sharedHist}];wi(kp,vi(this));return kp;},unlinkDoc:function(hp){if(hp instanceof da)hp=hp.doc;if(this.linked)for(var ip=0;ip<this.linked.length;++ip){var jp=this.linked[ip];if(jp.doc!=hp)continue;this.linked.splice(ip,1);hp.unlinkDoc(this);xi(vi(this));break;}if(hp.history==this.history){var kp=[hp.id];dl(hp,function(lp){kp.push(lp.id);},true);hp.history=new nl(null);hp.history.done=yl(this.history.done,kp);hp.history.undone=yl(this.history.undone,kp);}},iterLinkedDocs:function(hp){dl(this,hp);},getMode:function(){return this.mode;},getEditor:function(){return this.cm;}});al.prototype.eachLine=al.prototype.iter;var bl="iter insert remove copy getEditor".split(" ");for(var cl in al.prototype)if(al.prototype.hasOwnProperty(cl)&&en(bl,cl)<0)da.prototype[cl]=(function(hp){return function(){return hp.apply(this.doc,arguments);};})(al.prototype[cl]);rm(al);function dl(hp,ip,jp){function kp(lp,mp,np){if(lp.linked)for(var op=0;op<lp.linked.length;++op){var pp=lp.linked[op];if(pp.doc==mp)continue;var qp=np&&pp.sharedHist;if(jp&&!qp)continue;ip(pp.doc,qp);kp(pp.doc,lp,qp);}}kp(hp,null,true);}function el(hp,ip){if(ip.cm)throw new Error("This document is already in use.");hp.doc=ip;ip.cm=hp;ja(hp);fa(hp);if(!hp.options.lineWrapping)qa(hp);hp.options.mode=ip.modeOption;bf(hp);}function fl(hp,ip){ip-=hp.first;if(ip<0||ip>=hp.size)throw new Error("There is no line "+(ip+hp.first)+" in the document.");for(var jp=hp;!jp.lines;)for(var kp=0;;++kp){var lp=jp.children[kp],mp=lp.chunkSize();if(ip<mp){jp=lp;break;}ip-=mp;}return jp.lines[ip];}function gl(hp,ip,jp){var kp=[],lp=ip.line;hp.iter(ip.line,jp.line+1,function(mp){var np=mp.text;if(lp==jp.line)np=np.slice(0,jp.ch);if(lp==ip.line)np=np.slice(ip.ch);kp.push(np);++lp;});return kp;}function hl(hp,ip,jp){var kp=[];hp.iter(ip,jp,function(lp){kp.push(lp.text);});return kp;}function il(hp,ip){var jp=ip-hp.height;if(jp)for(var kp=hp;kp;kp=kp.parent)kp.height+=jp;}function jl(hp){if(hp.parent==null)return null;var ip=hp.parent,jp=en(ip.lines,hp);for(var kp=ip.parent;kp;ip=kp,kp=kp.parent)for(var lp=0;;++lp){if(kp.children[lp]==ip)break;jp+=kp.children[lp].chunkSize();}return jp+ip.first;}function kl(hp,ip){var jp=hp.first;outer:do{for(var kp=0;kp<hp.children.length;++kp){var lp=hp.children[kp],mp=lp.height;if(ip<mp){hp=lp;continue outer;}ip-=mp;jp+=lp.chunkSize();}return jp;}while(!hp.lines);for(var kp=0;kp<hp.lines.length;++kp){var np=hp.lines[kp],op=np.height;if(ip<op)break;ip-=op;}return jp+kp;}function ll(hp){hp=rj(hp);var ip=0,jp=hp.parent;for(var kp=0;kp<jp.lines.length;++kp){var lp=jp.lines[kp];if(lp==hp){break;}else ip+=lp.height;}for(var mp=jp.parent;mp;jp=mp,mp=jp.parent)for(var kp=0;kp<mp.children.length;++kp){var np=mp.children[kp];if(np==jp){break;}else ip+=np.height;}return ip;}function ml(hp){var ip=hp.order;if(ip==null)ip=hp.order=gp(hp.text);return ip;}function nl(hp){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOp=this.lastSelOp=null;this.lastOrigin=this.lastSelOrigin=null;this.generation=this.maxGeneration=hp||1;}function ol(hp,ip){var jp={from:yb(ip.from),to:zg(ip),text:gl(hp,ip.from,ip.to)};vl(hp,jp,ip.from.line,ip.to.line+1);dl(hp,function(kp){vl(kp,jp,ip.from.line,ip.to.line+1);},true);return jp;}function pl(hp){while(hp.length){var ip=cn(hp);if(ip.ranges){hp.pop();}else break;}}function ql(hp,ip){if(ip){pl(hp.done);return cn(hp.done);}else if(hp.done.length&&!cn(hp.done).ranges){return cn(hp.done);}else if(hp.done.length>1&&!hp.done[hp.done.length-2].ranges){hp.done.pop();return cn(hp.done);}}function rl(hp,ip,jp,kp){var lp=hp.history;lp.undone.length=0;var mp=+new Date(),np;if((lp.lastOp==kp||lp.lastOrigin==ip.origin&&ip.origin&&((ip.origin.charAt(0)=="+"&&hp.cm&&lp.lastModTime>mp-hp.cm.options.historyEventDelay)||ip.origin.charAt(0)=="*"))&&(np=ql(lp,lp.lastOp==kp))){var op=cn(np.changes);if(xb(ip.from,ip.to)==0&&xb(ip.from,op.to)==0){op.to=zg(ip);}else np.changes.push(ol(hp,ip));}else{var pp=cn(lp.done);if(!pp||!pp.ranges)ul(hp.sel,lp.done);np={changes:[ol(hp,ip)],generation:lp.generation};lp.done.push(np);while(lp.done.length>lp.undoDepth){lp.done.shift();if(!lp.done[0].ranges)lp.done.shift();}}lp.done.push(jp);lp.generation=++lp.maxGeneration;lp.lastModTime=lp.lastSelTime=mp;lp.lastOp=lp.lastSelOp=kp;lp.lastOrigin=lp.lastSelOrigin=ip.origin;if(!op)km(hp,"historyAdded");}function sl(hp,ip,jp,kp){var lp=ip.charAt(0);return lp=="*"||lp=="+"&&jp.ranges.length==kp.ranges.length&&jp.somethingSelected()==kp.somethingSelected()&&new Date()-hp.history.lastSelTime<=(hp.cm?hp.cm.options.historyEventDelay:500);}function tl(hp,ip,jp,kp){var lp=hp.history,mp=kp&&kp.origin;if(jp==lp.lastSelOp||(mp&&lp.lastSelOrigin==mp&&(lp.lastModTime==lp.lastSelTime&&lp.lastOrigin==mp||sl(hp,mp,cn(lp.done),ip)))){lp.done[lp.done.length-1]=ip;}else ul(ip,lp.done);lp.lastSelTime=+new Date();lp.lastSelOrigin=mp;lp.lastSelOp=jp;if(kp&&kp.clearRedo!==false)pl(lp.undone);}function ul(hp,ip){var jp=cn(ip);if(!(jp&&jp.ranges&&jp.equals(hp)))ip.push(hp);}function vl(hp,ip,jp,kp){var lp=ip["spans_"+hp.id],mp=0;hp.iter(Math.max(hp.first,jp),Math.min(hp.first+hp.size,kp),function(np){if(np.markedSpans)(lp||(lp=ip["spans_"+hp.id]={}))[mp]=np.markedSpans;++mp;});}function wl(hp){if(!hp)return null;for(var ip=0,jp;ip<hp.length;++ip)if(hp[ip].marker.explicitlyCleared){if(!jp)jp=hp.slice(0,ip);}else if(jp)jp.push(hp[ip]);return !jp?hp:jp.length?jp:null;}function xl(hp,ip){var jp=ip["spans_"+hp.id];if(!jp)return null;for(var kp=0,lp=[];kp<ip.text.length;++kp)lp.push(wl(jp[kp]));return lp;}function yl(hp,ip,jp){for(var kp=0,lp=[];kp<hp.length;++kp){var event=hp[kp];if(event.ranges){lp.push(jp?bc.prototype.deepCopy.call(event):event);continue;}var mp=event.changes,np=[];lp.push({changes:np});for(var op=0;op<mp.length;++op){var pp=mp[op],qp;np.push({from:pp.from,to:pp.to,text:pp.text});if(ip)for(var rp in pp)if(qp=rp.match(/^spans_(\d+)$/))if(en(ip,Number(qp[1]))>-1){cn(np)[rp]=pp[rp];delete pp[rp];}}}return lp;}function zl(hp,ip,jp,kp){if(jp<hp.line){hp.line+=kp;}else if(ip<hp.line){hp.line=ip;hp.ch=0;}}function am(hp,ip,jp,kp){for(var lp=0;lp<hp.length;++lp){var mp=hp[lp],np=true;if(mp.ranges){if(!mp.copied){mp=hp[lp]=mp.deepCopy();mp.copied=true;}for(var op=0;op<mp.ranges.length;op++){zl(mp.ranges[op].anchor,ip,jp,kp);zl(mp.ranges[op].head,ip,jp,kp);}continue;}for(var op=0;op<mp.changes.length;++op){var pp=mp.changes[op];if(jp<pp.from.line){pp.from=wb(pp.from.line+kp,pp.from.ch);pp.to=wb(pp.to.line+kp,pp.to.ch);}else if(ip<=pp.to.line){np=false;break;}}if(!np){hp.splice(0,lp+1);lp=0;}}}function bm(hp,ip){var jp=ip.from.line,kp=ip.to.line,lp=ip.text.length-(kp-jp)-1;am(hp.done,jp,kp,lp);am(hp.undone,jp,kp,lp);}var cm=da.e_preventDefault=function(hp){if(hp.preventDefault){hp.preventDefault();}else hp.returnValue=false;},dm=da.e_stopPropagation=function(hp){if(hp.stopPropagation){hp.stopPropagation();}else hp.cancelBubble=true;};function em(hp){return hp.defaultPrevented!=null?hp.defaultPrevented:hp.returnValue==false;}var fm=da.e_stop=function(hp){cm(hp);dm(hp);};function gm(hp){return hp.target||hp.srcElement;}function hm(hp){var ip=hp.which;if(ip==null)if(hp.button&1){ip=1;}else if(hp.button&2){ip=3;}else if(hp.button&4)ip=2;if(w&&hp.ctrlKey&&ip==1)ip=3;return ip;}var im=da.on=function(hp,ip,jp){if(hp.addEventListener){hp.addEventListener(ip,jp,false);}else if(hp.attachEvent){hp.attachEvent("on"+ip,jp);}else{var kp=hp._handlers||(hp._handlers={}),lp=kp[ip]||(kp[ip]=[]);lp.push(jp);}},jm=da.off=function(hp,ip,jp){if(hp.removeEventListener){hp.removeEventListener(ip,jp,false);}else if(hp.detachEvent){hp.detachEvent("on"+ip,jp);}else{var kp=hp._handlers&&hp._handlers[ip];if(!kp)return;for(var lp=0;lp<kp.length;++lp)if(kp[lp]==jp){kp.splice(lp,1);break;}}},km=da.signal=function(hp,ip){var jp=hp._handlers&&hp._handlers[ip];if(!jp)return;var kp=Array.prototype.slice.call(arguments,2);for(var lp=0;lp<jp.length;++lp)jp[lp].apply(null,kp);},lm=null;function mm(hp,ip){var jp=hp._handlers&&hp._handlers[ip];if(!jp)return;var kp=Array.prototype.slice.call(arguments,2),lp;if(ke){lp=ke.delayedCallbacks;}else if(lm){lp=lm;}else{lp=lm=[];setTimeout(nm,0);}function mp(op){return function(){op.apply(null,kp);};}for(var np=0;np<jp.length;++np)lp.push(mp(jp[np]));}function nm(){var hp=lm;lm=null;for(var ip=0;ip<hp.length;++ip)hp[ip]();}function om(hp,ip,jp){km(hp,jp||ip.type,hp,ip);return em(ip)||ip.codemirrorIgnore;}function pm(hp){var ip=hp._handlers&&hp._handlers.cursorActivity;if(!ip)return;var jp=hp.curOp.cursorActivityHandlers||(hp.curOp.cursorActivityHandlers=[]);for(var kp=0;kp<ip.length;++kp)if(en(jp,ip[kp])==-1)jp.push(ip[kp]);}function qm(hp,ip){var jp=hp._handlers&&hp._handlers[ip];return jp&&jp.length>0;}function rm(hp){hp.prototype.on=function(ip,jp){im(this,ip,jp);};hp.prototype.off=function(ip,jp){jm(this,ip,jp);};}var sm=30,tm=da.Pass={toString:function(){return "CodeMirror.Pass";}},um={scroll:false},vm={origin:"*mouse"},wm={origin:"+move"};function xm(){this.id=null;}xm.prototype.set=function(hp,ip){clearTimeout(this.id);this.id=setTimeout(ip,hp);};var ym=da.countColumn=function(hp,ip,jp,kp,lp){if(ip==null){ip=hp.search(/[^\s\u00a0]/);if(ip==-1)ip=hp.length;}for(var mp=kp||0,np=lp||0;;){var op=hp.indexOf("\t",mp);if(op<0||op>=ip)return np+(ip-mp);np+=op-mp;np+=jp-(np%jp);mp=op+1;}};function zm(hp,ip,jp){for(var kp=0,lp=0;;){var mp=hp.indexOf("\t",kp);if(mp==-1)mp=hp.length;var np=mp-kp;if(mp==hp.length||lp+np>=ip)return kp+Math.min(np,ip-lp);lp+=mp-kp;lp+=jp-(lp%jp);kp=mp+1;if(lp>=ip)return kp;}}var an=[""];function bn(hp){while(an.length<=hp)an.push(cn(an)+" ");return an[hp];}function cn(hp){return hp[hp.length-1];}var dn=function(hp){hp.select();};if(u){dn=function(hp){hp.selectionStart=0;hp.selectionEnd=hp.value.length;};}else if(k)dn=function(hp){try{hp.select();}catch(ip){}};function en(hp,ip){for(var jp=0;jp<hp.length;++jp)if(hp[jp]==ip)return jp;return -1;}if([].indexOf)en=function(hp,ip){return hp.indexOf(ip);};function fn(hp,ip){var jp=[];for(var kp=0;kp<hp.length;kp++)jp[kp]=ip(hp[kp],kp);return jp;}if([].map)fn=function(hp,ip){return hp.map(ip);};function gn(hp,ip){var jp;if(Object.create){jp=Object.create(hp);}else{var kp=function(){};kp.prototype=hp;jp=new kp();}if(ip)hn(ip,jp);return jp;}function hn(hp,ip,jp){if(!ip)ip={};for(var kp in hp)if(hp.hasOwnProperty(kp)&&(jp!==false||!ip.hasOwnProperty(kp)))ip[kp]=hp[kp];return ip;}function jn(hp){var ip=Array.prototype.slice.call(arguments,1);return function(){return hp.apply(null,ip);};}var kn=/[\u00df\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,ln=da.isWordChar=function(hp){return /\w/.test(hp)||hp>"\x80"&&(hp.toUpperCase()!=hp.toLowerCase()||kn.test(hp));};function mn(hp,ip){if(!ip)return ln(hp);if(ip.source.indexOf("\\w")>-1&&ln(hp))return true;return ip.test(hp);}function nn(hp){for(var ip in hp)if(hp.hasOwnProperty(ip)&&hp[ip])return false;return true;}var on=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function pn(hp){return hp.charCodeAt(0)>=768&&on.test(hp);}function qn(hp,ip,jp,kp){var lp=document.createElement(hp);if(jp)lp.className=jp;if(kp)lp.style.cssText=kp;if(typeof ip=="string"){lp.appendChild(document.createTextNode(ip));}else if(ip)for(var mp=0;mp<ip.length;++mp)lp.appendChild(ip[mp]);return lp;}var rn;if(document.createRange){rn=function(hp,ip,jp){var kp=document.createRange();kp.setEnd(hp,jp);kp.setStart(hp,ip);return kp;};}else rn=function(hp,ip,jp){var kp=document.body.createTextRange();kp.moveToElementText(hp.parentNode);kp.collapse(true);kp.moveEnd("character",jp);kp.moveStart("character",ip);return kp;};function sn(hp){for(var ip=hp.childNodes.length;ip>0;--ip)hp.removeChild(hp.firstChild);return hp;}function tn(hp,ip){return sn(hp).appendChild(ip);}function un(hp,ip){if(hp.contains)return hp.contains(ip);while(ip=ip.parentNode)if(ip==hp)return true;}function vn(){return document.activeElement;}if(k&&l<11)vn=function(){try{return document.activeElement;}catch(hp){return document.body;}};function wn(hp){return new RegExp("\\b"+hp+"\\b\\s*");}function xn(hp,ip){var jp=wn(ip);if(jp.test(hp.className))hp.className=hp.className.replace(jp,"");}function yn(hp,ip){if(!wn(ip).test(hp.className))hp.className+=" "+ip;}function zn(hp,ip){var jp=hp.split(" ");for(var kp=0;kp<jp.length;kp++)if(jp[kp]&&!wn(jp[kp]).test(ip))ip+=" "+jp[kp];return ip;}function ao(hp){if(!document.body.getElementsByClassName)return;var ip=document.body.getElementsByClassName("CodeMirror");for(var jp=0;jp<ip.length;jp++){var kp=ip[jp].CodeMirror;if(kp)hp(kp);}}var bo=false;function co(){if(bo)return;eo();bo=true;}function eo(){var hp;im(window,"resize",function(){if(hp==null)hp=setTimeout(function(){hp=null;go=null;ao(sf);},100);});im(window,"blur",function(){ao(wg);});}var fo=function(){if(k&&l<9)return false;var hp=qn('div');return "draggable" in hp||"dragDrop" in hp;}(),go;function ho(hp){if(go!=null)return go;var ip=qn("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");tn(hp,ip);if(ip.offsetWidth)go=ip.offsetHeight-ip.clientHeight;return go||0;}var io;function jo(hp){if(io==null){var ip=qn("span","\u200b");tn(hp,qn("span",[ip,document.createTextNode("x")]));if(hp.firstChild.offsetHeight!=0)io=ip.offsetWidth<=1&&ip.offsetHeight>2&&!(k&&l<8);}if(io){return qn("span","\u200b");}else return qn("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px");}var ko;function lo(hp){if(ko!=null)return ko;var ip=tn(hp,document.createTextNode("A\u062eA")),jp=rn(ip,0,1).getBoundingClientRect();if(!jp||jp.left==jp.right)return false;var kp=rn(ip,1,2).getBoundingClientRect();return ko=(kp.right-jp.right<3);}var mo=da.splitLines="\n\nb".split(/\n/).length!=3?function(hp){var ip=0,jp=[],kp=hp.length;while(ip<=kp){var lp=hp.indexOf("\n",ip);if(lp==-1)lp=hp.length;var mp=hp.slice(ip,hp.charAt(lp-1)=="\r"?lp-1:lp),np=mp.indexOf("\r");if(np!=-1){jp.push(mp.slice(0,np));ip+=np+1;}else{jp.push(mp);ip=lp+1;}}return jp;}:function(hp){return hp.split(/\r\n?|\n/);},no=window.getSelection?function(hp){try{return hp.selectionStart!=hp.selectionEnd;}catch(ip){return false;}}:function(hp){try{var jp=hp.ownerDocument.selection.createRange();}catch(ip){}if(!jp||jp.parentElement()!=hp)return false;return jp.compareEndPoints("StartToEnd",jp)!=0;},oo=(function(){var hp=qn("div");if("oncopy" in hp)return true;hp.setAttribute("oncopy","return;");return typeof hp.oncopy=="function";})(),po=null;function qo(hp){if(po!=null)return po;var ip=tn(hp,qn("span","x")),jp=ip.getBoundingClientRect(),kp=rn(ip,0,1).getBoundingClientRect();return po=Math.abs(jp.left-kp.left)>1;}var ro={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};da.keyNames=ro;(function(){for(var hp=0;hp<10;hp++)ro[hp+48]=ro[hp+96]=String(hp);for(var hp=65;hp<=90;hp++)ro[hp]=String.fromCharCode(hp);for(var hp=1;hp<=12;hp++)ro[hp+111]=ro[hp+63235]="F"+hp;})();function so(hp,ip,jp,kp){if(!hp)return kp(ip,jp,"ltr");var lp=false;for(var mp=0;mp<hp.length;++mp){var np=hp[mp];if(np.from<jp&&np.to>ip||ip==jp&&np.to==ip){kp(Math.max(np.from,ip),Math.min(np.to,jp),np.level==1?"rtl":"ltr");lp=true;}}if(!lp)kp(ip,jp,"ltr");}function to(hp){return hp.level%2?hp.to:hp.from;}function uo(hp){return hp.level%2?hp.from:hp.to;}function vo(hp){var ip=ml(hp);return ip?to(ip[0]):0;}function wo(hp){var ip=ml(hp);if(!ip)return hp.text.length;return uo(cn(ip));}function xo(hp,ip){var jp=fl(hp.doc,ip),kp=rj(jp);if(kp!=jp)ip=jl(kp);var lp=ml(kp),mp=!lp?0:lp[0].level%2?wo(kp):vo(kp);return wb(ip,mp);}function yo(hp,ip){var jp,kp=fl(hp.doc,ip);while(jp=pj(kp)){kp=jp.find(1,true).line;ip=null;}var lp=ml(kp),mp=!lp?kp.text.length:lp[0].level%2?vo(kp):wo(kp);return wb(ip==null?jl(kp):ip,mp);}function zo(hp,ip){var jp=xo(hp,ip.line),kp=fl(hp.doc,jp.line),lp=ml(kp);if(!lp||lp[0].level==0){var mp=Math.max(0,kp.text.search(/\S/)),np=ip.line==jp.line&&ip.ch<=mp&&ip.ch;return wb(jp.line,np?0:mp);}return jp;}function ap(hp,ip,jp){var kp=hp[0].level;if(ip==kp)return true;if(jp==kp)return false;return ip<jp;}var bp;function cp(hp,ip){bp=null;for(var jp=0,kp;jp<hp.length;++jp){var lp=hp[jp];if(lp.from<ip&&lp.to>ip)return jp;if((lp.from==ip||lp.to==ip))if(kp==null){kp=jp;}else if(ap(hp,lp.level,hp[kp].level)){if(lp.from!=lp.to)bp=kp;return jp;}else{if(lp.from!=lp.to)bp=jp;return kp;}}return kp;}function dp(hp,ip,jp,kp){if(!kp)return ip+jp;do{ip+=jp;}while(ip>0&&pn(hp.text.charAt(ip)));return ip;}function ep(hp,ip,jp,kp){var lp=ml(hp);if(!lp)return fp(hp,ip,jp,kp);var mp=cp(lp,ip),np=lp[mp],op=dp(hp,ip,np.level%2?-jp:jp,kp);for(;;){if(op>np.from&&op<np.to)return op;if(op==np.from||op==np.to){if(cp(lp,op)==mp)return op;np=lp[mp+=jp];return (jp>0)==np.level%2?np.to:np.from;}else{np=lp[mp+=jp];if(!np)return null;if((jp>0)==np.level%2){op=dp(hp,np.to,-1,kp);}else op=dp(hp,np.from,1,kp);}}}function fp(hp,ip,jp,kp){var lp=ip+jp;if(kp)while(lp>0&&pn(hp.text.charAt(lp)))lp+=jp;return lp<0||lp>hp.text.length?null:lp;}var gp=(function(){var hp="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",ip="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm";function jp(rp){if(rp<=247){return hp.charAt(rp);}else if(1424<=rp&&rp<=1524){return "R";}else if(1536<=rp&&rp<=1773){return ip.charAt(rp-1536);}else if(1774<=rp&&rp<=2220){return "r";}else if(8192<=rp&&rp<=8203){return "w";}else if(rp==8204){return "b";}else return "L";}var kp=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,lp=/[stwN]/,mp=/[LRr]/,np=/[Lb1n]/,op=/[1n]/,pp="L";function qp(rp,sp,tp){this.level=rp;this.from=sp;this.to=tp;}return function(rp){if(!kp.test(rp))return false;var sp=rp.length,tp=[];for(var up=0,vp;up<sp;++up)tp.push(vp=jp(rp.charCodeAt(up)));for(var up=0,wp=pp;up<sp;++up){var vp=tp[up];if(vp=="m"){tp[up]=wp;}else wp=vp;}for(var up=0,xp=pp;up<sp;++up){var vp=tp[up];if(vp=="1"&&xp=="r"){tp[up]="n";}else if(mp.test(vp)){xp=vp;if(vp=="r")tp[up]="R";}}for(var up=1,wp=tp[0];up<sp-1;++up){var vp=tp[up];if(vp=="+"&&wp=="1"&&tp[up+1]=="1"){tp[up]="1";}else if(vp==","&&wp==tp[up+1]&&(wp=="1"||wp=="n"))tp[up]=wp;wp=vp;}for(var up=0;up<sp;++up){var vp=tp[up];if(vp==","){tp[up]="N";}else if(vp=="%"){for(var yp=up+1;yp<sp&&tp[yp]=="%";++yp);var zp=(up&&tp[up-1]=="!")||(yp<sp&&tp[yp]=="1")?"1":"N";for(var aq=up;aq<yp;++aq)tp[aq]=zp;up=yp-1;}}for(var up=0,xp=pp;up<sp;++up){var vp=tp[up];if(xp=="L"&&vp=="1"){tp[up]="L";}else if(mp.test(vp))xp=vp;}for(var up=0;up<sp;++up)if(lp.test(tp[up])){for(var yp=up+1;yp<sp&&lp.test(tp[yp]);++yp);var bq=(up?tp[up-1]:pp)=="L",cq=(yp<sp?tp[yp]:pp)=="L",zp=bq||cq?"L":"R";for(var aq=up;aq<yp;++aq)tp[aq]=zp;up=yp-1;}var dq=[],eq;for(var up=0;up<sp;)if(np.test(tp[up])){var fq=up;for(++up;up<sp&&np.test(tp[up]);++up);dq.push(new qp(0,fq,up));}else{var gq=up,hq=dq.length;for(++up;up<sp&&tp[up]!="L";++up);for(var aq=gq;aq<up;)if(op.test(tp[aq])){if(gq<aq)dq.splice(hq,0,new qp(1,gq,aq));var iq=aq;for(++aq;aq<up&&op.test(tp[aq]);++aq);dq.splice(hq,0,new qp(2,iq,aq));gq=aq;}else ++aq;if(gq<up)dq.splice(hq,0,new qp(1,gq,up));}if(dq[0].level==1&&(eq=rp.match(/^\s+/))){dq[0].from=eq[0].length;dq.unshift(new qp(0,0,eq[0].length));}if(cn(dq).level==1&&(eq=rp.match(/\s+$/))){cn(dq).to-=eq[0].length;dq.push(new qp(0,sp-eq[0].length,sp));}if(dq[0].level!=cn(dq).level)dq.push(new qp(dq[0].level,sp,sp));return dq;};})();da.version="4.6.0";f.exports=da;},null,{});
__d("CodeMirror4ModeClike",["CodeMirror4"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c('CodeMirror4');"use strict";h.defineMode("clike",function(p,q){var r=p.indentUnit,s=q.statementIndentUnit||r,t=q.dontAlignCalls,u=q.keywords||{},v=q.builtin||{},w=q.blockKeywords||{},x=q.atoms||{},y=q.hooks||{},z=q.multiLineStrings,aa=/[+\-*&%=<>!?|\/]/,ba;function ca(ia,ja){var ka=ia.next();if(y[ka]){var la=y[ka](ia,ja);if(la!==false)return la;}if(ka=='"'||ka=="'"){ja.tokenize=da(ka);return ja.tokenize(ia,ja);}if(/[\[\]{}\(\),;\:\.]/.test(ka)){ba=ka;return null;}if(/\d/.test(ka)){ia.eatWhile(/[\w\.]/);return "number";}if(ka=="/"){if(ia.eat("*")){ja.tokenize=ea;return ea(ia,ja);}if(ia.eat("/")){ia.skipToEnd();return "comment";}}if(aa.test(ka)){ia.eatWhile(aa);return "operator";}ia.eatWhile(/[\w\$_]/);var ma=ia.current();if(u.propertyIsEnumerable(ma)){if(w.propertyIsEnumerable(ma))ba="newstatement";return "keyword";}if(v.propertyIsEnumerable(ma)){if(w.propertyIsEnumerable(ma))ba="newstatement";return "builtin";}if(x.propertyIsEnumerable(ma))return "atom";return "variable";}function da(ia){return function(ja,ka){var la=false,ma,na=false;while((ma=ja.next())!=null){if(ma==ia&&!la){na=true;break;}la=!la&&ma=="\\";}if(na||!(la||z))ka.tokenize=null;return "string";};}function ea(ia,ja){var ka=false,la;while(la=ia.next()){if(la=="/"&&ka){ja.tokenize=null;break;}ka=(la=="*");}return "comment";}function fa(ia,ja,ka,la,ma){this.indented=ia;this.column=ja;this.type=ka;this.align=la;this.prev=ma;}function ga(ia,ja,ka){var la=ia.indented;if(ia.context&&ia.context.type=="statement")la=ia.context.indented;return ia.context=new fa(la,ja,ka,null,ia.context);}function ha(ia){var ja=ia.context.type;if(ja==")"||ja=="]"||ja=="}")ia.indented=ia.context.indented;return ia.context=ia.context.prev;}return {startState:function(ia){return {tokenize:null,context:new fa((ia||0)-r,0,"top",false),indented:0,startOfLine:true};},token:function(ia,ja){var ka=ja.context;if(ia.sol()){if(ka.align==null)ka.align=false;ja.indented=ia.indentation();ja.startOfLine=true;}if(ia.eatSpace())return null;ba=null;var la=(ja.tokenize||ca)(ia,ja);if(la=="comment"||la=="meta")return la;if(ka.align==null)ka.align=true;if((ba==";"||ba==":"||ba==",")&&ka.type=="statement"){ha(ja);}else if(ba=="{"){ga(ja,ia.column(),"}");}else if(ba=="["){ga(ja,ia.column(),"]");}else if(ba=="("){ga(ja,ia.column(),")");}else if(ba=="}"){while(ka.type=="statement")ka=ha(ja);if(ka.type=="}")ka=ha(ja);while(ka.type=="statement")ka=ha(ja);}else if(ba==ka.type){ha(ja);}else if(((ka.type=="}"||ka.type=="top")&&ba!=';')||(ka.type=="statement"&&ba=="newstatement"))ga(ja,ia.column(),"statement");ja.startOfLine=false;return la;},indent:function(ia,ja){if(ia.tokenize!=ca&&ia.tokenize!=null)return h.Pass;var ka=ia.context,la=ja&&ja.charAt(0);if(ka.type=="statement"&&la=="}")ka=ka.prev;var ma=la==ka.type;if(ka.type=="statement"){return ka.indented+(la=="{"?0:s);}else if(ka.align&&(!t||ka.type!=")")){return ka.column+(ma?0:1);}else if(ka.type==")"&&!ma){return ka.indented+s;}else return ka.indented+(ma?0:r);},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"};});function i(p){var q={},r=p.split(" ");for(var s=0;s<r.length;++s)q[r[s]]=true;return q;}var j="auto if break int case long char register continue return default short do sizeof "+"double static else struct entry switch extern typedef float union for unsigned "+"goto while enum void const signed volatile";function k(p,q){if(!q.startOfLine)return false;for(;;)if(p.skipTo("\\")){p.next();if(p.eol()){q.tokenize=k;break;}}else{p.skipToEnd();q.tokenize=null;break;}return "meta";}function l(p,q){p.backUp(1);if(p.match(/(R|u8R|uR|UR|LR)/)){var r=p.match(/"([^\s\\()]{0,16})\(/);if(!r)return false;q.cpp11RawStringDelim=r[1];q.tokenize=n;return n(p,q);}if(p.match(/(u8|u|U|L)/)){if(p.match(/["']/,false))return "string";return false;}p.next();return false;}function m(p,q){var r;while((r=p.next())!=null)if(r=='"'&&!p.eat('"')){q.tokenize=null;break;}return "string";}function n(p,q){var r=q.cpp11RawStringDelim.replace(/[^\w\s]/g,'\\$&'),s=p.match(new RegExp(".*?\\)"+r+'"'));if(s){q.tokenize=null;}else p.skipToEnd();return "string";}function o(p,q){if(typeof p=="string")p=[p];var r=[];function s(u){if(u)for(var v in u)if(u.hasOwnProperty(v))r.push(v);}s(q.keywords);s(q.builtin);s(q.atoms);if(r.length){q.helperType=p[0];h.registerHelper("hintWords",p[0],r);}for(var t=0;t<p.length;++t)h.defineMIME(p[t],q);}o(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:i(j),blockKeywords:i("case do else for if switch while struct"),atoms:i("null"),hooks:{"#":k},modeProps:{fold:["brace","include"]}});o(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:i(j+" asm dynamic_cast namespace reinterpret_cast try bool explicit new "+"static_cast typeid catch operator template typename class friend private "+"this using const_cast inline public throw virtual delete mutable protected "+"wchar_t alignas alignof constexpr decltype nullptr noexcept thread_local final "+"static_assert override"),blockKeywords:i("catch class do else finally for if struct switch try while"),atoms:i("true false null"),hooks:{"#":k,u:l,U:l,L:l,R:l},modeProps:{fold:["brace","include"]}});o("text/x-java",{name:"clike",keywords:i("abstract assert boolean break byte case catch char class const continue default "+"do double else enum extends final finally float for goto if implements import "+"instanceof int interface long native new package private protected public "+"return short static strictfp super switch synchronized this throw throws transient "+"try void volatile while"),blockKeywords:i("catch class do else finally for if switch try while"),atoms:i("true false null"),hooks:{"@":function(p){p.eatWhile(/[\w\$_]/);return "meta";}},modeProps:{fold:["brace","import"]}});o("text/x-csharp",{name:"clike",keywords:i("abstract as base break case catch checked class const continue"+" default delegate do else enum event explicit extern finally fixed for"+" foreach goto if implicit in interface internal is lock namespace new"+" operator out override params private protected public readonly ref return sealed"+" sizeof stackalloc static struct switch this throw try typeof unchecked"+" unsafe using virtual void volatile while add alias ascending descending dynamic from get"+" global group into join let orderby partial remove select set value var yield"),blockKeywords:i("catch class do else finally for foreach if struct switch try while"),builtin:i("Boolean Byte Char DateTime DateTimeOffset Decimal Double"+" Guid Int16 Int32 Int64 Object SByte Single String TimeSpan UInt16 UInt32"+" UInt64 bool byte char decimal double short int long object"+" sbyte float string ushort uint ulong"),atoms:i("true false null"),hooks:{"@":function(p,q){if(p.eat('"')){q.tokenize=m;return m(p,q);}p.eatWhile(/[\w\$_]/);return "meta";}}});o("text/x-scala",{name:"clike",keywords:i("abstract case catch class def do else extends false final finally for forSome if "+"implicit import lazy match new null object override package private protected return "+"sealed super this throw trait try trye type val var while with yield _ : = => <- <: "+"<% >: # @ "+"assert assume require print println printf readLine readBoolean readByte readShort "+"readChar readInt readLong readFloat readDouble "+"AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either "+"Enumeration Equiv Error Exception Fractional Function IndexedSeq Integral Iterable "+"Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering "+"Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder "+"StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector :: #:: "+"Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable "+"Compiler Double Exception Float Integer Long Math Number Object Package Pair Process "+"Runtime Runnable SecurityManager Short StackTraceElement StrictMath String "+"StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:true,blockKeywords:i("catch class do else finally for forSome if match switch try while"),atoms:i("true false null"),hooks:{"@":function(p){p.eatWhile(/[\w\$_]/);return "meta";}}});o(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:i("float int bool void "+"vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 "+"mat2 mat3 mat4 "+"sampler1D sampler2D sampler3D samplerCube "+"sampler1DShadow sampler2DShadow"+"const attribute uniform varying "+"break continue discard return "+"for while do if else struct "+"in out inout"),blockKeywords:i("for while do if else struct"),builtin:i("radians degrees sin cos tan asin acos atan "+"pow exp log exp2 sqrt inversesqrt "+"abs sign floor ceil fract mod min max clamp mix step smootstep "+"length distance dot cross normalize ftransform faceforward "+"reflect refract matrixCompMult "+"lessThan lessThanEqual greaterThan greaterThanEqual "+"equal notEqual any all not "+"texture1D texture1DProj texture1DLod texture1DProjLod "+"texture2D texture2DProj texture2DLod texture2DProjLod "+"texture3D texture3DProj texture3DLod texture3DProjLod "+"textureCube textureCubeLod "+"shadow1D shadow2D shadow1DProj shadow2DProj "+"shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod "+"dFdx dFdy fwidth "+"noise1 noise2 noise3 noise4"),atoms:i("true false "+"gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex "+"gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 "+"gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 "+"gl_FogCoord "+"gl_Position gl_PointSize gl_ClipVertex "+"gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor "+"gl_TexCoord gl_FogFragCoord "+"gl_FragCoord gl_FrontFacing "+"gl_FragColor gl_FragData gl_FragDepth "+"gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix "+"gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse "+"gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse "+"gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose "+"gl_ProjectionMatrixInverseTranspose "+"gl_ModelViewProjectionMatrixInverseTranspose "+"gl_TextureMatrixInverseTranspose "+"gl_NormalScale gl_DepthRange gl_ClipPlane "+"gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel "+"gl_FrontLightModelProduct gl_BackLightModelProduct "+"gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ "+"gl_FogParameters "+"gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords "+"gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats "+"gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits "+"gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits "+"gl_MaxDrawBuffers"),hooks:{"#":k},modeProps:{fold:["brace","include"]}});o("text/x-nesc",{name:"clike",keywords:i(j+"as atomic async call command component components configuration event generic "+"implementation includes interface module new norace nx_struct nx_union post provides "+"signal task uses abstract extends"),blockKeywords:i("case do else for if switch while struct"),atoms:i("null"),hooks:{"#":k},modeProps:{fold:["brace","include"]}});},null,{});
__d("CodeMirror4ModeCss",["CodeMirror4"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c('CodeMirror4');"use strict";h.defineMode("css",function(aa,ba){if(!ba.propertyKeywords)ba=h.resolveMode("text/css");var ca=aa.indentUnit,da=ba.tokenHooks,ea=ba.mediaTypes||{},fa=ba.mediaFeatures||{},ga=ba.propertyKeywords||{},ha=ba.nonStandardPropertyKeywords||{},ia=ba.colorKeywords||{},ja=ba.valueKeywords||{},ka=ba.fontProperties||{},la=ba.allowNested,ma,na;function oa(za,ab){ma=ab;return za;}function pa(za,ab){var bb=za.next();if(da[bb]){var cb=da[bb](za,ab);if(cb!==false)return cb;}if(bb=="@"){za.eatWhile(/[\w\\\-]/);return oa("def",za.current());}else if(bb=="="||(bb=="~"||bb=="|")&&za.eat("=")){return oa(null,"compare");}else if(bb=="\""||bb=="'"){ab.tokenize=qa(bb);return ab.tokenize(za,ab);}else if(bb=="#"){za.eatWhile(/[\w\\\-]/);return oa("atom","hash");}else if(bb=="!"){za.match(/^\s*\w*/);return oa("keyword","important");}else if(/\d/.test(bb)||bb=="."&&za.eat(/\d/)){za.eatWhile(/[\w.%]/);return oa("number","unit");}else if(bb==="-"){if(/[\d.]/.test(za.peek())){za.eatWhile(/[\w.%]/);return oa("number","unit");}else if(za.match(/^\w+-/))return oa("meta","meta");}else if(/[,+>*\/]/.test(bb)){return oa(null,"select-op");}else if(bb=="."&&za.match(/^-?[_a-z][_a-z0-9-]*/i)){return oa("qualifier","qualifier");}else if(/[:;{}\[\]\(\)]/.test(bb)){return oa(null,bb);}else if(bb=="u"&&za.match("rl(")){za.backUp(1);ab.tokenize=ra;return oa("property","word");}else if(/[\w\\\-]/.test(bb)){za.eatWhile(/[\w\\\-]/);return oa("property","word");}else return oa(null,null);}function qa(za){return function(ab,bb){var cb=false,db;while((db=ab.next())!=null){if(db==za&&!cb){if(za==")")ab.backUp(1);break;}cb=!cb&&db=="\\";}if(db==za||!cb&&za!=")")bb.tokenize=null;return oa("string","string");};}function ra(za,ab){za.next();if(!za.match(/\s*[\"\')]/,false)){ab.tokenize=qa(")");}else ab.tokenize=null;return oa(null,"(");}function sa(za,ab,bb){this.type=za;this.indent=ab;this.prev=bb;}function ta(za,ab,bb){za.context=new sa(bb,ab.indentation()+ca,za.context);return bb;}function ua(za){za.context=za.context.prev;return za.context.type;}function va(za,ab,bb){return ya[bb.context.type](za,ab,bb);}function wa(za,ab,bb,cb){for(var db=cb||1;db>0;db--)bb.context=bb.context.prev;return va(za,ab,bb);}function xa(za){var ab=za.current().toLowerCase();if(ja.hasOwnProperty(ab)){na="atom";}else if(ia.hasOwnProperty(ab)){na="keyword";}else na="variable";}var ya={};ya.top=function(za,ab,bb){if(za=="{"){return ta(bb,ab,"block");}else if(za=="}"&&bb.context.prev){return ua(bb);}else if(za=="@media"){return ta(bb,ab,"media");}else if(za=="@font-face"){return "font_face_before";}else if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(za)){return "keyframes";}else if(za&&za.charAt(0)=="@"){return ta(bb,ab,"at");}else if(za=="hash"){na="builtin";}else if(za=="word"){na="tag";}else if(za=="variable-definition"){return "maybeprop";}else if(za=="interpolation"){return ta(bb,ab,"interpolation");}else if(za==":"){return "pseudo";}else if(la&&za=="(")return ta(bb,ab,"parens");return bb.context.type;};ya.block=function(za,ab,bb){if(za=="word"){var cb=ab.current().toLowerCase();if(ga.hasOwnProperty(cb)){na="property";return "maybeprop";}else if(ha.hasOwnProperty(cb)){na="string-2";return "maybeprop";}else if(la){na=ab.match(/^\s*:/,false)?"property":"tag";return "block";}else{na+=" error";return "maybeprop";}}else if(za=="meta"){return "block";}else if(!la&&(za=="hash"||za=="qualifier")){na="error";return "block";}else return ya.top(za,ab,bb);};ya.maybeprop=function(za,ab,bb){if(za==":")return ta(bb,ab,"prop");return va(za,ab,bb);};ya.prop=function(za,ab,bb){if(za==";")return ua(bb);if(za=="{"&&la)return ta(bb,ab,"propBlock");if(za=="}"||za=="{")return wa(za,ab,bb);if(za=="(")return ta(bb,ab,"parens");if(za=="hash"&&!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(ab.current())){na+=" error";}else if(za=="word"){xa(ab);}else if(za=="interpolation")return ta(bb,ab,"interpolation");return "prop";};ya.propBlock=function(za,ab,bb){if(za=="}")return ua(bb);if(za=="word"){na="property";return "maybeprop";}return bb.context.type;};ya.parens=function(za,ab,bb){if(za=="{"||za=="}")return wa(za,ab,bb);if(za==")")return ua(bb);if(za=="(")return ta(bb,ab,"parens");if(za=="word")xa(ab);return "parens";};ya.pseudo=function(za,ab,bb){if(za=="word"){na="variable-3";return bb.context.type;}return va(za,ab,bb);};ya.media=function(za,ab,bb){if(za=="(")return ta(bb,ab,"media_parens");if(za=="}")return wa(za,ab,bb);if(za=="{")return ua(bb)&&ta(bb,ab,la?"block":"top");if(za=="word"){var cb=ab.current().toLowerCase();if(cb=="only"||cb=="not"||cb=="and"){na="keyword";}else if(ea.hasOwnProperty(cb)){na="attribute";}else if(fa.hasOwnProperty(cb)){na="property";}else na="error";}return bb.context.type;};ya.media_parens=function(za,ab,bb){if(za==")")return ua(bb);if(za=="{"||za=="}")return wa(za,ab,bb,2);return ya.media(za,ab,bb);};ya.font_face_before=function(za,ab,bb){if(za=="{")return ta(bb,ab,"font_face");return va(za,ab,bb);};ya.font_face=function(za,ab,bb){if(za=="}")return ua(bb);if(za=="word"){if(!ka.hasOwnProperty(ab.current().toLowerCase())){na="error";}else na="property";return "maybeprop";}return "font_face";};ya.keyframes=function(za,ab,bb){if(za=="word"){na="variable";return "keyframes";}if(za=="{")return ta(bb,ab,"top");return va(za,ab,bb);};ya.at=function(za,ab,bb){if(za==";")return ua(bb);if(za=="{"||za=="}")return wa(za,ab,bb);if(za=="word"){na="tag";}else if(za=="hash")na="builtin";return "at";};ya.interpolation=function(za,ab,bb){if(za=="}")return ua(bb);if(za=="{"||za==";")return wa(za,ab,bb);if(za!="variable")na="error";return "interpolation";};return {startState:function(za){return {tokenize:null,state:"top",context:new sa("top",za||0,null)};},token:function(za,ab){if(!ab.tokenize&&za.eatSpace())return null;var bb=(ab.tokenize||pa)(za,ab);if(bb&&typeof bb=="object"){ma=bb[1];bb=bb[0];}na=bb;ab.state=ya[ab.state](ma,za,ab);return na;},indent:function(za,ab){var bb=za.context,cb=ab&&ab.charAt(0),db=bb.indent;if(bb.type=="prop"&&(cb=="}"||cb==")"))bb=bb.prev;if(bb.prev&&(cb=="}"&&(bb.type=="block"||bb.type=="top"||bb.type=="interpolation"||bb.type=="font_face")||cb==")"&&(bb.type=="parens"||bb.type=="media_parens")||cb=="{"&&(bb.type=="at"||bb.type=="media"))){db=bb.indent-ca;bb=bb.prev;}return db;},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"};});function i(aa){var ba={};for(var ca=0;ca<aa.length;++ca)ba[aa[ca]]=true;return ba;}var j=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],k=i(j),l=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"],m=i(l),n=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],o=i(n),p=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],q=i(p),r=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],s=i(r),t=["above","absolute","activeborder","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","contain","content","content-box","context-menu","continuous","copy","cover","crop","cross","crosshair","currentcolor","cursive","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ew-resize","expanded","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-table","inset","inside","intrinsic","invert","italic","justify","kannada","katakana","katakana-iroha","keep-all","khmer","landscape","lao","large","larger","left","level","lighter","line-through","linear","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","single","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","x-large","x-small","xor","xx-large","xx-small"],u=i(t),v=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],w=i(v),x=j.concat(l).concat(n).concat(p).concat(r).concat(t);h.registerHelper("hintWords","css",x);function y(aa,ba){var ca=false,da;while((da=aa.next())!=null){if(ca&&da=="/"){ba.tokenize=null;break;}ca=(da=="*");}return ["comment","comment"];}function z(aa,ba){if(aa.skipTo("-->")){aa.match("-->");ba.tokenize=null;}else aa.skipToEnd();return ["comment","comment"];}h.defineMIME("text/css",{mediaTypes:k,mediaFeatures:m,propertyKeywords:o,nonStandardPropertyKeywords:q,colorKeywords:s,valueKeywords:u,fontProperties:w,tokenHooks:{"<":function(aa,ba){if(!aa.match("!--"))return false;ba.tokenize=z;return z(aa,ba);},"/":function(aa,ba){if(!aa.eat("*"))return false;ba.tokenize=y;return y(aa,ba);}},name:"css"});h.defineMIME("text/x-scss",{mediaTypes:k,mediaFeatures:m,propertyKeywords:o,nonStandardPropertyKeywords:q,colorKeywords:s,valueKeywords:u,fontProperties:w,allowNested:true,tokenHooks:{"/":function(aa,ba){if(aa.eat("/")){aa.skipToEnd();return ["comment","comment"];}else if(aa.eat("*")){ba.tokenize=y;return y(aa,ba);}else return ["operator","operator"];},":":function(aa){if(aa.match(/\s*\{/))return [null,"{"];return false;},$:function(aa){aa.match(/^[\w-]+/);if(aa.match(/^\s*:/,false))return ["variable-2","variable-definition"];return ["variable-2","variable"];},"#":function(aa){if(!aa.eat("{"))return false;return [null,"interpolation"];}},name:"css",helperType:"scss"});h.defineMIME("text/x-less",{mediaTypes:k,mediaFeatures:m,propertyKeywords:o,nonStandardPropertyKeywords:q,colorKeywords:s,valueKeywords:u,fontProperties:w,allowNested:true,tokenHooks:{"/":function(aa,ba){if(aa.eat("/")){aa.skipToEnd();return ["comment","comment"];}else if(aa.eat("*")){ba.tokenize=y;return y(aa,ba);}else return ["operator","operator"];},"@":function(aa){if(aa.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,false))return false;aa.eatWhile(/[\w\\\-]/);if(aa.match(/^\s*:/,false))return ["variable-2","variable-definition"];return ["variable-2","variable"];},"&":function(){return ["atom","atom"];}},name:"css",helperType:"less"});},null,{});
__d("CodeMirror4AddonModeOverlay",["CodeMirror4"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c('CodeMirror4');"use strict";h.overlayMode=function(i,j,k){return {startState:function(){return {base:h.startState(i),overlay:h.startState(j),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,lineSeen:null};},copyState:function(l){return {base:h.copyState(i,l.base),overlay:h.copyState(j,l.overlay),basePos:l.basePos,baseCur:null,overlayPos:l.overlayPos,overlayCur:null};},token:function(l,m){if(l.sol()||l.string!=m.lineSeen||Math.min(m.basePos,m.overlayPos)<l.start){m.lineSeen=l.string;m.basePos=m.overlayPos=l.start;}if(l.start==m.basePos){m.baseCur=i.token(l,m.base);m.basePos=l.pos;}if(l.start==m.overlayPos){l.pos=l.start;m.overlayCur=j.token(l,m.overlay);m.overlayPos=l.pos;}l.pos=Math.min(m.basePos,m.overlayPos);if(m.overlayCur==null){return m.baseCur;}else if(m.baseCur!=null&&m.overlay.combineTokens||k&&m.overlay.combineTokens==null){return m.baseCur+" "+m.overlayCur;}else return m.overlayCur;},indent:i.indent&&function(l,m){return i.indent(l.base,m);},electricChars:i.electricChars,innerMode:function(l){return {state:l.base,mode:i};},blankLine:function(l){if(i.blankLine)i.blankLine(l.base);if(j.blankLine)j.blankLine(l.overlay);}};};},null,{});
__d("CodeMirror4ModeXml",["CodeMirror4"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c('CodeMirror4');"use strict";h.defineMode("xml",function(i,j){var k=i.indentUnit,l=j.multilineTagIndentFactor||1,m=j.multilineTagIndentPastTag;if(m==null)m=true;var n=j.htmlMode?{autoSelfClosers:{area:true,base:true,br:true,col:true,command:true,embed:true,frame:true,hr:true,img:true,input:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true,menuitem:true},implicitlyClosed:{dd:true,li:true,optgroup:true,option:true,p:true,rp:true,rt:true,tbody:true,td:true,tfoot:true,th:true,tr:true},contextGrabbers:{dd:{dd:true,dt:true},dt:{dd:true,dt:true},li:{li:true},option:{option:true,optgroup:true},optgroup:{optgroup:true},p:{address:true,article:true,aside:true,blockquote:true,dir:true,div:true,dl:true,fieldset:true,footer:true,form:true,h1:true,h2:true,h3:true,h4:true,h5:true,h6:true,header:true,hgroup:true,hr:true,menu:true,nav:true,ol:true,p:true,pre:true,section:true,table:true,ul:true},rp:{rp:true,rt:true},rt:{rp:true,rt:true},tbody:{tbody:true,tfoot:true},td:{td:true,th:true},tfoot:{tbody:true},th:{td:true,th:true},thead:{tbody:true,tfoot:true},tr:{tr:true}},doNotIndent:{pre:true},allowUnquoted:true,allowMissing:true,caseFold:true}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:false,allowMissing:false,caseFold:false},o=j.alignCDATA,p,q;function r(ia,ja){function ka(na){ja.tokenize=na;return na(ia,ja);}var la=ia.next();if(la=="<"){if(ia.eat("!")){if(ia.eat("[")){if(ia.match("CDATA[")){return ka(u("atom","]]>"));}else return null;}else if(ia.match("--")){return ka(u("comment","-->"));}else if(ia.match("DOCTYPE",true,true)){ia.eatWhile(/[\w\._\-]/);return ka(v(1));}else return null;}else if(ia.eat("?")){ia.eatWhile(/[\w\._\-]/);ja.tokenize=u("meta","?>");return "meta";}else{p=ia.eat("/")?"closeTag":"openTag";ja.tokenize=s;return "tag bracket";}}else if(la=="&"){var ma;if(ia.eat("#")){if(ia.eat("x")){ma=ia.eatWhile(/[a-fA-F\d]/)&&ia.eat(";");}else ma=ia.eatWhile(/[\d]/)&&ia.eat(";");}else ma=ia.eatWhile(/[\w\.\-:]/)&&ia.eat(";");return ma?"atom":"error";}else{ia.eatWhile(/[^&<]/);return null;}}function s(ia,ja){var ka=ia.next();if(ka==">"||(ka=="/"&&ia.eat(">"))){ja.tokenize=r;p=ka==">"?"endTag":"selfcloseTag";return "tag bracket";}else if(ka=="="){p="equals";return null;}else if(ka=="<"){ja.tokenize=r;ja.state=z;ja.tagName=ja.tagStart=null;var la=ja.tokenize(ia,ja);return la?la+" tag error":"tag error";}else if(/[\'\"]/.test(ka)){ja.tokenize=t(ka);ja.stringStartCol=ia.column();return ja.tokenize(ia,ja);}else{ia.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/);return "word";}}function t(ia){var ja=function(ka,la){while(!ka.eol())if(ka.next()==ia){la.tokenize=s;break;}return "string";};ja.isInAttribute=true;return ja;}function u(ia,ja){return function(ka,la){while(!ka.eol()){if(ka.match(ja)){la.tokenize=r;break;}ka.next();}return ia;};}function v(ia){return function(ja,ka){var la;while((la=ja.next())!=null)if(la=="<"){ka.tokenize=v(ia+1);return ka.tokenize(ja,ka);}else if(la==">")if(ia==1){ka.tokenize=r;break;}else{ka.tokenize=v(ia-1);return ka.tokenize(ja,ka);}return "meta";};}function w(ia,ja,ka){this.prev=ia.context;this.tagName=ja;this.indent=ia.indented;this.startOfLine=ka;if(n.doNotIndent.hasOwnProperty(ja)||(ia.context&&ia.context.noIndent))this.noIndent=true;}function x(ia){if(ia.context)ia.context=ia.context.prev;}function y(ia,ja){var ka;while(true){if(!ia.context)return;ka=ia.context.tagName;if(!n.contextGrabbers.hasOwnProperty(ka)||!n.contextGrabbers[ka].hasOwnProperty(ja))return;x(ia);}}function z(ia,ja,ka){if(ia=="openTag"){ka.tagStart=ja.column();return aa;}else if(ia=="closeTag"){return ba;}else return z;}function aa(ia,ja,ka){if(ia=="word"){ka.tagName=ja.current();q="tag";return ea;}else{q="error";return aa;}}function ba(ia,ja,ka){if(ia=="word"){var la=ja.current();if(ka.context&&ka.context.tagName!=la&&n.implicitlyClosed.hasOwnProperty(ka.context.tagName))x(ka);if(ka.context&&ka.context.tagName==la){q="tag";return ca;}else{q="tag error";return da;}}else{q="error";return da;}}function ca(ia,ja,ka){if(ia!="endTag"){q="error";return ca;}x(ka);return z;}function da(ia,ja,ka){q="error";return ca(ia,ja,ka);}function ea(ia,ja,ka){if(ia=="word"){q="attribute";return fa;}else if(ia=="endTag"||ia=="selfcloseTag"){var la=ka.tagName,ma=ka.tagStart;ka.tagName=ka.tagStart=null;if(ia=="selfcloseTag"||n.autoSelfClosers.hasOwnProperty(la)){y(ka,la);}else{y(ka,la);ka.context=new w(ka,la,ma==ka.indented);}return z;}q="error";return ea;}function fa(ia,ja,ka){if(ia=="equals")return ga;if(!n.allowMissing)q="error";return ea(ia,ja,ka);}function ga(ia,ja,ka){if(ia=="string")return ha;if(ia=="word"&&n.allowUnquoted){q="string";return ea;}q="error";return ea(ia,ja,ka);}function ha(ia,ja,ka){if(ia=="string")return ha;return ea(ia,ja,ka);}return {startState:function(){return {tokenize:r,state:z,indented:0,tagName:null,tagStart:null,context:null};},token:function(ia,ja){if(!ja.tagName&&ia.sol())ja.indented=ia.indentation();if(ia.eatSpace())return null;p=null;var ka=ja.tokenize(ia,ja);if((ka||p)&&ka!="comment"){q=null;ja.state=ja.state(p||ka,ia,ja);if(q)ka=q=="error"?ka+" error":q;}return ka;},indent:function(ia,ja,ka){var la=ia.context;if(ia.tokenize.isInAttribute)if(ia.tagStart==ia.indented){return ia.stringStartCol+1;}else return ia.indented+k;if(la&&la.noIndent)return h.Pass;if(ia.tokenize!=s&&ia.tokenize!=r)return ka?ka.match(/^(\s*)/)[0].length:0;if(ia.tagName)if(m){return ia.tagStart+ia.tagName.length+2;}else return ia.tagStart+k*l;if(o&&/<!\[CDATA\[/.test(ja))return 0;var ma=ja&&/^<(\/)?([\w_:\.-]*)/.exec(ja);if(ma&&ma[1]){while(la)if(la.tagName==ma[2]){la=la.prev;break;}else if(n.implicitlyClosed.hasOwnProperty(la.tagName)){la=la.prev;}else break;}else if(ma)while(la){var na=n.contextGrabbers[la.tagName];if(na&&na.hasOwnProperty(ma[2])){la=la.prev;}else break;}while(la&&!la.startOfLine)la=la.prev;if(la){return la.indent+k;}else return 0;},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:j.htmlMode?"html":"xml",helperType:j.htmlMode?"html":"xml"};});h.defineMIME("text/xml","xml");h.defineMIME("application/xml","xml");if(!h.mimeModes.hasOwnProperty("text/html"))h.defineMIME("text/html",{name:"xml",htmlMode:true});},null,{});
__d("CodeMirror4ModeMarkdown",["CodeMirror4","CodeMirror4ModeXml"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c('CodeMirror4');c('CodeMirror4ModeXml');"use strict";h.defineMode("markdown",function(i,j){var k=h.modes.hasOwnProperty("xml"),l=h.getMode(i,k?{name:"xml",htmlMode:true}:"text/plain"),m={html:"htmlmixed",js:"javascript",json:"application/json",c:"text/x-csrc","c++":"text/x-c++src",java:"text/x-java",csharp:"text/x-csharp","c#":"text/x-csharp",scala:"text/x-scala"},n=(function(){var db,eb={},fb={},gb,hb=[];for(var ib in h.modes)if(h.modes.propertyIsEnumerable(ib))hb.push(ib);for(db=0;db<hb.length;db++)eb[hb[db]]=hb[db];var jb=[];for(var ib in h.mimeModes)if(h.mimeModes.propertyIsEnumerable(ib))jb.push({mime:ib,mode:h.mimeModes[ib]});for(db=0;db<jb.length;db++){gb=jb[db].mime;fb[gb]=jb[db].mime;}for(var kb in m)if(m[kb] in eb||m[kb] in fb)eb[kb]=m[kb];return function(lb){return eb[lb]?h.getMode(i,eb[lb]):null;};}());if(j.highlightFormatting===undefined)j.highlightFormatting=false;if(j.maxBlockquoteDepth===undefined)j.maxBlockquoteDepth=0;if(j.underscoresBreakWords===undefined)j.underscoresBreakWords=true;if(j.fencedCodeBlocks===undefined)j.fencedCodeBlocks=false;if(j.taskLists===undefined)j.taskLists=false;var o=0,p='header',q='comment',r='quote',s='variable-2',t='variable-3',u='keyword',v='hr',w='tag',x='formatting',y='link',z='link',aa='link',ba='string',ca='em',da='strong',ea=/^([*\-=_])(?:\s*\1){2,}\s*$/,fa=/^[*\-+]\s+/,ga=/^[0-9]+\.\s+/,ha=/^\[(x| )\](?=\s)/,ia=/^#+/,ja=/^(?:\={1,}|-{1,})$/,ka=/^[^#!\[\]*_\\<>` "'(]+/;function la(db,eb,fb){eb.f=eb.inline=fb;return fb(db,eb);}function ma(db,eb,fb){eb.f=eb.block=fb;return fb(db,eb);}function na(db){db.linkTitle=false;db.em=false;db.strong=false;db.quote=0;if(!k&&db.f==pa){db.f=ta;db.block=oa;}db.trailingSpace=0;db.trailingSpaceNewLine=false;db.thisLineHasContent=false;return null;}function oa(db,eb){var fb=db.sol(),gb=(eb.list!==false);if(eb.list!==false&&eb.indentationDiff>=0){if(eb.indentationDiff<4)eb.indentation-=eb.indentationDiff;eb.list=null;}else if(eb.list!==false&&eb.indentation>0){eb.list=null;eb.listDepth=Math.floor(eb.indentation/4);}else if(eb.list!==false){eb.list=false;eb.listDepth=0;}var hb=null;if(eb.indentationDiff>=4){eb.indentation-=4;db.skipToEnd();return q;}else if(db.eatSpace()){return null;}else if(hb=db.match(ia)){eb.header=hb[0].length<=6?hb[0].length:6;if(j.highlightFormatting)eb.formatting="header";eb.f=eb.inline;return ra(eb);}else if(eb.prevLineHasContent&&(hb=db.match(ja))){eb.header=hb[0].charAt(0)=='='?1:2;if(j.highlightFormatting)eb.formatting="header";eb.f=eb.inline;return ra(eb);}else if(db.eat('>')){eb.indentation++;eb.quote=fb?1:eb.quote+1;if(j.highlightFormatting)eb.formatting="quote";db.eatSpace();return ra(eb);}else if(db.peek()==='['){return la(db,eb,xa);}else if(db.match(ea,true)){return v;}else if((!eb.prevLineHasContent||gb)&&(db.match(fa,false)||db.match(ga,false))){var ib=null;if(db.match(fa,true)){ib='ul';}else{db.match(ga,true);ib='ol';}eb.indentation+=4;eb.list=true;eb.listDepth++;if(j.taskLists&&db.match(ha,false))eb.taskList=true;eb.f=eb.inline;if(j.highlightFormatting)eb.formatting=["list","list-"+ib];return ra(eb);}else if(j.fencedCodeBlocks&&db.match(/^```([\w+#]*)/,true)){eb.localMode=n(RegExp.$1);if(eb.localMode)eb.localState=eb.localMode.startState();ma(db,eb,qa);if(j.highlightFormatting)eb.formatting="code-block";eb.code=true;return ra(eb);}return la(db,eb,eb.inline);}function pa(db,eb){var fb=l.token(db,eb.htmlState);if((k&&eb.htmlState.tagStart===null&&!eb.htmlState.context)||(eb.md_inside&&db.current().indexOf(">")>-1)){eb.f=ta;eb.block=oa;eb.htmlState=null;}return fb;}function qa(db,eb){if(db.sol()&&db.match(/^```/,true)){eb.localMode=eb.localState=null;eb.f=ta;eb.block=oa;if(j.highlightFormatting)eb.formatting="code-block";eb.code=true;var fb=ra(eb);eb.code=false;return fb;}else if(eb.localMode){return eb.localMode.token(db,eb.localState);}else{db.skipToEnd();return q;}}function ra(db){var eb=[];if(db.formatting){eb.push(x);if(typeof db.formatting==="string")db.formatting=[db.formatting];for(var fb=0;fb<db.formatting.length;fb++){eb.push(x+"-"+db.formatting[fb]);if(db.formatting[fb]==="header")eb.push(x+"-"+db.formatting[fb]+"-"+db.header);if(db.formatting[fb]==="quote")if(!j.maxBlockquoteDepth||j.maxBlockquoteDepth>=db.quote){eb.push(x+"-"+db.formatting[fb]+"-"+db.quote);}else eb.push("error");}}if(db.taskOpen){eb.push("meta");return eb.length?eb.join(' '):null;}if(db.taskClosed){eb.push("property");return eb.length?eb.join(' '):null;}if(db.linkHref){eb.push(ba);return eb.length?eb.join(' '):null;}if(db.strong)eb.push(da);if(db.em)eb.push(ca);if(db.linkText)eb.push(aa);if(db.code)eb.push(q);if(db.header){eb.push(p);eb.push(p+"-"+db.header);}if(db.quote){eb.push(r);if(!j.maxBlockquoteDepth||j.maxBlockquoteDepth>=db.quote){eb.push(r+"-"+db.quote);}else eb.push(r+"-"+j.maxBlockquoteDepth);}if(db.list!==false){var gb=(db.listDepth-1)%3;if(!gb){eb.push(s);}else if(gb===1){eb.push(t);}else eb.push(u);}if(db.trailingSpaceNewLine){eb.push("trailing-space-new-line");}else if(db.trailingSpace)eb.push("trailing-space-"+(db.trailingSpace%2?"a":"b"));return eb.length?eb.join(' '):null;}function sa(db,eb){if(db.match(ka,true))return ra(eb);return undefined;}function ta(db,eb){var fb=eb.text(db,eb);if(typeof fb!=='undefined')return fb;if(eb.list){eb.list=null;return ra(eb);}if(eb.taskList){var gb=db.match(ha,true)[1]!=="x";if(gb){eb.taskOpen=true;}else eb.taskClosed=true;if(j.highlightFormatting)eb.formatting="task";eb.taskList=false;return ra(eb);}eb.taskOpen=false;eb.taskClosed=false;if(eb.header&&db.match(/^#+$/,true)){if(j.highlightFormatting)eb.formatting="header";return ra(eb);}var hb=db.sol(),ib=db.next();if(ib==='\\'){db.next();if(j.highlightFormatting){var jb=ra(eb);return jb?jb+" formatting-escape":"formatting-escape";}}if(eb.linkTitle){eb.linkTitle=false;var kb=ib;if(ib==='(')kb=')';kb=(kb+'').replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var lb='^\\s*(?:[^'+kb+'\\\\]+|\\\\\\\\|\\\\.)'+kb;if(db.match(new RegExp(lb),true))return ba;}if(ib==='`'){var mb=eb.formatting;if(j.highlightFormatting)eb.formatting="code";var nb=ra(eb),ob=db.pos;db.eatWhile('`');var pb=1+db.pos-ob;if(!eb.code){o=pb;eb.code=true;return ra(eb);}else{if(pb===o){eb.code=false;return nb;}eb.formatting=mb;return ra(eb);}}else if(eb.code)return ra(eb);if(ib==='!'&&db.match(/\[[^\]]*\] ?(?:\(|\[)/,false)){db.match(/\[[^\]]*\]/);eb.inline=eb.f=va;return w;}if(ib==='['&&db.match(/.*\](\(| ?\[)/,false)){eb.linkText=true;if(j.highlightFormatting)eb.formatting="link";return ra(eb);}if(ib===']'&&eb.linkText){if(j.highlightFormatting)eb.formatting="link";var jb=ra(eb);eb.linkText=false;eb.inline=eb.f=va;return jb;}if(ib==='<'&&db.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,false)){eb.f=eb.inline=ua;if(j.highlightFormatting)eb.formatting="link";var jb=ra(eb);if(jb){jb+=" ";}else jb="";return jb+y;}if(ib==='<'&&db.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,false)){eb.f=eb.inline=ua;if(j.highlightFormatting)eb.formatting="link";var jb=ra(eb);if(jb){jb+=" ";}else jb="";return jb+z;}if(ib==='<'&&db.match(/^\w/,false)){if(db.string.indexOf(">")!=-1){var qb=db.string.substring(1,db.string.indexOf(">"));if(/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(qb))eb.md_inside=true;}db.backUp(1);eb.htmlState=h.startState(l);return ma(db,eb,pa);}if(ib==='<'&&db.match(/^\/\w*?>/)){eb.md_inside=false;return "tag";}var rb=false;if(!j.underscoresBreakWords)if(ib==='_'&&db.peek()!=='_'&&db.match(/(\w)/,false)){var sb=db.pos-2;if(sb>=0){var tb=db.string.charAt(sb);if(tb!=='_'&&tb.match(/(\w)/,false))rb=true;}}if(ib==='*'||(ib==='_'&&!rb)){if(!(hb&&db.peek()===' '))if(eb.strong===ib&&db.eat(ib)){if(j.highlightFormatting)eb.formatting="strong";var nb=ra(eb);eb.strong=false;return nb;}else if(!eb.strong&&db.eat(ib)){eb.strong=ib;if(j.highlightFormatting)eb.formatting="strong";return ra(eb);}else if(eb.em===ib){if(j.highlightFormatting)eb.formatting="em";var nb=ra(eb);eb.em=false;return nb;}else if(!eb.em){eb.em=ib;if(j.highlightFormatting)eb.formatting="em";return ra(eb);}}else if(ib===' ')if(db.eat('*')||db.eat('_'))if(db.peek()===' '){return ra(eb);}else db.backUp(1);if(ib===' ')if(db.match(/ +$/,false)){eb.trailingSpace++;}else if(eb.trailingSpace)eb.trailingSpaceNewLine=true;return ra(eb);}function ua(db,eb){var fb=db.next();if(fb===">"){eb.f=eb.inline=ta;if(j.highlightFormatting)eb.formatting="link";var gb=ra(eb);if(gb){gb+=" ";}else gb="";return gb+y;}db.match(/^[^>]+/,true);return y;}function va(db,eb){if(db.eatSpace())return null;var fb=db.next();if(fb==='('||fb==='['){eb.f=eb.inline=wa(fb==="("?")":"]");if(j.highlightFormatting)eb.formatting="link-string";eb.linkHref=true;return ra(eb);}return 'error';}function wa(db){return function(eb,fb){var gb=eb.next();if(gb===db){fb.f=fb.inline=ta;if(j.highlightFormatting)fb.formatting="link-string";var hb=ra(fb);fb.linkHref=false;return hb;}if(eb.match(bb(db),true))eb.backUp(1);fb.linkHref=true;return ra(fb);};}function xa(db,eb){if(db.match(/^[^\]]*\]:/,false)){eb.f=ya;db.next();if(j.highlightFormatting)eb.formatting="link";eb.linkText=true;return ra(eb);}return la(db,eb,ta);}function ya(db,eb){if(db.match(/^\]:/,true)){eb.f=eb.inline=za;if(j.highlightFormatting)eb.formatting="link";var fb=ra(eb);eb.linkText=false;return fb;}db.match(/^[^\]]+/,true);return aa;}function za(db,eb){if(db.eatSpace())return null;db.match(/^[^\s]+/,true);if(db.peek()===undefined){eb.linkTitle=true;}else db.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,true);eb.f=eb.inline=ta;return ba;}var ab=[];function bb(db){if(!ab[db]){db=(db+'').replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");ab[db]=new RegExp('^(?:[^\\\\]|\\\\.)*?('+db+')');}return ab[db];}var cb={startState:function(){return {f:oa,prevLineHasContent:false,thisLineHasContent:false,block:oa,htmlState:null,indentation:0,inline:ta,text:sa,formatting:false,linkText:false,linkHref:false,linkTitle:false,em:false,strong:false,header:0,taskList:false,list:false,listDepth:0,quote:0,trailingSpace:0,trailingSpaceNewLine:false};},copyState:function(db){return {f:db.f,prevLineHasContent:db.prevLineHasContent,thisLineHasContent:db.thisLineHasContent,block:db.block,htmlState:db.htmlState&&h.copyState(l,db.htmlState),indentation:db.indentation,localMode:db.localMode,localState:db.localMode?h.copyState(db.localMode,db.localState):null,inline:db.inline,text:db.text,formatting:false,linkTitle:db.linkTitle,em:db.em,strong:db.strong,header:db.header,taskList:db.taskList,list:db.list,listDepth:db.listDepth,quote:db.quote,trailingSpace:db.trailingSpace,trailingSpaceNewLine:db.trailingSpaceNewLine,md_inside:db.md_inside};},token:function(db,eb){eb.formatting=false;if(db.sol()){var fb=db.match(/^\s*$/,true)||eb.header;eb.header=0;if(fb){eb.prevLineHasContent=false;return na(eb);}else{eb.prevLineHasContent=eb.thisLineHasContent;eb.thisLineHasContent=true;}eb.taskList=false;eb.code=false;eb.trailingSpace=0;eb.trailingSpaceNewLine=false;eb.f=eb.block;var gb=db.match(/^\s*/,true)[0].replace(/\t/g,'    ').length,hb=Math.floor((gb-eb.indentation)/4)*4;if(hb>4)hb=4;var ib=eb.indentation+hb;eb.indentationDiff=ib-eb.indentation;eb.indentation=ib;if(gb>0)return null;}var jb=eb.f(db,eb);if(db.start==db.pos){return this.token(db,eb);}else return jb;},innerMode:function(db){if(db.block==pa)return {state:db.htmlState,mode:l};if(db.localState)return {state:db.localState,mode:db.localMode};return {state:db,mode:cb};},blankLine:na,getType:ra,fold:"markdown"};return cb;},"xml");h.defineMIME("text/x-markdown","markdown");},null,{});
__d("CodeMirror4ModeGfm",["CodeMirror4","CodeMirror4AddonModeOverlay","CodeMirror4ModeMarkdown"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c('CodeMirror4');c('CodeMirror4AddonModeOverlay');c('CodeMirror4ModeMarkdown');"use strict";h.defineMode("gfm",function(i,j){var k=0;function l(p){p.code=false;return null;}var m={startState:function(){return {code:false,codeBlock:false,ateSpace:false};},copyState:function(p){return {code:p.code,codeBlock:p.codeBlock,ateSpace:p.ateSpace};},token:function(p,q){q.combineTokens=null;if(q.codeBlock){if(p.match(/^```/)){q.codeBlock=false;return null;}p.skipToEnd();return null;}if(p.sol())q.code=false;if(p.sol()&&p.match(/^```/)){p.skipToEnd();q.codeBlock=true;return null;}if(p.peek()==='`'){p.next();var r=p.pos;p.eatWhile('`');var s=1+p.pos-r;if(!q.code){k=s;q.code=true;}else if(s===k)q.code=false;return null;}else if(q.code){p.next();return null;}if(p.eatSpace()){q.ateSpace=true;return null;}if(p.sol()||q.ateSpace){q.ateSpace=false;if(p.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?:[a-f0-9]{7,40}\b)/)){q.combineTokens=true;return "link";}else if(p.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/)){q.combineTokens=true;return "link";}}if(p.match(/^((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?]))/i)&&p.string.slice(p.start-2,p.start)!="]("){q.combineTokens=true;return "link";}p.next();return null;},blankLine:l},n={underscoresBreakWords:false,taskLists:true,fencedCodeBlocks:true};for(var o in j)n[o]=j[o];n.name="markdown";h.defineMIME("gfmBase",n);return h.overlayMode(h.getMode(i,"gfmBase"),m);},"markdown");},null,{});
__d("CodeMirror4ModeHaskell",["CodeMirror4"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c('CodeMirror4');"use strict";h.defineMode("haskell",function(i,j){function k(z,aa,ba){aa(ba);return ba(z,aa);}var l=/[a-z_]/,m=/[A-Z]/,n=/\d/,o=/[0-9A-Fa-f]/,p=/[0-7]/,q=/[a-z_A-Z0-9']/,r=/[-!#$%&*+.\/<=>?@\\^|~:]/,s=/[(),;[\]`{}]/,t=/[ \t\v\f]/;function u(z,aa){if(z.eatWhile(t))return null;var ba=z.next();if(s.test(ba)){if(ba=='{'&&z.eat('-')){var ca="comment";if(z.eat('#'))ca="meta";return k(z,aa,v(ca,1));}return null;}if(ba=='\''){if(z.eat('\\')){z.next();}else z.next();if(z.eat('\''))return "string";return "error";}if(ba=='"')return k(z,aa,w);if(m.test(ba)){z.eatWhile(q);if(z.eat('.'))return "qualifier";return "variable-2";}if(l.test(ba)){z.eatWhile(q);return "variable";}if(n.test(ba)){if(ba=='0'){if(z.eat(/[xX]/)){z.eatWhile(o);return "integer";}if(z.eat(/[oO]/)){z.eatWhile(p);return "number";}}z.eatWhile(n);var ca="number";if(z.match(/^\.\d+/))ca="number";if(z.eat(/[eE]/)){ca="number";z.eat(/[-+]/);z.eatWhile(n);}return ca;}if(ba=="."&&z.eat("."))return "keyword";if(r.test(ba)){if(ba=='-'&&z.eat(/-/)){z.eatWhile(/-/);if(!z.eat(r)){z.skipToEnd();return "comment";}}var ca="variable";if(ba==':')ca="variable-2";z.eatWhile(r);return ca;}return "error";}function v(z,aa){if(aa==0)return u;return function(ba,ca){var da=aa;while(!ba.eol()){var ea=ba.next();if(ea=='{'&&ba.eat('-')){++da;}else if(ea=='-'&&ba.eat('}')){--da;if(da==0){ca(u);return z;}}}ca(v(z,da));return z;};}function w(z,aa){while(!z.eol()){var ba=z.next();if(ba=='"'){aa(u);return "string";}if(ba=='\\'){if(z.eol()||z.eat(t)){aa(x);return "string";}if(!(z.eat('&')))z.next();}}aa(u);return "error";}function x(z,aa){if(z.eat('\\'))return k(z,aa,w);z.next();aa(u);return "error";}var y=(function(){var z={};function aa(da){return function(){for(var ea=0;ea<arguments.length;ea++)z[arguments[ea]]=da;};}aa("keyword")("case","class","data","default","deriving","do","else","foreign","if","import","in","infix","infixl","infixr","instance","let","module","newtype","of","then","type","where","_");aa("keyword")("\.\.",":","::","=","\\","\"","<-","->","@","~","=>");aa("builtin")("!!","$!","$","&&","+","++","-",".","/","/=","<","<=","=<<","==",">",">=",">>",">>=","^","^^","||","*","**");aa("builtin")("Bool","Bounded","Char","Double","EQ","Either","Enum","Eq","False","FilePath","Float","Floating","Fractional","Functor","GT","IO","IOError","Int","Integer","Integral","Just","LT","Left","Maybe","Monad","Nothing","Num","Ord","Ordering","Rational","Read","ReadS","Real","RealFloat","RealFrac","Right","Show","ShowS","String","True");aa("builtin")("abs","acos","acosh","all","and","any","appendFile","asTypeOf","asin","asinh","atan","atan2","atanh","break","catch","ceiling","compare","concat","concatMap","const","cos","cosh","curry","cycle","decodeFloat","div","divMod","drop","dropWhile","either","elem","encodeFloat","enumFrom","enumFromThen","enumFromThenTo","enumFromTo","error","even","exp","exponent","fail","filter","flip","floatDigits","floatRadix","floatRange","floor","fmap","foldl","foldl1","foldr","foldr1","fromEnum","fromInteger","fromIntegral","fromRational","fst","gcd","getChar","getContents","getLine","head","id","init","interact","ioError","isDenormalized","isIEEE","isInfinite","isNaN","isNegativeZero","iterate","last","lcm","length","lex","lines","log","logBase","lookup","map","mapM","mapM_","max","maxBound","maximum","maybe","min","minBound","minimum","mod","negate","not","notElem","null","odd","or","otherwise","pi","pred","print","product","properFraction","putChar","putStr","putStrLn","quot","quotRem","read","readFile","readIO","readList","readLn","readParen","reads","readsPrec","realToFrac","recip","rem","repeat","replicate","return","reverse","round","scaleFloat","scanl","scanl1","scanr","scanr1","seq","sequence","sequence_","show","showChar","showList","showParen","showString","shows","showsPrec","significand","signum","sin","sinh","snd","span","splitAt","sqrt","subtract","succ","sum","tail","take","takeWhile","tan","tanh","toEnum","toInteger","toRational","truncate","uncurry","undefined","unlines","until","unwords","unzip","unzip3","userError","words","writeFile","zip","zip3","zipWith","zipWith3");var ba=j.overrideKeywords;if(ba)for(var ca in ba)if(ba.hasOwnProperty(ca))z[ca]=ba[ca];return z;})();return {startState:function(){return {f:u};},copyState:function(z){return {f:z.f};},token:function(z,aa){var ba=aa.f(z,function(da){aa.f=da;}),ca=z.current();return y.hasOwnProperty(ca)?y[ca]:ba;},blockCommentStart:"{-",blockCommentEnd:"-}",lineComment:"--"};});h.defineMIME("text/x-haskell","haskell");},null,{});
__d("CodeMirror4ModeJavascript",["CodeMirror4"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c('CodeMirror4');"use strict";h.defineMode("javascript",function(i,j){var k=i.indentUnit,l=j.statementIndent,m=j.jsonld,n=j.json||m,o=j.typescript,p=j.wordCharacters||/[\w$]/,q=function(){function mc(wc){return {type:wc,style:"keyword"};}var nc=mc("keyword a"),oc=mc("keyword b"),pc=mc("keyword c"),qc=mc("operator"),rc={type:"atom",style:"atom"},sc={"if":mc("if"),"while":nc,"with":nc,"else":oc,"do":oc,"try":oc,"finally":oc,"return":pc,"break":pc,"continue":pc,"new":pc,"delete":pc,"throw":pc,"debugger":pc,"var":mc("var"),"const":mc("var"),let:mc("var"),"function":mc("function"),"catch":mc("catch"),"for":mc("for"),"switch":mc("switch"),"case":mc("case"),"default":mc("default"),"in":qc,"typeof":qc,"instanceof":qc,"true":rc,"false":rc,"null":rc,undefined:rc,NaN:rc,Infinity:rc,"this":mc("this"),module:mc("module"),"class":mc("class"),"super":mc("atom"),yield:pc,"export":mc("export"),"import":mc("import"),"extends":pc};if(o){var tc={type:"variable",style:"variable-3"},uc={"interface":mc("interface"),"extends":mc("extends"),constructor:mc("constructor"),"public":mc("public"),"private":mc("private"),"protected":mc("protected"),"static":mc("static"),string:tc,number:tc,bool:tc,any:tc};for(var vc in uc)sc[vc]=uc[vc];}return sc;}(),r=/[+\-*&%=<>!?|~^]/,s=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function t(mc){var nc=false,oc,pc=false;while((oc=mc.next())!=null){if(!nc){if(oc=="/"&&!pc)return;if(oc=="["){pc=true;}else if(pc&&oc=="]")pc=false;}nc=!nc&&oc=="\\";}}var u,v;function w(mc,nc,oc){u=mc;v=oc;return nc;}function x(mc,nc){var oc=mc.next();if(oc=='"'||oc=="'"){nc.tokenize=y(oc);return nc.tokenize(mc,nc);}else if(oc=="."&&mc.match(/^\d+(?:[eE][+\-]?\d+)?/)){return w("number","number");}else if(oc=="."&&mc.match("..")){return w("spread","meta");}else if(/[\[\]{}\(\),;\:\.]/.test(oc)){return w(oc);}else if(oc=="="&&mc.eat(">")){return w("=>","operator");}else if(oc=="0"&&mc.eat(/x/i)){mc.eatWhile(/[\da-f]/i);return w("number","number");}else if(/\d/.test(oc)){mc.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return w("number","number");}else if(oc=="/"){if(mc.eat("*")){nc.tokenize=z;return z(mc,nc);}else if(mc.eat("/")){mc.skipToEnd();return w("comment","comment");}else if(nc.lastType=="operator"||nc.lastType=="keyword c"||nc.lastType=="sof"||/^[\[{}\(,;:]$/.test(nc.lastType)){t(mc);mc.eatWhile(/[gimy]/);return w("regexp","string-2");}else{mc.eatWhile(r);return w("operator","operator",mc.current());}}else if(oc=="`"){nc.tokenize=aa;return aa(mc,nc);}else if(oc=="#"){mc.skipToEnd();return w("error","error");}else if(r.test(oc)){mc.eatWhile(r);return w("operator","operator",mc.current());}else if(p.test(oc)){mc.eatWhile(p);var pc=mc.current(),qc=q.propertyIsEnumerable(pc)&&q[pc];return (qc&&nc.lastType!=".")?w(qc.type,qc.style,pc):w("variable","variable",pc);}}function y(mc){return function(nc,oc){var pc=false,qc;if(m&&nc.peek()=="@"&&nc.match(s)){oc.tokenize=x;return w("jsonld-keyword","meta");}while((qc=nc.next())!=null){if(qc==mc&&!pc)break;pc=!pc&&qc=="\\";}if(!pc)oc.tokenize=x;return w("string","string");};}function z(mc,nc){var oc=false,pc;while(pc=mc.next()){if(pc=="/"&&oc){nc.tokenize=x;break;}oc=(pc=="*");}return w("comment","comment");}function aa(mc,nc){var oc=false,pc;while((pc=mc.next())!=null){if(!oc&&(pc=="`"||pc=="$"&&mc.eat("{"))){nc.tokenize=x;break;}oc=!oc&&pc=="\\";}return w("quasi","string-2",mc.current());}var ba="([{}])";function ca(mc,nc){if(nc.fatArrowAt)nc.fatArrowAt=null;var oc=mc.string.indexOf("=>",mc.start);if(oc<0)return;var pc=0,qc=false;for(var rc=oc-1;rc>=0;--rc){var sc=mc.string.charAt(rc),tc=ba.indexOf(sc);if(tc>=0&&tc<3){if(!pc){++rc;break;}if(--pc==0)break;}else if(tc>=3&&tc<6){++pc;}else if(p.test(sc)){qc=true;}else if(qc&&!pc){++rc;break;}}if(qc&&!pc)nc.fatArrowAt=rc;}var da={atom:true,number:true,variable:true,string:true,regexp:true,"this":true,"jsonld-keyword":true};function ea(mc,nc,oc,pc,qc,rc){this.indented=mc;this.column=nc;this.type=oc;this.prev=qc;this.info=rc;if(pc!=null)this.align=pc;}function fa(mc,nc){for(var oc=mc.localVars;oc;oc=oc.next)if(oc.name==nc)return true;for(var pc=mc.context;pc;pc=pc.prev)for(var oc=pc.vars;oc;oc=oc.next)if(oc.name==nc)return true;}function ga(mc,nc,oc,pc,qc){var rc=mc.cc;ha.state=mc;ha.stream=qc;ha.marked=null,ha.cc=rc;ha.style=nc;if(!mc.lexical.hasOwnProperty("align"))mc.lexical.align=true;while(true){var sc=rc.length?rc.pop():n?sa:ra;if(sc(oc,pc)){while(rc.length&&rc[rc.length-1].lex)rc.pop()();if(ha.marked)return ha.marked;if(oc=="variable"&&fa(mc,pc))return "variable-2";return nc;}}}var ha={state:null,column:null,marked:null,cc:null};function ia(){for(var mc=arguments.length-1;mc>=0;mc--)ha.cc.push(arguments[mc]);}function ja(){ia.apply(null,arguments);return true;}function ka(mc){function nc(pc){for(var qc=pc;qc;qc=qc.next)if(qc.name==mc)return true;return false;}var oc=ha.state;if(oc.context){ha.marked="def";if(nc(oc.localVars))return;oc.localVars={name:mc,next:oc.localVars};}else{if(nc(oc.globalVars))return;if(j.globalVars)oc.globalVars={name:mc,next:oc.globalVars};}}var la={name:"this",next:{name:"arguments"}};function ma(){ha.state.context={prev:ha.state.context,vars:ha.state.localVars};ha.state.localVars=la;}function na(){ha.state.localVars=ha.state.context.vars;ha.state.context=ha.state.context.prev;}function oa(mc,nc){var oc=function(){var pc=ha.state,qc=pc.indented;if(pc.lexical.type=="stat"){qc=pc.lexical.indented;}else for(var rc=pc.lexical;rc&&rc.type==")"&&rc.align;rc=rc.prev)qc=rc.indented;pc.lexical=new ea(qc,ha.stream.column(),mc,null,pc.lexical,nc);};oc.lex=true;return oc;}function pa(){var mc=ha.state;if(mc.lexical.prev){if(mc.lexical.type==")")mc.indented=mc.lexical.indented;mc.lexical=mc.lexical.prev;}}pa.lex=true;function qa(mc){function nc(oc){if(oc==mc){return ja();}else if(mc==";"){return ia();}else return ja(nc);}return nc;}function ra(mc,nc){if(mc=="var")return ja(oa("vardef",nc.length),nb,qa(";"),pa);if(mc=="keyword a")return ja(oa("form"),sa,ra,pa);if(mc=="keyword b")return ja(oa("form"),ra,pa);if(mc=="{")return ja(oa("}"),kb,pa);if(mc==";")return ja();if(mc=="if"){if(ha.state.lexical.info=="else"&&ha.state.cc[ha.state.cc.length-1]==pa)ha.state.cc.pop()();return ja(oa("form"),sa,ra,pa,sb);}if(mc=="function")return ja(yb);if(mc=="for")return ja(oa("form"),tb,ra,pa);if(mc=="variable")return ja(oa("stat"),db);if(mc=="switch")return ja(oa("form"),sa,oa("}","switch"),qa("{"),kb,pa,pa);if(mc=="case")return ja(sa,qa(":"));if(mc=="default")return ja(qa(":"));if(mc=="catch")return ja(oa("form"),ma,qa("("),zb,qa(")"),ra,pa,na);if(mc=="module")return ja(oa("form"),ma,ec,na,pa);if(mc=="class")return ja(oa("form"),ac,pa);if(mc=="export")return ja(oa("form"),fc,pa);if(mc=="import")return ja(oa("form"),gc,pa);return ia(oa("stat"),sa,qa(";"),pa);}function sa(mc){return ua(mc,false);}function ta(mc){return ua(mc,true);}function ua(mc,nc){if(ha.state.fatArrowAt==ha.stream.start){var oc=nc?cb:bb;if(mc=="("){return ja(ma,oa(")"),ib(ob,")"),pa,qa("=>"),oc,na);}else if(mc=="variable")return ia(ma,ob,qa("=>"),oc,na);}var pc=nc?ya:xa;if(da.hasOwnProperty(mc))return ja(pc);if(mc=="function")return ja(yb,pc);if(mc=="keyword c")return ja(nc?wa:va);if(mc=="(")return ja(oa(")"),va,lc,qa(")"),pa,pc);if(mc=="operator"||mc=="spread")return ja(nc?ta:sa);if(mc=="[")return ja(oa("]"),jc,pa,pc);if(mc=="{")return jb(fb,"}",null,pc);if(mc=="quasi")return ia(za,pc);return ja();}function va(mc){if(mc.match(/[;\}\)\],]/))return ia();return ia(sa);}function wa(mc){if(mc.match(/[;\}\)\],]/))return ia();return ia(ta);}function xa(mc,nc){if(mc==",")return ja(sa);return ya(mc,nc,false);}function ya(mc,nc,oc){var pc=oc==false?xa:ya,qc=oc==false?sa:ta;if(mc=="=>")return ja(ma,oc?cb:bb,na);if(mc=="operator"){if(/\+\+|--/.test(nc))return ja(pc);if(nc=="?")return ja(sa,qa(":"),qc);return ja(qc);}if(mc=="quasi")return ia(za,pc);if(mc==";")return;if(mc=="(")return jb(ta,")","call",pc);if(mc==".")return ja(eb,pc);if(mc=="[")return ja(oa("]"),va,qa("]"),pa,pc);}function za(mc,nc){if(mc!="quasi")return ia();if(nc.slice(nc.length-2)!="${")return ja(za);return ja(sa,ab);}function ab(mc){if(mc=="}"){ha.marked="string-2";ha.state.tokenize=aa;return ja(za);}}function bb(mc){ca(ha.stream,ha.state);return ia(mc=="{"?ra:sa);}function cb(mc){ca(ha.stream,ha.state);return ia(mc=="{"?ra:ta);}function db(mc){if(mc==":")return ja(pa,ra);return ia(xa,qa(";"),pa);}function eb(mc){if(mc=="variable"){ha.marked="property";return ja();}}function fb(mc,nc){if(mc=="variable"||ha.style=="keyword"){ha.marked="property";if(nc=="get"||nc=="set")return ja(gb);return ja(hb);}else if(mc=="number"||mc=="string"){ha.marked=m?"property":(ha.style+" property");return ja(hb);}else if(mc=="jsonld-keyword"){return ja(hb);}else if(mc=="[")return ja(sa,qa("]"),hb);}function gb(mc){if(mc!="variable")return ia(hb);ha.marked="property";return ja(yb);}function hb(mc){if(mc==":")return ja(ta);if(mc=="(")return ia(yb);}function ib(mc,nc){function oc(pc){if(pc==","){var qc=ha.state.lexical;if(qc.info=="call")qc.pos=(qc.pos||0)+1;return ja(mc,oc);}if(pc==nc)return ja();return ja(qa(nc));}return function(pc){if(pc==nc)return ja();return ia(mc,oc);};}function jb(mc,nc,oc){for(var pc=3;pc<arguments.length;pc++)ha.cc.push(arguments[pc]);return ja(oa(nc,oc),ib(mc,nc),pa);}function kb(mc){if(mc=="}")return ja();return ia(ra,kb);}function lb(mc){if(o&&mc==":")return ja(mb);}function mb(mc){if(mc=="variable"){ha.marked="variable-3";return ja();}}function nb(){return ia(ob,lb,qb,rb);}function ob(mc,nc){if(mc=="variable"){ka(nc);return ja();}if(mc=="[")return jb(ob,"]");if(mc=="{")return jb(pb,"}");}function pb(mc,nc){if(mc=="variable"&&!ha.stream.match(/^\s*:/,false)){ka(nc);return ja(qb);}if(mc=="variable")ha.marked="property";return ja(qa(":"),ob,qb);}function qb(mc,nc){if(nc=="=")return ja(ta);}function rb(mc){if(mc==",")return ja(nb);}function sb(mc,nc){if(mc=="keyword b"&&nc=="else")return ja(oa("form","else"),ra,pa);}function tb(mc){if(mc=="(")return ja(oa(")"),ub,qa(")"),pa);}function ub(mc){if(mc=="var")return ja(nb,qa(";"),wb);if(mc==";")return ja(wb);if(mc=="variable")return ja(vb);return ia(sa,qa(";"),wb);}function vb(mc,nc){if(nc=="in"||nc=="of"){ha.marked="keyword";return ja(sa);}return ja(xa,wb);}function wb(mc,nc){if(mc==";")return ja(xb);if(nc=="in"||nc=="of"){ha.marked="keyword";return ja(sa);}return ia(sa,qa(";"),xb);}function xb(mc){if(mc!=")")ja(sa);}function yb(mc,nc){if(nc=="*"){ha.marked="keyword";return ja(yb);}if(mc=="variable"){ka(nc);return ja(yb);}if(mc=="(")return ja(ma,oa(")"),ib(zb,")"),pa,ra,na);}function zb(mc){if(mc=="spread")return ja(zb);return ia(ob,lb);}function ac(mc,nc){if(mc=="variable"){ka(nc);return ja(bc);}}function bc(mc,nc){if(nc=="extends")return ja(sa,bc);if(mc=="{")return ja(oa("}"),cc,pa);}function cc(mc,nc){if(mc=="variable"||ha.style=="keyword"){ha.marked="property";if(nc=="get"||nc=="set")return ja(dc,yb,cc);return ja(yb,cc);}if(nc=="*"){ha.marked="keyword";return ja(cc);}if(mc==";")return ja(cc);if(mc=="}")return ja();}function dc(mc){if(mc!="variable")return ia();ha.marked="property";return ja();}function ec(mc,nc){if(mc=="string")return ja(ra);if(mc=="variable"){ka(nc);return ja(ic);}}function fc(mc,nc){if(nc=="*"){ha.marked="keyword";return ja(ic,qa(";"));}if(nc=="default"){ha.marked="keyword";return ja(sa,qa(";"));}return ia(ra);}function gc(mc){if(mc=="string")return ja();return ia(hc,ic);}function hc(mc,nc){if(mc=="{")return jb(hc,"}");if(mc=="variable")ka(nc);return ja();}function ic(mc,nc){if(nc=="from"){ha.marked="keyword";return ja(sa);}}function jc(mc){if(mc=="]")return ja();return ia(ta,kc);}function kc(mc){if(mc=="for")return ia(lc,qa("]"));if(mc==",")return ja(ib(ta,"]"));return ia(ib(ta,"]"));}function lc(mc){if(mc=="for")return ja(tb,lc);if(mc=="if")return ja(sa,lc);}return {startState:function(mc){var nc={tokenize:x,lastType:"sof",cc:[],lexical:new ea((mc||0)-k,0,"block",false),localVars:j.localVars,context:j.localVars&&{vars:j.localVars},indented:0};if(j.globalVars&&typeof j.globalVars=="object")nc.globalVars=j.globalVars;return nc;},token:function(mc,nc){if(mc.sol()){if(!nc.lexical.hasOwnProperty("align"))nc.lexical.align=false;nc.indented=mc.indentation();ca(mc,nc);}if(nc.tokenize!=z&&mc.eatSpace())return null;var oc=nc.tokenize(mc,nc);if(u=="comment")return oc;nc.lastType=u=="operator"&&(v=="++"||v=="--")?"incdec":u;return ga(nc,oc,u,v,mc);},indent:function(mc,nc){if(mc.tokenize==z)return h.Pass;if(mc.tokenize!=x)return 0;var oc=nc&&nc.charAt(0),pc=mc.lexical;if(!/^\s*else\b/.test(nc))for(var qc=mc.cc.length-1;qc>=0;--qc){var rc=mc.cc[qc];if(rc==pa){pc=pc.prev;}else if(rc!=sb)break;}if(pc.type=="stat"&&oc=="}")pc=pc.prev;if(l&&pc.type==")"&&pc.prev.type=="stat")pc=pc.prev;var sc=pc.type,tc=oc==sc;if(sc=="vardef"){return pc.indented+(mc.lastType=="operator"||mc.lastType==","?pc.info+1:0);}else if(sc=="form"&&oc=="{"){return pc.indented;}else if(sc=="form"){return pc.indented+k;}else if(sc=="stat"){return pc.indented+(mc.lastType=="operator"||mc.lastType==","?l||k:0);}else if(pc.info=="switch"&&!tc&&j.doubleIndentSwitch!=false){return pc.indented+(/^(?:case|default)\b/.test(nc)?k:2*k);}else if(pc.align){return pc.column+(tc?0:1);}else return pc.indented+(tc?0:k);},electricChars:":{}",blockCommentStart:n?null:"/*",blockCommentEnd:n?null:"*/",lineComment:n?null:"//",fold:"brace",helperType:n?"json":"javascript",jsonldMode:m,jsonMode:n};});h.registerHelper("wordChars","javascript",/[\w$]/);h.defineMIME("text/javascript","javascript");h.defineMIME("text/ecmascript","javascript");h.defineMIME("application/javascript","javascript");h.defineMIME("application/x-javascript","javascript");h.defineMIME("application/ecmascript","javascript");h.defineMIME("application/json",{name:"javascript",json:true});h.defineMIME("application/x-json",{name:"javascript",json:true});h.defineMIME("application/ld+json",{name:"javascript",jsonld:true});h.defineMIME("text/typescript",{name:"javascript",typescript:true});h.defineMIME("application/typescript",{name:"javascript",typescript:true});},null,{});
__d("CodeMirror4ModeHtmlmixed",["CodeMirror4","CodeMirror4ModeXml","CodeMirror4ModeJavascript","CodeMirror4ModeCss"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c('CodeMirror4');c('CodeMirror4ModeXml');c('CodeMirror4ModeJavascript');c('CodeMirror4ModeCss');"use strict";h.defineMode("htmlmixed",function(i,j){var k=h.getMode(i,{name:"xml",htmlMode:true,multilineTagIndentFactor:j.multilineTagIndentFactor,multilineTagIndentPastTag:j.multilineTagIndentPastTag}),l=h.getMode(i,"css"),m=[],n=j&&j.scriptTypes;m.push({matches:/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,mode:h.getMode(i,"javascript")});if(n)for(var o=0;o<n.length;++o){var p=n[o];m.push({matches:p.matches,mode:p.mode&&h.getMode(i,p.mode)});}m.push({matches:/./,mode:h.getMode(i,"text/plain")});function q(u,v){var w=v.htmlState.tagName;if(w)w=w.toLowerCase();var x=k.token(u,v.htmlState);if(w=="script"&&/\btag\b/.test(x)&&u.current()==">"){var y=u.string.slice(Math.max(0,u.pos-100),u.pos).match(/\btype\s*=\s*("[^"]+"|'[^']+'|\S+)[^<]*$/i);y=y?y[1]:"";if(y&&/[\"\']/.test(y.charAt(0)))y=y.slice(1,y.length-1);for(var z=0;z<m.length;++z){var aa=m[z];if(typeof aa.matches=="string"?y==aa.matches:aa.matches.test(y)){if(aa.mode){v.token=s;v.localMode=aa.mode;v.localState=aa.mode.startState&&aa.mode.startState(k.indent(v.htmlState,""));}break;}}}else if(w=="style"&&/\btag\b/.test(x)&&u.current()==">"){v.token=t;v.localMode=l;v.localState=l.startState(k.indent(v.htmlState,""));}return x;}function r(u,v,w){var x=u.current(),y=x.search(v),z;if(y>-1){u.backUp(x.length-y);}else if(z=x.match(/<\/?$/)){u.backUp(x.length);if(!u.match(v,false))u.match(x);}return w;}function s(u,v){if(u.match(/^<\/\s*script\s*>/i,false)){v.token=q;v.localState=v.localMode=null;return q(u,v);}return r(u,/<\/\s*script\s*>/,v.localMode.token(u,v.localState));}function t(u,v){if(u.match(/^<\/\s*style\s*>/i,false)){v.token=q;v.localState=v.localMode=null;return q(u,v);}return r(u,/<\/\s*style\s*>/,l.token(u,v.localState));}return {startState:function(){var u=k.startState();return {token:q,localMode:null,localState:null,htmlState:u};},copyState:function(u){if(u.localState)var v=h.copyState(u.localMode,u.localState);return {token:u.token,localMode:u.localMode,localState:v,htmlState:h.copyState(k,u.htmlState)};},token:function(u,v){return v.token(u,v);},indent:function(u,v){if(!u.localMode||/^\s*<\//.test(v)){return k.indent(u.htmlState,v);}else if(u.localMode.indent){return u.localMode.indent(u.localState,v);}else return h.Pass;},innerMode:function(u){return {state:u.localState||u.htmlState,mode:u.localMode||k};}};},"xml","javascript","css");h.defineMIME("text/html","htmlmixed");},null,{});
__d("CodeMirror4ModePhp",["CodeMirror4","CodeMirror4ModeHtmlmixed","CodeMirror4ModeClike"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c('CodeMirror4');c('CodeMirror4ModeHtmlmixed');c('CodeMirror4ModeClike');"use strict";function i(q){var r={},s=q.split(" ");for(var t=0;t<s.length;++t)r[s[t]]=true;return r;}function j(q){return function(r,s){if(r.match(q)){s.tokenize=null;}else r.skipToEnd();return "string";};}function k(q){if(q.length==0)return l;return function(r,s){var t=q[0];for(var u=0;u<t.length;u++)if(r.match(t[u][0])){s.tokenize=k(q.slice(1));return t[u][1];}s.tokenize=l;return "string";};}function l(q,r){var s=false,t,u=false;if(q.current()=='"')return "string";if(q.match("${",false)||q.match("{$",false)){r.tokenize=null;return "string";}if(q.match(/\$[a-zA-Z_][a-zA-Z0-9_]*/)){if(q.match("[",false))r.tokenize=k([[["[",null]],[[/\d[\w\.]*/,"number"],[/\$[a-zA-Z_][a-zA-Z0-9_]*/,"variable-2"],[/[\w\$]+/,"variable"]],[["]",null]]]);if(q.match(/\-\>\w/,false))r.tokenize=k([[["->",null]],[[/[\w]+/,"variable"]]]);return "variable-2";}while(!q.eol()&&(!q.match("{$",false))&&(!q.match(/(\$[a-zA-Z_][a-zA-Z0-9_]*|\$\{)/,false)||s)){t=q.next();if(!s&&t=='"'){u=true;break;}s=!s&&t=="\\";}if(u){r.tokenize=null;r.phpEncapsStack.pop();}return "string";}var m="abstract and array as break case catch class clone const continue declare default "+"do else elseif enddeclare endfor endforeach endif endswitch endwhile extends final "+"for foreach function global goto if implements interface instanceof namespace "+"new or private protected public static switch throw trait try use var while xor "+"die echo empty exit eval include include_once isset list require require_once return "+"print unset __halt_compiler self static parent yield insteadof finally",n="true false null TRUE FALSE NULL __CLASS__ __DIR__ __FILE__ __LINE__ __METHOD__ __FUNCTION__ __NAMESPACE__ __TRAIT__",o="func_num_args func_get_arg func_get_args strlen strcmp strncmp strcasecmp strncasecmp each error_reporting define defined trigger_error user_error set_error_handler restore_error_handler get_declared_classes get_loaded_extensions extension_loaded get_extension_funcs debug_backtrace constant bin2hex hex2bin sleep usleep time mktime gmmktime strftime gmstrftime strtotime date gmdate getdate localtime checkdate flush wordwrap htmlspecialchars htmlentities html_entity_decode md5 md5_file crc32 getimagesize image_type_to_mime_type phpinfo phpversion phpcredits strnatcmp strnatcasecmp substr_count strspn strcspn strtok strtoupper strtolower strpos strrpos strrev hebrev hebrevc nl2br basename dirname pathinfo stripslashes stripcslashes strstr stristr strrchr str_shuffle str_word_count strcoll substr substr_replace quotemeta ucfirst ucwords strtr addslashes addcslashes rtrim str_replace str_repeat count_chars chunk_split trim ltrim strip_tags similar_text explode implode setlocale localeconv parse_str str_pad chop strchr sprintf printf vprintf vsprintf sscanf fscanf parse_url urlencode urldecode rawurlencode rawurldecode readlink linkinfo link unlink exec system escapeshellcmd escapeshellarg passthru shell_exec proc_open proc_close rand srand getrandmax mt_rand mt_srand mt_getrandmax base64_decode base64_encode abs ceil floor round is_finite is_nan is_infinite bindec hexdec octdec decbin decoct dechex base_convert number_format fmod ip2long long2ip getenv putenv getopt microtime gettimeofday getrusage uniqid quoted_printable_decode set_time_limit get_cfg_var magic_quotes_runtime set_magic_quotes_runtime get_magic_quotes_gpc get_magic_quotes_runtime import_request_variables error_log serialize unserialize memory_get_usage var_dump var_export debug_zval_dump print_r highlight_file show_source highlight_string ini_get ini_get_all ini_set ini_alter ini_restore get_include_path set_include_path restore_include_path setcookie header headers_sent connection_aborted connection_status ignore_user_abort parse_ini_file is_uploaded_file move_uploaded_file intval floatval doubleval strval gettype settype is_null is_resource is_bool is_long is_float is_int is_integer is_double is_real is_numeric is_string is_array is_object is_scalar ereg ereg_replace eregi eregi_replace split spliti join sql_regcase dl pclose popen readfile rewind rmdir umask fclose feof fgetc fgets fgetss fread fopen fpassthru ftruncate fstat fseek ftell fflush fwrite fputs mkdir rename copy tempnam tmpfile file file_get_contents stream_select stream_context_create stream_context_set_params stream_context_set_option stream_context_get_options stream_filter_prepend stream_filter_append fgetcsv flock get_meta_tags stream_set_write_buffer set_file_buffer set_socket_blocking stream_set_blocking socket_set_blocking stream_get_meta_data stream_register_wrapper stream_wrapper_register stream_set_timeout socket_set_timeout socket_get_status realpath fnmatch fsockopen pfsockopen pack unpack get_browser crypt opendir closedir chdir getcwd rewinddir readdir dir glob fileatime filectime filegroup fileinode filemtime fileowner fileperms filesize filetype file_exists is_writable is_writeable is_readable is_executable is_file is_dir is_link stat lstat chown touch clearstatcache mail ob_start ob_flush ob_clean ob_end_flush ob_end_clean ob_get_flush ob_get_clean ob_get_length ob_get_level ob_get_status ob_get_contents ob_implicit_flush ob_list_handlers ksort krsort natsort natcasesort asort arsort sort rsort usort uasort uksort shuffle array_walk count end prev next reset current key min max in_array array_search extract compact array_fill range array_multisort array_push array_pop array_shift array_unshift array_splice array_slice array_merge array_merge_recursive array_keys array_values array_count_values array_reverse array_reduce array_pad array_flip array_change_key_case array_rand array_unique array_intersect array_intersect_assoc array_diff array_diff_assoc array_sum array_filter array_map array_chunk array_key_exists pos sizeof key_exists assert assert_options version_compare ftok str_rot13 aggregate session_name session_module_name session_save_path session_id session_regenerate_id session_decode session_register session_unregister session_is_registered session_encode session_start session_destroy session_unset session_set_save_handler session_cache_limiter session_cache_expire session_set_cookie_params session_get_cookie_params session_write_close preg_match preg_match_all preg_replace preg_replace_callback preg_split preg_quote preg_grep overload ctype_alnum ctype_alpha ctype_cntrl ctype_digit ctype_lower ctype_graph ctype_print ctype_punct ctype_space ctype_upper ctype_xdigit virtual apache_request_headers apache_note apache_lookup_uri apache_child_terminate apache_setenv apache_response_headers apache_get_version getallheaders mysql_connect mysql_pconnect mysql_close mysql_select_db mysql_create_db mysql_drop_db mysql_query mysql_unbuffered_query mysql_db_query mysql_list_dbs mysql_list_tables mysql_list_fields mysql_list_processes mysql_error mysql_errno mysql_affected_rows mysql_insert_id mysql_result mysql_num_rows mysql_num_fields mysql_fetch_row mysql_fetch_array mysql_fetch_assoc mysql_fetch_object mysql_data_seek mysql_fetch_lengths mysql_fetch_field mysql_field_seek mysql_free_result mysql_field_name mysql_field_table mysql_field_len mysql_field_type mysql_field_flags mysql_escape_string mysql_real_escape_string mysql_stat mysql_thread_id mysql_client_encoding mysql_get_client_info mysql_get_host_info mysql_get_proto_info mysql_get_server_info mysql_info mysql mysql_fieldname mysql_fieldtable mysql_fieldlen mysql_fieldtype mysql_fieldflags mysql_selectdb mysql_createdb mysql_dropdb mysql_freeresult mysql_numfields mysql_numrows mysql_listdbs mysql_listtables mysql_listfields mysql_db_name mysql_dbname mysql_tablename mysql_table_name pg_connect pg_pconnect pg_close pg_connection_status pg_connection_busy pg_connection_reset pg_host pg_dbname pg_port pg_tty pg_options pg_ping pg_query pg_send_query pg_cancel_query pg_fetch_result pg_fetch_row pg_fetch_assoc pg_fetch_array pg_fetch_object pg_fetch_all pg_affected_rows pg_get_result pg_result_seek pg_result_status pg_free_result pg_last_oid pg_num_rows pg_num_fields pg_field_name pg_field_num pg_field_size pg_field_type pg_field_prtlen pg_field_is_null pg_get_notify pg_get_pid pg_result_error pg_last_error pg_last_notice pg_put_line pg_end_copy pg_copy_to pg_copy_from pg_trace pg_untrace pg_lo_create pg_lo_unlink pg_lo_open pg_lo_close pg_lo_read pg_lo_write pg_lo_read_all pg_lo_import pg_lo_export pg_lo_seek pg_lo_tell pg_escape_string pg_escape_bytea pg_unescape_bytea pg_client_encoding pg_set_client_encoding pg_meta_data pg_convert pg_insert pg_update pg_delete pg_select pg_exec pg_getlastoid pg_cmdtuples pg_errormessage pg_numrows pg_numfields pg_fieldname pg_fieldsize pg_fieldtype pg_fieldnum pg_fieldprtlen pg_fieldisnull pg_freeresult pg_result pg_loreadall pg_locreate pg_lounlink pg_loopen pg_loclose pg_loread pg_lowrite pg_loimport pg_loexport http_response_code get_declared_traits getimagesizefromstring socket_import_stream stream_set_chunk_size trait_exists header_register_callback class_uses session_status session_register_shutdown echo print global static exit array empty eval isset unset die include require include_once require_once json_decode json_encode json_last_error json_last_error_msg curl_close curl_copy_handle curl_errno curl_error curl_escape curl_exec curl_file_create curl_getinfo curl_init curl_multi_add_handle curl_multi_close curl_multi_exec curl_multi_getcontent curl_multi_info_read curl_multi_init curl_multi_remove_handle curl_multi_select curl_multi_setopt curl_multi_strerror curl_pause curl_reset curl_setopt_array curl_setopt curl_share_close curl_share_init curl_share_setopt curl_strerror curl_unescape curl_version mysqli_affected_rows mysqli_autocommit mysqli_change_user mysqli_character_set_name mysqli_close mysqli_commit mysqli_connect_errno mysqli_connect_error mysqli_connect mysqli_data_seek mysqli_debug mysqli_dump_debug_info mysqli_errno mysqli_error_list mysqli_error mysqli_fetch_all mysqli_fetch_array mysqli_fetch_assoc mysqli_fetch_field_direct mysqli_fetch_field mysqli_fetch_fields mysqli_fetch_lengths mysqli_fetch_object mysqli_fetch_row mysqli_field_count mysqli_field_seek mysqli_field_tell mysqli_free_result mysqli_get_charset mysqli_get_client_info mysqli_get_client_stats mysqli_get_client_version mysqli_get_connection_stats mysqli_get_host_info mysqli_get_proto_info mysqli_get_server_info mysqli_get_server_version mysqli_info mysqli_init mysqli_insert_id mysqli_kill mysqli_more_results mysqli_multi_query mysqli_next_result mysqli_num_fields mysqli_num_rows mysqli_options mysqli_ping mysqli_prepare mysqli_query mysqli_real_connect mysqli_real_escape_string mysqli_real_query mysqli_reap_async_query mysqli_refresh mysqli_rollback mysqli_select_db mysqli_set_charset mysqli_set_local_infile_default mysqli_set_local_infile_handler mysqli_sqlstate mysqli_ssl_set mysqli_stat mysqli_stmt_init mysqli_store_result mysqli_thread_id mysqli_thread_safe mysqli_use_result mysqli_warning_count";h.registerHelper("hintWords","php",[m,n,o].join(" ").split(" "));h.registerHelper("wordChars","php",/[\w$]/);var p={name:"clike",helperType:"php",keywords:i(m),blockKeywords:i("catch do else elseif for foreach if switch try while finally"),atoms:i(n),builtin:i(o),multiLineStrings:true,hooks:{$:function(q){q.eatWhile(/[\w\$_]/);return "variable-2";},"<":function(q,r){if(q.match(/<</)){q.eatWhile(/[\w\.]/);r.tokenize=j(q.current().slice(3));return r.tokenize(q,r);}return false;},"#":function(q){while(!q.eol()&&!q.match("?>",false))q.next();return "comment";},"/":function(q){if(q.eat("/")){while(!q.eol()&&!q.match("?>",false))q.next();return "comment";}return false;},'"':function(q,r){if(!r.phpEncapsStack)r.phpEncapsStack=[];r.phpEncapsStack.push(0);r.tokenize=l;return r.tokenize(q,r);},"{":function(q,r){if(r.phpEncapsStack&&r.phpEncapsStack.length>0)r.phpEncapsStack[r.phpEncapsStack.length-1]++;return false;},"}":function(q,r){if(r.phpEncapsStack&&r.phpEncapsStack.length>0)if(--r.phpEncapsStack[r.phpEncapsStack.length-1]==0)r.tokenize=l;return false;}}};h.defineMode("php",function(q,r){var s=h.getMode(q,"text/html"),t=h.getMode(q,p);function u(v,w){var x=w.curMode==t;if(v.sol()&&w.pending&&w.pending!='"'&&w.pending!="'")w.pending=null;if(!x){if(v.match(/^<\?\w*/)){w.curMode=t;w.curState=w.php;return "meta";}if(w.pending=='"'||w.pending=="'"){while(!v.eol()&&v.next()!=w.pending);var y="string";}else if(w.pending&&v.pos<w.pending.end){v.pos=w.pending.end;var y=w.pending.style;}else var y=s.token(v,w.curState);if(w.pending)w.pending=null;var z=v.current(),aa=z.search(/<\?/),ba;if(aa!=-1){if(y=="string"&&(ba=z.match(/[\'\"]$/))&&!/\?>/.test(z)){w.pending=ba[0];}else w.pending={end:v.pos,style:y};v.backUp(z.length-aa);}return y;}else if(x&&w.php.tokenize==null&&v.match("?>")){w.curMode=s;w.curState=w.html;return "meta";}else return t.token(v,w.curState);}return {startState:function(){var v=h.startState(s),w=h.startState(t);return {html:v,php:w,curMode:r.startOpen?t:s,curState:r.startOpen?w:v,pending:null};},copyState:function(v){var w=v.html,x=h.copyState(s,w),y=v.php,z=h.copyState(t,y),aa;if(v.curMode==s){aa=x;}else aa=z;return {html:x,php:z,curMode:v.curMode,curState:aa,pending:v.pending};},token:u,indent:function(v,w){if((v.curMode!=t&&/^\s*<\//.test(w))||(v.curMode==t&&/^\?>/.test(w)))return s.indent(v.html,w);return v.curMode.indent(v.curState,w);},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",innerMode:function(v){return {state:v.curState,mode:v.curMode};}};},"htmlmixed","clike");h.defineMIME("application/x-httpd-php","php");h.defineMIME("application/x-httpd-php-open",{name:"php",startOpen:true});h.defineMIME("text/x-php",p);},null,{});
__d("CodeMirror4ModePython",["CodeMirror4"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c('CodeMirror4');"use strict";function i(q){return new RegExp("^(("+q.join(")|(")+"))\\b");}var j=i(["and","or","not","is"]),k=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in"],l=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"],m={builtins:["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"],keywords:["exec","print"]},n={builtins:["ascii","bytes","exec","print"],keywords:["nonlocal","False","True","None"]};h.registerHelper("hintWords","python",k.concat(l));function o(q){return q.scopes[q.scopes.length-1];}h.defineMode("python",function(q,r){var s="error",t=r.singleOperators||new RegExp("^[\\+\\-\\*/%&|\\^~<>!]"),u=r.singleDelimiters||new RegExp("^[\\(\\)\\[\\]\\{\\}@,:`=;\\.]"),v=r.doubleOperators||new RegExp("^((==)|(!=)|(<=)|(>=)|(<>)|(<<)|(>>)|(//)|(\\*\\*))"),w=r.doubleDelimiters||new RegExp("^((\\+=)|(\\-=)|(\\*=)|(%=)|(/=)|(&=)|(\\|=)|(\\^=))"),x=r.tripleDelimiters||new RegExp("^((//=)|(>>=)|(<<=)|(\\*\\*=))"),y=r.identifiers||new RegExp("^[_A-Za-z][_A-Za-z0-9]*"),z=r.hangingIndent||q.indentUnit,aa=k,ba=l;if(r.extra_keywords!=undefined)aa=aa.concat(r.extra_keywords);if(r.extra_builtins!=undefined)ba=ba.concat(r.extra_builtins);if(r.version&&parseInt(r.version,10)==3){aa=aa.concat(n.keywords);ba=ba.concat(n.builtins);var ca=new RegExp("^(([rb]|(br))?('{3}|\"{3}|['\"]))","i");}else{aa=aa.concat(m.keywords);ba=ba.concat(m.builtins);var ca=new RegExp("^(([rub]|(ur)|(br))?('{3}|\"{3}|['\"]))","i");}var da=i(aa),ea=i(ba);function fa(ma,na){if(ma.sol()&&o(na).type=="py"){var oa=o(na).offset;if(ma.eatSpace()){var pa=ma.indentation();if(pa>oa){ia(ma,na,"py");}else if(pa<oa&&ja(ma,na))na.errorToken=true;return null;}else{var qa=ga(ma,na);if(oa>0&&ja(ma,na))qa+=" "+s;return qa;}}return ga(ma,na);}function ga(ma,na){if(ma.eatSpace())return null;var oa=ma.peek();if(oa=="#"){ma.skipToEnd();return "comment";}if(ma.match(/^[0-9\.]/,false)){var pa=false;if(ma.match(/^\d*\.\d+(e[\+\-]?\d+)?/i))pa=true;if(ma.match(/^\d+\.\d*/))pa=true;if(ma.match(/^\.\d+/))pa=true;if(pa){ma.eat(/J/i);return "number";}var qa=false;if(ma.match(/^0x[0-9a-f]+/i))qa=true;if(ma.match(/^0b[01]+/i))qa=true;if(ma.match(/^0o[0-7]+/i))qa=true;if(ma.match(/^[1-9]\d*(e[\+\-]?\d+)?/)){ma.eat(/J/i);qa=true;}if(ma.match(/^0(?![\dx])/i))qa=true;if(qa){ma.eat(/L/i);return "number";}}if(ma.match(ca)){na.tokenize=ha(ma.current());return na.tokenize(ma,na);}if(ma.match(x)||ma.match(w))return null;if(ma.match(v)||ma.match(t)||ma.match(j))return "operator";if(ma.match(u))return null;if(ma.match(da))return "keyword";if(ma.match(ea))return "builtin";if(ma.match(/^(self|cls)\b/))return "variable-2";if(ma.match(y)){if(na.lastToken=="def"||na.lastToken=="class")return "def";return "variable";}ma.next();return s;}function ha(ma){while("rub".indexOf(ma.charAt(0).toLowerCase())>=0)ma=ma.substr(1);var na=ma.length==1,oa="string";function pa(qa,ra){while(!qa.eol()){qa.eatWhile(/[^'"\\]/);if(qa.eat("\\")){qa.next();if(na&&qa.eol())return oa;}else if(qa.match(ma)){ra.tokenize=fa;return oa;}else qa.eat(/['"]/);}if(na)if(r.singleLineStringErrors){return s;}else ra.tokenize=fa;return oa;}pa.isString=true;return pa;}function ia(ma,na,oa){var pa=0,qa=null;if(oa=="py")while(o(na).type!="py")na.scopes.pop();pa=o(na).offset+(oa=="py"?q.indentUnit:z);if(oa!="py"&&!ma.match(/^(\s|#.*)*$/,false))qa=ma.column()+1;na.scopes.push({offset:pa,type:oa,align:qa});}function ja(ma,na){var oa=ma.indentation();while(o(na).offset>oa){if(o(na).type!="py")return true;na.scopes.pop();}return o(na).offset!=oa;}function ka(ma,na){var oa=na.tokenize(ma,na),pa=ma.current();if(pa=="."){oa=ma.match(y,false)?null:s;if(oa==null&&na.lastStyle=="meta")oa="meta";return oa;}if(pa=="@")return ma.match(y,false)?"meta":s;if((oa=="variable"||oa=="builtin")&&na.lastStyle=="meta")oa="meta";if(pa=="pass"||pa=="return")na.dedent+=1;if(pa=="lambda")na.lambda=true;if(pa==":"&&!na.lambda&&o(na).type=="py")ia(ma,na,"py");var qa=pa.length==1?"[({".indexOf(pa):-1;if(qa!=-1)ia(ma,na,"])}".slice(qa,qa+1));qa="])}".indexOf(pa);if(qa!=-1)if(o(na).type==pa){na.scopes.pop();}else return s;if(na.dedent>0&&ma.eol()&&o(na).type=="py"){if(na.scopes.length>1)na.scopes.pop();na.dedent-=1;}return oa;}var la={startState:function(ma){return {tokenize:fa,scopes:[{offset:ma||0,type:"py",align:null}],lastStyle:null,lastToken:null,lambda:false,dedent:0};},token:function(ma,na){var oa=na.errorToken;if(oa)na.errorToken=false;var pa=ka(ma,na);na.lastStyle=pa;var qa=ma.current();if(qa&&pa)na.lastToken=qa;if(ma.eol()&&na.lambda)na.lambda=false;return oa?pa+" "+s:pa;},indent:function(ma,na){if(ma.tokenize!=fa)return ma.tokenize.isString?h.Pass:0;var oa=o(ma),pa=na&&na.charAt(0)==oa.type;if(oa.align!=null){return oa.align-(pa?1:0);}else if(pa&&ma.scopes.length>1){return ma.scopes[ma.scopes.length-2].offset;}else return oa.offset;},lineComment:"#",fold:"indent"};return la;});h.defineMIME("text/x-python","python");var p=function(q){return q.split(" ");};h.defineMIME("text/x-cython",{name:"python",extra_keywords:p("by cdef cimport cpdef ctypedef enum except"+"extern gil include nogil property public"+"readonly struct union DEF IF ELIF ELSE")});},null,{});
__d("CodeMirror4ModeShell",["CodeMirror4"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c('CodeMirror4');"use strict";h.defineMode('shell',function(){var i={};function j(o,p){var q=p.split(' ');for(var r=0;r<q.length;r++)i[q[r]]=o;}j('atom','true false');j('keyword','if then do else elif while until for in esac fi fin '+'fil done exit set unset export function');j('builtin','ab awk bash beep cat cc cd chown chmod chroot clear cp '+'curl cut diff echo find gawk gcc get git grep kill killall ln ls make '+'mkdir openssl mv nc node npm ping ps restart rm rmdir sed service sh '+'shopt shred source sort sleep ssh start stop su sudo tee telnet top '+'touch vi vim wall wc wget who write yes zsh');function k(o,p){if(o.eatSpace())return null;var q=o.sol(),r=o.next();if(r==='\\'){o.next();return null;}if(r==='\''||r==='"'||r==='`'){p.tokens.unshift(l(r));return n(o,p);}if(r==='#'){if(q&&o.eat('!')){o.skipToEnd();return 'meta';}o.skipToEnd();return 'comment';}if(r==='$'){p.tokens.unshift(m);return n(o,p);}if(r==='+'||r==='=')return 'operator';if(r==='-'){o.eat('-');o.eatWhile(/\w/);return 'attribute';}if(/\d/.test(r)){o.eatWhile(/\d/);if(o.eol()||!/\w/.test(o.peek()))return 'number';}o.eatWhile(/[\w-]/);var s=o.current();if(o.peek()==='='&&/\w+/.test(s))return 'def';return i.hasOwnProperty(s)?i[s]:null;}function l(o){return function(p,q){var r,s=false,t=false;while((r=p.next())!=null){if(r===o&&!t){s=true;break;}if(r==='$'&&!t&&o!=='\''){t=true;p.backUp(1);q.tokens.unshift(m);break;}t=!t&&r==='\\';}if(s||!t)q.tokens.shift();return (o==='`'||o===')'?'quote':'string');};}var m=function(o,p){if(p.tokens.length>1)o.eat('$');var q=o.next(),r=/\w/;if(q==='{')r=/[^}]/;if(q==='('){p.tokens[0]=l(')');return n(o,p);}if(!/\d/.test(q)){o.eatWhile(r);o.eat('}');}p.tokens.shift();return 'def';};function n(o,p){return (p.tokens[0]||k)(o,p);}return {startState:function(){return {tokens:[]};},token:function(o,p){return n(o,p);},lineComment:'#'};});h.defineMIME('text/x-sh','shell');},null,{});
__d("CodeMirror4ModeSql",["CodeMirror4"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c('CodeMirror4');"use strict";h.defineMode("sql",function(i,j){"use strict";var k=j.client||{},l=j.atoms||{"false":true,"true":true,"null":true},m=j.builtin||{},n=j.keywords||{},o=j.operatorChars||/^[*+\-%<>!=&|~^]/,p=j.support||{},q=j.hooks||{},r=j.dateSQL||{date:true,time:true,timestamp:true};function s(x,y){var z=x.next();if(q[z]){var aa=q[z](x,y);if(aa!==false)return aa;}if(p.hexNumber==true&&((z=="0"&&x.match(/^[xX][0-9a-fA-F]+/))||(z=="x"||z=="X")&&x.match(/^'[0-9a-fA-F]+'/))){return "number";}else if(p.binaryNumber==true&&(((z=="b"||z=="B")&&x.match(/^'[01]+'/))||(z=="0"&&x.match(/^b[01]+/)))){return "number";}else if(z.charCodeAt(0)>47&&z.charCodeAt(0)<58){x.match(/^[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?/);p.decimallessFloat==true&&x.eat('.');return "number";}else if(z=="?"&&(x.eatSpace()||x.eol()||x.eat(";"))){return "variable-3";}else if(z=="'"||(z=='"'&&p.doubleQuote)){y.tokenize=t(z);return y.tokenize(x,y);}else if((((p.nCharCast==true&&(z=="n"||z=="N"))||(p.charsetCast==true&&z=="_"&&x.match(/[a-z][a-z0-9]*/i)))&&(x.peek()=="'"||x.peek()=='"'))){return "keyword";}else if(/^[\(\),\;\[\]]/.test(z)){return null;}else if(p.commentSlashSlash&&z=="/"&&x.eat("/")){x.skipToEnd();return "comment";}else if((p.commentHash&&z=="#")||(z=="-"&&x.eat("-")&&(!p.commentSpaceRequired||x.eat(" ")))){x.skipToEnd();return "comment";}else if(z=="/"&&x.eat("*")){y.tokenize=u;return y.tokenize(x,y);}else if(z=="."){if(p.zerolessFloat==true&&x.match(/^(?:\d+(?:e[+-]?\d+)?)/i))return "number";if(p.ODBCdotTable==true&&x.match(/^[a-zA-Z_]+/))return "variable-2";}else if(o.test(z)){x.eatWhile(o);return null;}else if(z=='{'&&(x.match(/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}/)||x.match(/^( )*(d|D|t|T|ts|TS)( )*"[^"]*"( )*}/))){return "number";}else{x.eatWhile(/^[_\w\d]/);var ba=x.current().toLowerCase();if(r.hasOwnProperty(ba)&&(x.match(/^( )+'[^']*'/)||x.match(/^( )+"[^"]*"/)))return "number";if(l.hasOwnProperty(ba))return "atom";if(m.hasOwnProperty(ba))return "builtin";if(n.hasOwnProperty(ba))return "keyword";if(k.hasOwnProperty(ba))return "string-2";return null;}}function t(x){return function(y,z){var aa=false,ba;while((ba=y.next())!=null){if(ba==x&&!aa){z.tokenize=s;break;}aa=!aa&&ba=="\\";}return "string";};}function u(x,y){while(true)if(x.skipTo("*")){x.next();if(x.eat("/")){y.tokenize=s;break;}}else{x.skipToEnd();break;}return "comment";}function v(x,y,z){y.context={prev:y.context,indent:x.indentation(),col:x.column(),type:z};}function w(x){x.indent=x.context.indent;x.context=x.context.prev;}return {startState:function(){return {tokenize:s,context:null};},token:function(x,y){if(x.sol())if(y.context&&y.context.align==null)y.context.align=false;if(x.eatSpace())return null;var z=y.tokenize(x,y);if(z=="comment")return z;if(y.context&&y.context.align==null)y.context.align=true;var aa=x.current();if(aa=="("){v(x,y,")");}else if(aa=="["){v(x,y,"]");}else if(y.context&&y.context.type==aa)w(y);return z;},indent:function(x,y){var z=x.context;if(!z)return h.Pass;var aa=y.charAt(0)==z.type;if(z.align){return z.col+(aa?0:1);}else return z.indent+(aa?0:i.indentUnit);},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:p.commentSlashSlash?"//":p.commentHash?"#":null};});(function(){"use strict";function i(n){var o;while((o=n.next())!=null)if(o=="`"&&!n.eat("`"))return "variable-2";return null;}function j(n){if(n.eat("@")){n.match(/^session\./);n.match(/^local\./);n.match(/^global\./);}if(n.eat("'")){n.match(/^.*'/);return "variable-2";}else if(n.eat('"')){n.match(/^.*"/);return "variable-2";}else if(n.eat("`")){n.match(/^.*`/);return "variable-2";}else if(n.match(/^[0-9a-zA-Z$\.\_]+/))return "variable-2";return null;}function k(n){if(n.eat("N"))return "atom";return n.match(/^[a-zA-Z.#!?]/)?"variable-2":null;}var l="alter and as asc between by count create delete desc distinct drop from having in insert into is join like not on or order select set table union update values where ";function m(n){var o={},p=n.split(" ");for(var q=0;q<p.length;++q)o[p[q]]=true;return o;}h.defineMIME("text/x-sql",{name:"sql",keywords:m(l+"begin"),builtin:m("bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric"),atoms:m("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:m("date time timestamp"),support:m("ODBCdotTable doubleQuote binaryNumber hexNumber")});h.defineMIME("text/x-mssql",{name:"sql",client:m("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:m(l+"begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered"),builtin:m("bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table "),atoms:m("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:m("date datetimeoffset datetime2 smalldatetime datetime time"),hooks:{"@":j}});h.defineMIME("text/x-mysql",{name:"sql",client:m("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:m(l+"accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group groupby_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:m("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:m("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:m("date time timestamp"),support:m("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":j,"`":i,"\\":k}});h.defineMIME("text/x-mariadb",{name:"sql",client:m("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:m(l+"accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group groupby_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:m("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:m("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:m("date time timestamp"),support:m("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":j,"`":i,"\\":k}});h.defineMIME("text/x-cassandra",{name:"sql",client:{},keywords:m("use select from using consistency where limit first reversed first and in insert into values using consistency ttl update set delete truncate begin batch apply create keyspace with columnfamily primary key index on drop alter type add any one quorum all local_quorum each_quorum"),builtin:m("ascii bigint blob boolean counter decimal double float int text timestamp uuid varchar varint"),atoms:m("false true"),operatorChars:/^[<>=]/,dateSQL:{},support:m("commentSlashSlash decimallessFloat"),hooks:{}});h.defineMIME("text/x-plsql",{name:"sql",client:m("appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap"),keywords:m("abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work"),builtin:m("abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least lenght lenghtb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml"),operatorChars:/^[*+\-%<>!=~]/,dateSQL:m("date time timestamp"),support:m("doubleQuote nCharCast zerolessFloat binaryNumber hexNumber")});h.defineMIME("text/x-hive",{name:"sql",keywords:m("select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data database databases dbproperties deferred delete delimited desc describe directory disable distinct distribute drop else enable end escaped exclusive exists explain export extended external false fetch fields fileformat first format formatted from full function functions grant group having hold_ddltime idxproperties if import in index indexes inpath inputdriver inputformat insert intersect into is items join keys lateral left like limit lines load local location lock locks mapjoin materialized minus msck no_drop nocompress not of offline on option or order out outer outputdriver outputformat overwrite partition partitioned partitions percent plus preserve procedure purge range rcfile read readonly reads rebuild recordreader recordwriter recover reduce regexp rename repair replace restrict revoke right rlike row schema schemas semi sequencefile serde serdeproperties set shared show show_database sort sorted ssl statistics stored streamtable table tables tablesample tblproperties temporary terminated textfile then tmp to touch transform trigger true unarchive undo union uniquejoin unlock update use using utc utc_tmestamp view when where while with"),builtin:m("bool boolean long timestamp tinyint smallint bigint int float double date datetime unsigned string array struct map uniontype"),atoms:m("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:m("date timestamp"),support:m("ODBCdotTable doubleQuote binaryNumber hexNumber")});h.defineMIME("text/x-presto",{name:"sql",keywords:m("select alter $elem$ $key$ $value$ all and any approximate as asc at bernoulli between by case cast catalogs coalesce column columns confidence constraint create cross current current_date current_time current_timestamp day delete desc describe distinct distributed drop else end escape except exists explain extract first following for format from full functions graphviz group having hour if in inner insert intersect into is join last left like limit localtime localtimestamp logical minute month natural nfc nfd nfkc nfkd normalize not nullif nulls on or order ordinality outer over partition partitions poissonized position preceding range recursive rename replace rescaled reset right row rows schemas second session set show some stratify substring system table tables tablesample text then to try_cast type unbounded union unnest use using values view when where with year zone"),builtin:m("boolean bigint double varchar varbinary json date time timestamp interval array map"),atoms:m("false true null"),operatorChars:/^[*+\-%<>!=|]/,dateSQL:m("date time timestamp"),support:m("doubleQuote")});}());},null,{});
__d("CodeMirror4AddonSearchSearchcursor",["CodeMirror4"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c('CodeMirror4');"use strict";var i=h.Pos;function j(l,m,n,o){this.atOccurrence=false;this.doc=l;if(o==null&&typeof m=="string")o=false;n=n?l.clipPos(n):i(0,0);this.pos={from:n,to:n};if(typeof m!="string"){if(!m.global)m=new RegExp(m.source,m.ignoreCase?"ig":"g");this.matches=function(t,u){if(t){m.lastIndex=0;var v=l.getLine(u.line).slice(0,u.ch),w=0,x,y;for(;;){m.lastIndex=w;var z=m.exec(v);if(!z)break;x=z;y=x.index;w=x.index+(x[0].length||1);if(w==v.length)break;}var aa=(x&&x[0].length)||0;if(!aa)if(y==0&&v.length==0){x=undefined;}else if(y!=l.getLine(u.line).length)aa++;}else{m.lastIndex=u.ch;var v=l.getLine(u.line),x=m.exec(v),aa=(x&&x[0].length)||0,y=x&&x.index;if(y+aa!=v.length&&!aa)aa=1;}if(x&&aa)return {from:i(u.line,y),to:i(u.line,y+aa),match:x};};}else{var p=m;if(o)m=m.toLowerCase();var q=o?function(t){return t.toLowerCase();}:function(t){return t;},r=m.split("\n");if(r.length==1){if(!m.length){this.matches=function(){};}else this.matches=function(t,u){if(t){var v=l.getLine(u.line).slice(0,u.ch),w=q(v),x=w.lastIndexOf(m);if(x>-1){x=k(v,w,x);return {from:i(u.line,x),to:i(u.line,x+p.length)};}}else{var v=l.getLine(u.line).slice(u.ch),w=q(v),x=w.indexOf(m);if(x>-1){x=k(v,w,x)+u.ch;return {from:i(u.line,x),to:i(u.line,x+p.length)};}}};}else{var s=p.split("\n");this.matches=function(t,u){var v=r.length-1;if(t){if(u.line-(r.length-1)<l.firstLine())return;if(q(l.getLine(u.line).slice(0,s[v].length))!=r[r.length-1])return;var w=i(u.line,s[v].length);for(var x=u.line-1,y=v-1;y>=1;--y,--x)if(r[y]!=q(l.getLine(x)))return;var z=l.getLine(x),aa=z.length-s[0].length;if(q(z.slice(aa))!=r[0])return;return {from:i(x,aa),to:w};}else{if(u.line+(r.length-1)>l.lastLine())return;var z=l.getLine(u.line),aa=z.length-s[0].length;if(q(z.slice(aa))!=r[0])return;var ba=i(u.line,aa);for(var x=u.line+1,y=1;y<v;++y,++x)if(r[y]!=q(l.getLine(x)))return;if(q(l.getLine(x).slice(0,s[v].length))!=r[v])return;return {from:ba,to:i(x,s[v].length)};}};}}}j.prototype={findNext:function(){return this.find(false);},findPrevious:function(){return this.find(true);},find:function(l){var m=this,n=this.doc.clipPos(l?this.pos.from:this.pos.to);function o(q){var r=i(q,0);m.pos={from:r,to:r};m.atOccurrence=false;return false;}for(;;){if(this.pos=this.matches(l,n)){this.atOccurrence=true;return this.pos.match||true;}if(l){if(!n.line)return o(0);n=i(n.line-1,this.doc.getLine(n.line-1).length);}else{var p=this.doc.lineCount();if(n.line==p-1)return o(p);n=i(n.line+1,0);}}},from:function(){if(this.atOccurrence)return this.pos.from;},to:function(){if(this.atOccurrence)return this.pos.to;},replace:function(l){if(!this.atOccurrence)return;var m=h.splitLines(l);this.doc.replaceRange(m,this.pos.from,this.pos.to);this.pos.to=i(this.pos.from.line+m.length-1,m[m.length-1].length+(m.length==1?this.pos.from.ch:0));}};function k(l,m,n){if(l.length==m.length)return n;for(var o=Math.min(n,l.length);;){var p=l.slice(0,o).toLowerCase().length;if(p<n){++o;}else if(p>n){--o;}else return o;}}h.defineExtension("getSearchCursor",function(l,m,n){return new j(this.doc,l,m,n);});h.defineDocExtension("getSearchCursor",function(l,m,n){return new j(this,l,m,n);});h.defineExtension("selectMatches",function(l,m){var n=[],o,p=this.getSearchCursor(l,this.getCursor("from"),m);while(o=p.findNext()){if(h.cmpPos(p.to(),this.getCursor("to"))>0)break;n.push({anchor:p.from(),head:p.to()});}if(n.length)this.setSelections(n,0);});},null,{});
__d("CodeMirror4AddonDialog",["CodeMirror4"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c('CodeMirror4');function i(k,l,m){var n=k.getWrapperElement(),o;o=n.appendChild(document.createElement("div"));if(m){o.className="CodeMirror-dialog CodeMirror-dialog-bottom";}else o.className="CodeMirror-dialog CodeMirror-dialog-top";if(typeof l=="string"){o.innerHTML=l;}else o.appendChild(l);return o;}function j(k,l){if(k.state.currentNotificationClose)k.state.currentNotificationClose();k.state.currentNotificationClose=l;}h.defineExtension("openDialog",function(k,l,m){if(!m)m={};j(this,null);var n=i(this,k,m.bottom),o=false,p=this;function q(t){if(typeof t=='string'){r.value=t;}else{if(o)return;o=true;n.parentNode.removeChild(n);p.focus();if(m.onClose)m.onClose(n);}}var r=n.getElementsByTagName("input")[0],s;if(r){if(m.value)r.value=m.value;if(m.onInput)h.on(r,"input",function(t){m.onInput(t,r.value,q);});if(m.onKeyUp)h.on(r,"keyup",function(t){m.onKeyUp(t,r.value,q);});h.on(r,"keydown",function(t){if(m&&m.onKeyDown&&m.onKeyDown(t,r.value,q))return;if(t.keyCode==27||(m.closeOnEnter!==false&&t.keyCode==13)){r.blur();h.e_stop(t);q();}if(t.keyCode==13)l(r.value);});if(m.closeOnBlur!==false)h.on(r,"blur",q);r.focus();}else if(s=n.getElementsByTagName("button")[0]){h.on(s,"click",function(){q();p.focus();});if(m.closeOnBlur!==false)h.on(s,"blur",q);s.focus();}return q;});h.defineExtension("openConfirm",function(k,l,m){j(this,null);var n=i(this,k,m&&m.bottom),o=n.getElementsByTagName("button"),p=false,q=this,r=1;function s(){if(p)return;p=true;n.parentNode.removeChild(n);q.focus();}o[0].focus();for(var t=0;t<o.length;++t){var u=o[t];(function(v){h.on(u,"click",function(w){h.e_preventDefault(w);s();if(v)v(q);});})(l[t]);h.on(u,"blur",function(){--r;setTimeout(function(){if(r<=0)s();},200);});h.on(u,"focus",function(){++r;});}});h.defineExtension("openNotification",function(k,l){j(this,q);var m=i(this,k,l&&l.bottom),n=false,o,p=l&&typeof l.duration!=="undefined"?l.duration:5000;function q(){if(n)return;n=true;clearTimeout(o);m.parentNode.removeChild(m);}h.on(m,'click',function(r){h.e_preventDefault(r);q();});if(p)o=setTimeout(q,p);return q;});},null,{});
/**
 * @preserve-header
 * CodeMirror, copyright (c) by Marijn Haverbeke and others
 * Distributed under an MIT license: http://codemirror.net/LICENSE
 * @providesModule CodeMirror4AddonFormatting
 */__d("CodeMirror4AddonFormatting",["CodeMirror4"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c('CodeMirror4');if(!h.modeExtensions)h.modeExtensions={};h.defineExtension("getModeExt",function(){var i=h.resolveMode(this.getOption("mode")).name,j=h.modeExtensions[i];if(!j)throw new Error("No extensions found for mode "+i);return j;});h.defineExtension("getModeExtAtPos",function(i){var j=this.getTokenAt(i);if(j&&j.state&&j.state.mode){return h.modeExtensions[j.state.mode=="html"?"htmlmixed":j.state.mode];}else return this.getModeExt();});h.defineExtension("commentRange",function(i,j,k){var l=this.getModeExtAtPos(this.getCursor());if(i){var m=this.getRange(j,k);this.replaceRange(l.commentStart+this.getRange(j,k)+l.commentEnd,j,k);if(j.line==k.line&&j.ch==k.ch)this.setCursor(j.line,j.ch+l.commentStart.length);}else{var n=this.getRange(j,k),o=n.indexOf(l.commentStart),p=n.lastIndexOf(l.commentEnd);if(o>-1&&p>-1&&p>o)n=n.substr(0,o)+n.substring(o+l.commentStart.length,p)+n.substr(p+l.commentEnd.length);this.replaceRange(n,j,k);}});h.defineExtension("autoIndentRange",function(i,j){var k=this;this.operation(function(){for(var l=i.line;l<=j.line;l++)k.indentLine(l,"smart");});});h.defineExtension("autoFormatRange",function(i,j){var k=this.indexFromPos(i),l=this.indexFromPos(j),m=this.getModeExt().autoFormatLineBreaks(this.getValue(),k,l),n=this;this.operation(function(){n.replaceRange(m,i,j);var o=n.posFromIndex(k).line,p=n.posFromIndex(k+m.length).line;for(var q=o;q<=p;q++)n.indentLine(q,"smart");});});h.modeExtensions.css={commentStart:"/*",commentEnd:"*/",wordWrapChars:[";","\\{","\\}"],autoFormatLineBreaks:function(i,j,k){i=i.substring(j,k);return i.replace(new RegExp("(;|\\{|\\})([^\r\n])","g"),"$1\n$2");}};h.modeExtensions.javascript={commentStart:"/*",commentEnd:"*/",wordWrapChars:[";","\\{","\\}"],getNonBreakableBlocks:function(i){var j=[new RegExp("for\\s*?\\(([\\s\\S]*?)\\)"),new RegExp("\\\\\"([\\s\\S]*?)(\\\\\"|$)"),new RegExp("\\\\\'([\\s\\S]*?)(\\\\\'|$)"),new RegExp("'([\\s\\S]*?)('|$)"),new RegExp("\"([\\s\\S]*?)(\"|$)"),new RegExp("//.*([\r\n]|$)")],k=new Array();for(var l=0;l<j.length;l++){var m=0;while(m<i.length){var n=i.substr(m).match(j[l]);if(n!=null){k.push({start:m+n.index,end:m+n.index+n[0].length});m+=n.index+Math.max(1,n[0].length);}else break;}}k.sort(function(o,p){return o.start-p.start;});return k;},autoFormatLineBreaks:function(i,j,k){i=i.substring(j,k);var l=0,m=new RegExp("(;|\\{|\\})([^\r\n])","g"),n=this.getNonBreakableBlocks(i);if(n!=null){var o="";for(var p=0;p<n.length;p++){if(n[p].start>l){o+=i.substring(l,n[p].start).replace(m,"$1\n$2");l=n[p].start;}if(n[p].start<=l&&n[p].end>=l){o+=i.substring(l,n[p].end);l=n[p].end;}}if(l<i.length-1)o+=i.substr(l).replace(m,"$1\n$2");return o;}else return i.replace(m,"$1\n$2");}};h.modeExtensions.xml={commentStart:"<!--",commentEnd:"-->",wordWrapChars:[">"],autoFormatLineBreaks:function(i,j,k){i=i.substring(j,k);var l=i.split("\n"),m=new RegExp("(^\\s*?<|^[^<]*?)(.+)(>\\s*?$|[^>]*?$)"),n=new RegExp("<","g"),o=new RegExp("(>)([^\r\n])","g");for(var p=0;p<l.length;p++){var q=l[p].match(m);if(q!=null&&q.length>3){l[p]=q[1]+q[2].replace(n,"\n$&").replace(o,"$1\n$2")+q[3];continue;}}return l.join("\n");}};h.modeExtensions.htmlmixed={commentStart:"<!--",commentEnd:"-->",wordWrapChars:[">",";","\\{","\\}"],getModeInfos:function(i,j){var k=new Array();k[0]={pos:0,modeExt:h.modeExtensions.xml,modeName:"xml"};var l=new Array();l[0]={regex:new RegExp("<style[^>]*>([\\s\\S]*?)(</style[^>]*>|$)","i"),modeExt:h.modeExtensions.css,modeName:"css"};l[1]={regex:new RegExp("<script[^>]*>([\\s\\S]*?)(</script[^>]*>|$)","i"),modeExt:h.modeExtensions.javascript,modeName:"javascript"};var m=(typeof(j)!=="undefined"?j:i.length-1);for(var n=0;n<l.length;n++){var o=0;while(o<=m){var p=i.substr(o).match(l[n].regex);if(p!=null){if(p.length>1&&p[1].length>0){var q=o+p.index+p[0].indexOf(p[1]);k.push({pos:q,modeExt:l[n].modeExt,modeName:l[n].modeName});k.push({pos:q+p[1].length,modeExt:k[0].modeExt,modeName:k[0].modeName});o+=p.index+p[0].length;continue;}else o+=p.index+Math.max(p[0].length,1);}else break;}}k.sort(function r(s,t){return s.pos-t.pos;});return k;},autoFormatLineBreaks:function(i,j,k){var l=this.getModeInfos(i),m=new RegExp("^\\s*?\n"),n=new RegExp("\n\\s*?$"),o="";if(l.length>1){for(var p=1;p<=l.length;p++){var q=l[p-1].pos,r=(p<l.length?l[p].pos:k);if(q>=k)break;if(q<j){if(r<=j)continue;q=j;}if(r>k)r=k;var s=i.substring(q,r);if(l[p-1].modeName!="xml"){if(!m.test(s)&&q>0)s="\n"+s;if(!n.test(s)&&r<i.length-1)s+="\n";}o+=l[p-1].modeExt.autoFormatLineBreaks(s);}}else o=l[0].modeExt.autoFormatLineBreaks(i.substring(j,k));return o;}};},null,{});
__d("CodeMirror4AddonDisplayPlaceholder",["CodeMirror4"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c('CodeMirror4');h.defineOption("placeholder","",function(n,o,p){var q=p&&p!=h.Init;if(o&&!q){n.on("blur",k);n.on("change",l);l(n);}else if(!o&&q){n.off("blur",k);n.off("change",l);i(n);var r=n.getWrapperElement();r.className=r.className.replace(" CodeMirror-empty","");}if(o&&!n.hasFocus())k(n);});function i(n){if(n.state.placeholder){n.state.placeholder.parentNode.removeChild(n.state.placeholder);n.state.placeholder=null;}}function j(n){i(n);var o=n.state.placeholder=document.createElement("pre");o.style.cssText="height: 0; overflow: visible";o.className="CodeMirror-placeholder";o.appendChild(document.createTextNode(n.getOption("placeholder")));n.display.lineSpace.insertBefore(o,n.display.lineSpace.firstChild);}function k(n){if(m(n))j(n);}function l(n){var o=n.getWrapperElement(),p=m(n);o.className=o.className.replace(" CodeMirror-empty","")+(p?" CodeMirror-empty":"");if(p){j(n);}else i(n);}function m(n){return (n.lineCount()===1)&&(n.getLine(0)==="");}},null,{});
__d("CodeMirror4AddonSelectionActive-line",["CodeMirror4"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c('CodeMirror4');"use strict";var i="CodeMirror-activeline",j="CodeMirror-activeline-background";h.defineOption("styleActiveLine",false,function(o,p,q){var r=q&&q!=h.Init;if(p&&!r){o.state.activeLines=[];m(o,o.listSelections());o.on("beforeSelectionChange",n);}else if(!p&&r){o.off("beforeSelectionChange",n);k(o);delete o.state.activeLines;}});function k(o){for(var p=0;p<o.state.activeLines.length;p++){o.removeLineClass(o.state.activeLines[p],"wrap",i);o.removeLineClass(o.state.activeLines[p],"background",j);}}function l(o,p){if(o.length!=p.length)return false;for(var q=0;q<o.length;q++)if(o[q]!=p[q])return false;return true;}function m(o,p){var q=[];for(var r=0;r<p.length;r++){var s=p[r];if(!s.empty())continue;var t=o.getLineHandleVisualStart(s.head.line);if(q[q.length-1]!=t)q.push(t);}if(l(o.state.activeLines,q))return;o.operation(function(){k(o);for(var u=0;u<q.length;u++){o.addLineClass(q[u],"wrap",i);o.addLineClass(q[u],"background",j);}o.state.activeLines=q;});}function n(o,p){m(o,p.ranges);}},null,{});
__d("CodeMirror4AddonSelectionMark-selection",["CodeMirror4"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c('CodeMirror4');"use strict";h.defineOption("styleSelectedText",false,function(r,s,t){var u=t&&t!=h.Init;if(s&&!u){r.state.markedSelection=[];r.state.markedSelectionStyle=typeof s=="string"?s:"CodeMirror-selectedtext";p(r);r.on("cursorActivity",i);r.on("change",j);}else if(!s&&u){r.off("cursorActivity",i);r.off("change",j);o(r);r.state.markedSelection=r.state.markedSelectionStyle=null;}});function i(r){r.operation(function(){q(r);});}function j(r){if(r.state.markedSelection.length)r.operation(function(){o(r);});}var k=8,l=h.Pos,m=h.cmpPos;function n(r,s,t,u){if(m(s,t)==0)return;var v=r.state.markedSelection,w=r.state.markedSelectionStyle;for(var x=s.line;;){var y=x==s.line?s:l(x,0),z=x+k,aa=z>=t.line,ba=aa?t:l(z,0),ca=r.markText(y,ba,{className:w});if(u==null){v.push(ca);}else v.splice(u++,0,ca);if(aa)break;x=z;}}function o(r){var s=r.state.markedSelection;for(var t=0;t<s.length;++t)s[t].clear();s.length=0;}function p(r){o(r);var s=r.listSelections();for(var t=0;t<s.length;t++)n(r,s[t].from(),s[t].to());}function q(r){if(!r.somethingSelected())return o(r);if(r.listSelections().length>1)return p(r);var s=r.getCursor("start"),t=r.getCursor("end"),u=r.state.markedSelection;if(!u.length)return n(r,s,t);var v=u[0].find(),w=u[u.length-1].find();if(!v||!w||t.line-s.line<k||m(s,w.to)>=0||m(t,v.from)<=0)return p(r);while(m(s,v.from)>0){u.shift().clear();v=u[0].find();}if(m(s,v.from)<0)if(v.to.line-s.line<k){u.shift().clear();n(r,s,v.to,0);}else n(r,s,v.from,0);while(m(t,w.to)<0){u.pop().clear();w=u[u.length-1].find();}if(m(t,w.to)>0)if(t.line-w.from.line<k){u.pop().clear();n(r,w.from,t);}else n(r,w.to,t);}},null,{});
__d("CodeMirror4AddonFoldFoldcode",["CodeMirror4"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c('CodeMirror4');"use strict";function i(m,n,o,p){if(o&&o.call){var q=o;o=null;}else var q=l(m,o,"rangeFinder");if(typeof n=="number")n=h.Pos(n,0);var r=l(m,o,"minFoldSize");function s(w){var x=q(m,n);if(!x||x.to.line-x.from.line<r)return null;var y=m.findMarksAt(x.from);for(var z=0;z<y.length;++z)if(y[z].__isFold&&p!=="fold"){if(!w)return null;x.cleared=true;y[z].clear();}return x;}var t=s(true);if(l(m,o,"scanUp"))while(!t&&n.line>m.firstLine()){n=h.Pos(n.line-1,0);t=s(false);}if(!t||t.cleared||p==="unfold")return;var u=j(m,o);h.on(u,"mousedown",function(w){v.clear();h.e_preventDefault(w);});var v=m.markText(t.from,t.to,{replacedWith:u,clearOnEnter:true,__isFold:true});v.on("clear",function(w,x){h.signal(m,"unfold",m,w,x);});h.signal(m,"fold",m,t.from,t.to);}function j(m,n){var o=l(m,n,"widget");if(typeof o=="string"){var p=document.createTextNode(o);o=document.createElement("span");o.appendChild(p);o.className="CodeMirror-foldmarker";}return o;}h.newFoldFunction=function(m,n){return function(o,p){i(o,p,{rangeFinder:m,widget:n});};};h.defineExtension("foldCode",function(m,n,o){i(this,m,n,o);});h.defineExtension("isFolded",function(m){var n=this.findMarksAt(m);for(var o=0;o<n.length;++o)if(n[o].__isFold)return true;});h.commands.toggleFold=function(m){m.foldCode(m.getCursor());};h.commands.fold=function(m){m.foldCode(m.getCursor(),null,"fold");};h.commands.unfold=function(m){m.foldCode(m.getCursor(),null,"unfold");};h.commands.foldAll=function(m){m.operation(function(){for(var n=m.firstLine(),o=m.lastLine();n<=o;n++)m.foldCode(h.Pos(n,0),null,"fold");});};h.commands.unfoldAll=function(m){m.operation(function(){for(var n=m.firstLine(),o=m.lastLine();n<=o;n++)m.foldCode(h.Pos(n,0),null,"unfold");});};h.registerHelper("fold","combine",function(){var m=Array.prototype.slice.call(arguments,0);return function(n,o){for(var p=0;p<m.length;++p){var q=m[p](n,o);if(q)return q;}};});h.registerHelper("fold","auto",function(m,n){var o=m.getHelpers(n,"fold");for(var p=0;p<o.length;p++){var q=o[p](m,n);if(q)return q;}});var k={rangeFinder:h.fold.auto,widget:"\u2194",minFoldSize:0,scanUp:false};h.defineOption("foldOptions",null);function l(m,n,o){if(n&&n[o]!==undefined)return n[o];var p=m.options.foldOptions;if(p&&p[o]!==undefined)return p[o];return k[o];}},null,{});
__d("CodeMirror4AddonDisplayAutorefresh",["CodeMirror4"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c('CodeMirror4');"use strict";h.defineOption("autoRefresh",false,function(k,l){if(k.state.autoRefresh){j(k,k.state.autoRefresh);k.state.autoRefresh=null;}if(l&&k.display.wrapper.offsetHeight==0)i(k,k.state.autoRefresh={delay:l.delay||250});});function i(k,l){function m(){if(k.display.wrapper.offsetHeight){j(k,l);if(k.display.lastWrapHeight!=k.display.wrapper.clientHeight)k.refresh();}else l.timeout=setTimeout(m,l.delay);}l.timeout=setTimeout(m,l.delay);l.hurry=function(){clearTimeout(l.timeout);l.timeout=setTimeout(m,50);};h.on(window,"mouseup",l.hurry);h.on(window,"keyup",l.hurry);}function j(k,l){if(k.options.autofocus)k.display.input.focus();clearTimeout(l.timeout);h.off(window,"mouseup",l.hurry);h.off(window,"keyup",l.hurry);}},null,{});
__d("CodeMirror4AddonSearch",["CodeMirror4","CodeMirror4AddonSearchSearchcursor","CodeMirror4AddonDialog"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c('CodeMirror4');c('CodeMirror4AddonSearchSearchcursor');c('CodeMirror4AddonDialog');"use strict";function i(y,z){if(typeof y=="string"){y=new RegExp(y.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),z?"gi":"g");}else if(!y.global)y=new RegExp(y.source,y.ignoreCase?"gi":"g");return {token:function(aa){y.lastIndex=aa.pos;var ba=y.exec(aa.string);if(ba&&ba.index==aa.pos){aa.pos+=ba[0].length;return "searching";}else if(ba){aa.pos=ba.index;}else aa.skipToEnd();}};}function j(){this.posFrom=this.posTo=this.query=null;this.overlay=null;}function k(y){return y.state.search||(y.state.search=new j());}function l(y){return typeof y=="string"&&y==y.toLowerCase();}function m(y,z,aa){return y.getSearchCursor(z,aa,l(z));}function n(y,z,aa,ba,ca){if(y.openDialog){y.openDialog(z,ca,{value:ba});}else ca(prompt(aa,ba));}function o(y,z,aa,ba){if(y.openConfirm){y.openConfirm(z,ba);}else if(confirm(aa))ba[0]();}function p(y){var z=y.match(/^\/(.*)\/([a-z]*)$/);if(z){y=new RegExp(z[1],z[2].indexOf("i")==-1?"":"i");if(y.test(""))y=/x^/;}else if(y=="")y=/x^/;return y;}var q='Search: <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>';function r(y,z){var aa=k(y);if(aa.query)return s(y,z);n(y,q,"Search for:",y.getSelection(),function(ba){y.operation(function(){if(!ba||aa.query)return;aa.query=p(ba);y.removeOverlay(aa.overlay,l(aa.query));aa.overlay=i(aa.query,l(aa.query));y.addOverlay(aa.overlay);aa.posFrom=aa.posTo=y.getCursor();s(y,z);});});}function s(y,z){y.operation(function(){var aa=k(y),ba=m(y,aa.query,z?aa.posFrom:aa.posTo);if(!ba.find(z)){ba=m(y,aa.query,z?h.Pos(y.lastLine()):h.Pos(y.firstLine(),0));if(!ba.find(z))return;}y.setSelection(ba.from(),ba.to());y.scrollIntoView({from:ba.from(),to:ba.to()});aa.posFrom=ba.from();aa.posTo=ba.to();});}function t(y){y.operation(function(){var z=k(y);if(!z.query)return;z.query=null;y.removeOverlay(z.overlay);});}var u='Replace: <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>',v='With: <input type="text" style="width: 10em" class="CodeMirror-search-field"/>',w="Replace? <button>Yes</button> <button>No</button> <button>Stop</button>";function x(y,z){if(y.getOption("readOnly"))return;n(y,u,"Replace:",y.getSelection(),function(aa){if(!aa)return;aa=p(aa);n(y,v,"Replace with:","",function(ba){if(z){y.operation(function(){for(var fa=m(y,aa);fa.findNext();)if(typeof aa!="string"){var ga=y.getRange(fa.from(),fa.to()).match(aa);fa.replace(ba.replace(/\$(\d)/g,function(ha,ia){return ga[ia];}));}else fa.replace(ba);});}else{t(y);var ca=m(y,aa,y.getCursor()),da=function(){var fa=ca.from(),ga;if(!(ga=ca.findNext())){ca=m(y,aa);if(!(ga=ca.findNext())||(fa&&ca.from().line==fa.line&&ca.from().ch==fa.ch))return;}y.setSelection(ca.from(),ca.to());y.scrollIntoView({from:ca.from(),to:ca.to()});o(y,w,"Replace?",[function(){ea(ga);},da]);},ea=function(fa){ca.replace(typeof aa=="string"?ba:ba.replace(/\$(\d)/g,function(ga,ha){return fa[ha];}));da();};da();}});});}h.commands.find=function(y){t(y);r(y);};h.commands.findNext=r;h.commands.findPrev=function(y){r(y,true);};h.commands.clearSearch=t;h.commands.replace=x;h.commands.replaceAll=function(y){x(y,true);};},null,{});
__d('FacebookCodeMirror4',['CodeMirror4','cx','CodeMirror4ModeClike','CodeMirror4ModeCss','CodeMirror4ModeGfm','CodeMirror4ModeHaskell','CodeMirror4ModeHtmlmixed','CodeMirror4ModeJavascript','CodeMirror4ModeMarkdown','CodeMirror4ModePhp','CodeMirror4ModePython','CodeMirror4ModeXml','CodeMirror4ModeShell','CodeMirror4ModeSql','CodeMirror4AddonSearchSearchcursor','CodeMirror4AddonDialog','CodeMirror4AddonFormatting','CodeMirror4AddonDisplayPlaceholder','CodeMirror4AddonSelectionActive-line','CodeMirror4AddonSelectionMark-selection','CodeMirror4AddonFoldFoldcode','CodeMirror4AddonDisplayAutorefresh','CodeMirror4AddonSearch'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();c('CodeMirror4ModeClike');c('CodeMirror4ModeCss');c('CodeMirror4ModeGfm');c('CodeMirror4ModeHaskell');c('CodeMirror4ModeHtmlmixed');c('CodeMirror4ModeJavascript');c('CodeMirror4ModeMarkdown');c('CodeMirror4ModePhp');c('CodeMirror4ModePython');c('CodeMirror4ModeXml');c('CodeMirror4ModeShell');c('CodeMirror4ModeSql');c('CodeMirror4AddonSearchSearchcursor');c('CodeMirror4AddonDialog');c('CodeMirror4AddonFormatting');c('CodeMirror4AddonDisplayPlaceholder');c('CodeMirror4AddonSelectionActive-line');c('CodeMirror4AddonSelectionMark-selection');c('CodeMirror4AddonFoldFoldcode');c('CodeMirror4AddonDisplayAutorefresh');var j=function(k,l,m,n){this.elem=k;l.extraKeys=babelHelpers._extends({},l.extraKeys,{'Ctrl-I':this.indentSelection.bind(this)});if(l.mode==='json')l.mode={name:'javascript',json:true};l.autoRefresh=true;this.codemirror=h.fromTextArea(k,l);if(!l.disableFancySearch){c('CodeMirror4AddonSearch');this.codemirror.search=function(o){h.commands.search(this.codemirror,o);};}if(l.tabSpaces===true)this.codemirror.setOption("extraKeys",{Tab:function(o){var p=Array(o.getOption("indentUnit")+1).join(" ");o.replaceSelection(p);}});this.codemirror.gotoLine=(function(o){this.codemirror.setCursor({line:o-1});}).bind(this);this.codemirror.setOption('onChange',function(){k.onchange&&k.onchange();});n=Math.max(m,n);this.codemirror.gotoLine(n);this.codemirror.gotoLine(m);if(m)this.codemirror.setSelection({line:m-1,ch:0},{line:n-1});};Object.assign(j.prototype,{indentSelection:function(){var k=this.getSelectedRange();for(var l=k.from.line;l<=k.to.line;l++)this.codemirror.indentLine(l);},getSelectedRange:function(){return {from:this.codemirror.getCursor(true),to:this.codemirror.getCursor(false)};}});f.exports=j;},null);
__d("CodeMirror4ModeMeta",["CodeMirror4"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c('CodeMirror4');"use strict";h.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl"},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk"},{name:"C",mime:"text/x-csrc",mode:"clike"},{name:"C++",mime:"text/x-c++src",mode:"clike"},{name:"Cobol",mime:"text/x-cobol",mode:"cobol"},{name:"Java",mime:"text/x-java",mode:"clike"},{name:"C#",mime:"text/x-csharp",mode:"clike"},{name:"Scala",mime:"text/x-scala",mode:"clike"},{name:"Clojure",mime:"text/x-clojure",mode:"clojure"},{name:"CoffeeScript",mime:"text/x-coffeescript",mode:"coffeescript"},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp"},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher"},{name:"CSS",mime:"text/css",mode:"css"},{name:"D",mime:"text/x-d",mode:"d"},{name:"diff",mime:"text/x-diff",mode:"diff"},{name:"DTD",mime:"application/xml-dtd",mode:"dtd"},{name:"Dylan",mime:"text/x-dylan",mode:"dylan"},{name:"ECL",mime:"text/x-ecl",mode:"ecl"},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel"},{name:"Erlang",mime:"text/x-erlang",mode:"erlang"},{name:"Fortran",mime:"text/x-fortran",mode:"fortran"},{name:"F#",mime:"text/x-fsharp",mode:"mllike"},{name:"Gas",mime:"text/x-gas",mode:"gas"},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin"},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm"},{name:"Go",mime:"text/x-go",mode:"go"},{name:"Groovy",mime:"text/x-groovy",mode:"groovy"},{name:"HAML",mime:"text/x-haml",mode:"haml"},{name:"Haskell",mime:"text/x-haskell",mode:"haskell"},{name:"Haxe",mime:"text/x-haxe",mode:"haxe"},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded"},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded"},{name:"JavaServer Pages",mime:"application/x-jsp",mode:"htmlembedded"},{name:"HTML",mime:"text/html",mode:"htmlmixed"},{name:"HTTP",mime:"message/http",mode:"http"},{name:"Jade",mime:"text/x-jade",mode:"jade"},{name:"JavaScript",mime:"text/javascript",mode:"javascript"},{name:"JavaScript",mime:"application/javascript",mode:"javascript"},{name:"JSON",mime:"application/x-json",mode:"javascript"},{name:"JSON",mime:"application/json",mode:"javascript"},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript"},{name:"TypeScript",mime:"application/typescript",mode:"javascript"},{name:"Jinja2",mime:null,mode:"jinja2"},{name:"Julia",mime:"text/x-julia",mode:"julia"},{name:"Kotlin",mime:"text/x-kotlin",mode:"kotlin"},{name:"LESS",mime:"text/x-less",mode:"css"},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript"},{name:"Lua",mime:"text/x-lua",mode:"lua"},{name:"Markdown (GitHub-flavour)",mime:"text/x-markdown",mode:"markdown"},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"Modelica",mime:"text/x-modelica",mode:"modelica"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx"},{name:"NTriples",mime:"text/n-triples",mode:"ntriples"},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike"},{name:"Octave",mime:"text/x-octave",mode:"octave"},{name:"Pascal",mime:"text/x-pascal",mode:"pascal"},{name:"PEG.js",mime:null,mode:"pegjs"},{name:"Perl",mime:"text/x-perl",mode:"perl"},{name:"PHP",mime:"text/x-php",mode:"php"},{name:"PHP(HTML)",mime:"application/x-httpd-php",mode:"php"},{name:"Pig",mime:"text/x-pig",mode:"pig"},{name:"Plain Text",mime:"text/plain",mode:"null"},{name:"Properties files",mime:"text/x-properties",mode:"properties"},{name:"Python",mime:"text/x-python",mode:"python"},{name:"Puppet",mime:"text/x-puppet",mode:"puppet"},{name:"Cython",mime:"text/x-cython",mode:"python"},{name:"R",mime:"text/x-rsrc",mode:"r"},{name:"reStructuredText",mime:"text/x-rst",mode:"rst"},{name:"Ruby",mime:"text/x-ruby",mode:"ruby"},{name:"Rust",mime:"text/x-rustsrc",mode:"rust"},{name:"Sass",mime:"text/x-sass",mode:"sass"},{name:"Scheme",mime:"text/x-scheme",mode:"scheme"},{name:"SCSS",mime:"text/x-scss",mode:"css"},{name:"Shell",mime:"text/x-sh",mode:"shell"},{name:"Sieve",mime:"application/sieve",mode:"sieve"},{name:"Slim",mime:"text/x-slim",mode:"slim"},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk"},{name:"Smarty",mime:"text/x-smarty",mode:"smarty"},{name:"SmartyMixed",mime:"text/x-smarty",mode:"smartymixed"},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SPARQL",mime:"application/x-sparql-query",mode:"sparql"},{name:"SQL",mime:"text/x-sql",mode:"sql"},{name:"MariaDB",mime:"text/x-mariadb",mode:"sql"},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex"},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog"},{name:"Tcl",mime:"text/x-tcl",mode:"tcl"},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml"},{name:"Turtle",mime:"text/turtle",mode:"turtle"},{name:"VB.NET",mime:"text/x-vb",mode:"vb"},{name:"VBScript",mime:"text/vbscript",mode:"vbscript"},{name:"Velocity",mime:"text/velocity",mode:"velocity"},{name:"Verilog",mime:"text/x-verilog",mode:"verilog"},{name:"XML",mime:"application/xml",mode:"xml"},{name:"XQuery",mime:"application/xquery",mode:"xquery"},{name:"YAML",mime:"text/x-yaml",mode:"yaml"},{name:"Z80",mime:"text/x-z80",mode:"z80"}];},null,{});
__d('CodeMirror4.react',['CodeMirror4','DOM','FacebookCodeMirror4','immutable','React','ReactDOM','ReactComponentWithPureRenderMixin','CodeMirror4ModeMeta'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=l.PropTypes;c('CodeMirror4ModeMeta');var p=h.modeInfo.map(function(r){var s=r.mime;return s;}),q=l.createClass({displayName:'CodeMirror4',_codeMirror:null,mixins:[n],propTypes:{value:o.string.isRequired,mode:o.oneOf(p).isRequired,name:o.string,codeMirrorOpts:o.object,codeMirrorAddonOpts:o.object,onChange:o.func},getInitialState:function(){var r=[];return {highlightedErrors:k.List(),errorLineWidgets:r,foldLineWidgets:{},codeMirrorOpts:babelHelpers._extends({lineNumbers:true,lineWrapping:false,readOnly:false,smartIndent:true,tabSize:2,styleActiveLine:false},this.props.codeMirrorOpts),codeMirrorAddonOpts:babelHelpers._extends({allowTabs:false,typeaheadWords:[],markupErrors:k.List(),placeholder:null,expands:false},this.props.codeMirrorAddonOpts)};},componentWillReceiveProps:function(r){if(this._codeMirror.getValue()==r.value){var s=r.codeMirrorAddonOpts;if(s&&s.markupErrors&&!s.markupErrors.equals(this.state.highlightedErrors)){this._highlightErrors(s.markupErrors);this.setState({highlightedErrors:s.markupErrors});}return;}this._codeMirror.setValue(r.value);},componentDidMount:function(){var r=babelHelpers._extends({},this.state.codeMirrorOpts,{disableFancySearch:true,matchBrackets:true,indentWithTabs:false,mode:this.props.mode,indentUnit:this.state.codeMirrorOpts.tabSize}),s=new j(m.findDOMNode(this.refs.hiddenTextarea),r,0,0,this.state.codeMirrorAddonOpts.typeaheadWords);this._codeMirror=s.codemirror;this._codeMirror.on('change',this._handleChange);this._codeMirror.on('cursorActivity',this._handleChange);if(!this.state.codeMirrorAddonOpts.allowTabs)this._codeMirror.setOption('extraKeys',{Tab:function(t){var u=Array(t.getOption('indentUnit')+1).join(' ');t.replaceSelection(u,'end');}});if(this.state.codeMirrorOpts&&this.state.codeMirrorOpts.shouldFoldCode)this._foldCodeBetweenErrors();if(this.props.codeMirrorAddonOpts&&this.props.codeMirrorAddonOpts.markupErrors)this._highlightErrors(this.props.codeMirrorAddonOpts.markupErrors);},render:function(){var r=null;if(this.state.codeMirrorOpts.expands)r='CodeMirror-expanding';return (l.createElement('div',{className:r},l.createElement('textarea',{ref:'hiddenTextarea',defaultValue:this.props.value,name:this.props.name,placeholder:this.state.codeMirrorAddonOpts.placeholder})));},insertText:function(r,s,t){this._codeMirror.replaceRange(t,{line:r,ch:s});var u=t.split('\n'),v=t.length===1?s+t[0].length:t[t.length-1].length-1;this._codeMirror.setSelection({line:r,ch:s},{line:r+u.length-1,ch:v});},focusInput:function(){this._codeMirror.focus();},_handleChange:function(r){var s=r.getValue(),t=r.getCursor();if(this.props.onChange)this.props.onChange({value:s,cursor:t});},_highlightErrors:function(r){this.state.highlightedErrors.forEach((function(t){this._codeMirror.removeLineClass(t.line-1,'wrap',this.state.codeMirrorAddonOpts.markupErrorStyleNames[t.level]);}).bind(this));this.state.errorLineWidgets.forEach((function(t){return this._codeMirror.removeLineWidget(t);}).bind(this));var s=[];r.forEach((function(t){var u=i.create('div');u.appendChild(document.createTextNode(t.message));u.className='CodeMirror-linewidget-content';var v=this._codeMirror.addLineWidget(t.line-1,u,{coverGutter:true,noHScroll:false});s.push(v);this._codeMirror.addLineClass(t.line-1,'wrap',this.state.codeMirrorAddonOpts.markupErrorStyleNames[t.level]);}).bind(this));this.setState({errorLineWidgets:s});},_foldCodeBetweenErrors:function(){var r=this.state.codeMirrorAddonOpts;if(!r)return;var s={},t=4,u=t,v=r.markupErrors.sortBy(function(ba){return ba.line;});v.forEach(function(ba){if(ba.line-t>u)s[u]=ba.line-t;u=ba.line+t;});var w=this._codeMirror.lineCount()-1;if(u<w)s[u]=w;var x={};for(var y in s){y=parseInt(y,10);var z=s[y];this._codeMirror.foldCode(y,{rangeFinder:function(ba,ca){return {from:{line:y,ch:ba.getLine(y).length},to:{line:z,ch:ba.getLine(z).length}};},widget:''});var aa=i.create('div');aa.appendChild(document.createTextNode('...'));aa.className=r?r.markupErrorFoldStyleName:'';(function(ba,ca,da){aa.onclick=function(){ba.foldCode(ca,{rangeFinder:function(ea,fa){return {from:{line:ca,ch:ea.getLine(ca).length},to:{line:da,ch:ea.getLine(da).length}};},widget:''});};})(this._codeMirror,y,z);x[y]=this._codeMirror.addLineWidget(y,aa,{coverGutter:true,noHScroll:false});}this.setState({foldLineWidgets:x});this._codeMirror.on('unfold',(function(ba,ca){var da=this.state.foldLineWidgets;this._codeMirror.removeLineWidget(da[ca.line]);delete da[ca.line];this.setState({foldLineWidgets:da});}).bind(this));}});f.exports=q;},null);
__d('FixedDataTableAbstractSortableHeader.react',['React','cx','joinClasses','keyMirror'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes,m=k({ASC:null,DESC:null});function n(p){switch(p){case m.ASC:return m.DESC;default:return m.ASC;}}var o=h.createClass({displayName:'FixedDataTableAbstractSortableHeader',propTypes:{className:l.string,sorting:l.oneOf([m.ASC,m.DESC]),isSortDisabled:l.bool,onClick:l.func.isRequired},_onClick:function(p){var q=n(this.props.sorting);this.props.onClick(q,p);},render:function(){var p=this.props,q=p.children,r=p.className,s=p.sorting,t=p.isSortDisabled,u=babelHelpers.objectWithoutProperties(p,['children','className','sorting','isSortDisabled']),v="_54_8"+(t?' '+"_3w3t":'')+(!!s&&!t?' '+"_54_9":'')+(s===m.DESC&&!t?' '+"_5y6x":'');return (h.createElement('div',babelHelpers._extends({},u,{onClick:this._onClick,className:j(v,r)}),q));}});f.exports=o;},null);
__d('FixedDataTableSortableHeader.react',['FixedDataTableAbstractSortableHeader.react','Image.react','React','XUIError.react','cx','fbt','joinClasses','xuiglyph'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=j.createClass({displayName:'FixedDataTableSortableHeader',propTypes:babelHelpers._extends({},h.propTypes),render:function(){var q=this.props,r=q.className,s=babelHelpers.objectWithoutProperties(q,['className']),t=!!s.sorting&&s.isSortDisabled?this._getBlockIcon():null;return (j.createElement(h,babelHelpers._extends({className:n(r,"_2wzx")},s),j.createElement('div',{className:"_2eq6"},t,this.props.children)));},_getBlockIcon:function(){return (j.createElement(k,{xuiErrorPosition:'above',xuiError:m._("Please use the filters to narrow down the number of items to be sorted.")},j.createElement('span',{className:"_2wzy"},j.createElement(i,{className:"_2w-0",src:o({name:'block',shade:'light'})}),j.createElement(i,{className:"_2w-1",src:o({name:'block',shade:'dark'})}))));}});f.exports=p;},null);
__d('FBTableWithStickyHeader.react',['React','ReactDOM','StickyArea.react','XUITable.react','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=h.PropTypes,o=h.createClass({displayName:'FBTableWithStickyHeader',propTypes:{className:n.string,header:n.node.isRequired,outerBorder:n.bool,tableClassName:n.string},render:function(){return (h.createElement('div',{className:m("_5bf6",this.props.className)},h.createElement(j,null,h.createElement(k,{className:"_5bf8",outerBorder:this.props.outerBorder},h.createElement('thead',{'aria-hidden':'true'},this.props.header))),h.createElement(k,{className:m("_5bfe",this.props.tableClassName),style:{marginTop:-this.state.headerHeight},outerBorder:this.props.outerBorder},h.createElement('thead',{className:"_5bfi",ref:'dummyHeader'},this.props.header),this.props.children)));},getInitialState:function(){return {headerHeight:0};},componentDidMount:function(){this._reflowHeader();},componentDidUpdate:function(p,q){this._reflowHeader();},_reflowHeader:function(){var p=i.findDOMNode(this.refs.dummyHeader),q=p.offsetHeight;if(this.state.headerHeight!==q)this.setState({headerHeight:q});}});f.exports=o;},null);
__d('BUIPresetFilterModes',['React'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h.PropTypes,j={DRAWER:'drawer',POPOVER:'popover',propTypes:i.oneOf(['drawer','popover'])};f.exports=j;},null);
__d('BUIPresetFiltersHeader.react',['BUIPresetFilterModes','InlineBlock.react','React','cx'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.PropTypes,m=j.createClass({displayName:'BUIPresetFiltersHeader',propTypes:{headerKey:l.string,collapsed:l.bool,isAnyChecked:l.bool,isCollapsible:l.bool,mode:h.propTypes.isRequired,onCheckmarkClick:l.func.isRequired,onTextClick:l.func.isRequired},getDefaultProps:function(){return {mode:h.DRAWER};},render:function(){var n="_1h6i"+(!this.props.collapsed?' '+"_4x0n":''),o="_1h6e"+(this.props.collapsed&&this.props.isAnyChecked&&this.isDrawer()?' '+"_48wf":'')+(this.props.isAnyChecked&&this.isDrawer()?' '+"_1h6h":'');return (j.createElement('div',{className:n,onClick:this._onTextClick},j.createElement(i,{className:o,onClick:this.isDrawer()?this._onCheckmarkClick:null}),j.createElement(i,null,j.createElement('h3',{className:"_1h6k"},this.props.children,j.createElement(i,{className:"_1h6l"+(!this.props.isCollapsible?' '+"hidden_elem":'')})))));},isDrawer:function(){return this.props.mode===h.DRAWER;},_onTextClick:function(event){event.preventDefault();if(!this.props.isCollapsible)return;this.props.onTextClick(this.props.headerKey,!this.props.collapsed);},_onCheckmarkClick:function(event){event.preventDefault();this.props.onCheckmarkClick();}});f.exports=m;},null);
__d('BUIPopoverSection.react',['BUIPresetFilterModes','BUIPresetFiltersHeader.react','React','ReactComponentWithPureRenderMixin','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=j.PropTypes,o=j.createClass({displayName:'BUIPopoverSection',mixins:[k],propTypes:{className:n.string,id:n.string.isRequired,isAnyChecked:n.bool.isRequired,isCollapsible:n.bool.isRequired,isHidden:n.bool.isRequired,mode:h.propTypes.isRequired,onCheckmarkClick:n.func.isRequired,onTextClick:n.func.isRequired,renderItems:n.func.isRequired,title:n.string.isRequired},render:function(){return (j.createElement('div',{key:this.props.id,className:m(this.props.className,"_5q8-"+(this.props.isCollapsible?' '+"_1h0s":'')),onMouseDown:function(event){event.preventDefault();}},j.createElement(i,{collapsed:this.props.isHidden,isAnyChecked:this.props.isAnyChecked,isCollapsible:this.props.isCollapsible,mode:this.props.mode,onCheckmarkClick:this.props.onCheckmarkClick,onTextClick:this.props.onTextClick},this.props.title),!this.props.isHidden?this.props.renderItems():null,this.props.children));}});f.exports=o;},null);
__d('BUIPresetFiltersGroup',['ClientIDs'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=function(){return 0;};function j(k,l,m,n,o,p,q,r){this.$BUIPresetFiltersGroup1=k;this.$BUIPresetFiltersGroup2=l;this.$BUIPresetFiltersGroup3=m;this.$BUIPresetFiltersGroup4=n||0;this.$BUIPresetFiltersGroup5=o||i;this.$BUIPresetFiltersGroup6=p||h.getNewClientID();this.$BUIPresetFiltersGroup7=!!q;this.$BUIPresetFiltersGroup8=r===undefined?true:r;}j.prototype.getTitle=function(){return this.$BUIPresetFiltersGroup1;};j.prototype.getFilters=function(){return this.$BUIPresetFiltersGroup2;};j.prototype.getID=function(){return this.$BUIPresetFiltersGroup6;};j.prototype.getMaxItemCount=function(){return this.$BUIPresetFiltersGroup4;};j.prototype.doCompare=function(k,l){return this.$BUIPresetFiltersGroup5(k,l);};j.prototype.doOnChange=function(k,l,m){this.$BUIPresetFiltersGroup3(k,l,m);};j.prototype.isHidden=function(){return this.$BUIPresetFiltersGroup7;};j.prototype.isCollapsible=function(){return this.$BUIPresetFiltersGroup8;};f.exports=j;},null);
__d('BUIPresetFiltersSelectableItem.react',['BUIPresetFilterModes','InlineBlock.react','React','ReactLayeredComponentMixin','XUICloseButton.react','XUIContextualDialog.react','XUIContextualDialogBody.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=200,q=j.PropTypes,r=j.createClass({displayName:'BUIPresetFiltersSelectableItem',mixins:[k],propTypes:{mode:h.propTypes.isRequired,text:q.string},getDefaultProps:function(){return {mode:h.DRAWER,text:''};},renderLayers:function(){return this.props.showTooltip?j.createElement(m,{contextRef:(function(){return this.refs.button;}).bind(this),hoverContextRef:(function(){return this.refs.button;}).bind(this),hoverHideDelay:0,hoverShowDelay:0,offsetX:10,position:'left',width:p},j.createElement(n,null,this.props.tooltip)):null;},render:function(){var s=!!this.props.disabled,t=(!s?"_48wc":'')+(s?' '+"_48wd":''),u="_48we"+(this.props.checked?' '+"_48wf":''),v="_48wg"+(!!this.props.onDelete?' '+"_48wh":'')+(this.props.checked?' '+"_3tlh":''),w=s?null:this._onClick,x=!!this.props.onDelete?j.createElement(l,{className:"_48wi",size:'small',shade:this.isDrawer()?'dark':'light',onClick:this._onDelete}):null;return (j.createElement('li',{ref:'button',className:t,onClick:w},j.createElement(i,{className:u}),j.createElement(i,{className:v},this.props.text),x));},isDrawer:function(){return this.props.mode===h.DRAWER;},_onClick:function(event){event.preventDefault();this.props.onClick(!this.props.checked);},_onDelete:function(event){event.preventDefault();this.props.onDelete();}});f.exports=r;},null);
__d('BUIPresetFiltersUniqueItem.react',['InlineBlock.react','React','cx'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=i.PropTypes,l=i.createClass({displayName:'BUIPresetFiltersUniqueItem',propTypes:{label:k.node.isRequired,disabled:k.bool,onClick:k.func.isRequired},render:function(){var m=!!this.props.disabled,n="_2b1s"+(!m?' '+"_48wc":'')+(m?' '+"_48wd":'');return (i.createElement('div',{className:n,onClick:this._onClick},i.createElement(h,{className:"_48wg"},this.props.label)));},_onClick:function(event){if(this.props.disabled)return;event.preventDefault();this.props.onClick();}});f.exports=l;},null);
__d('BUIPresetFilters.react',['BUIPopoverSection.react','BUIPresetFilterModes','BUIPresetFiltersGroup','Image.react','ImmutableObject','BUIPresetFiltersSelectableItem.react','React','ReactComponentWithPureRenderMixin','BUIPresetFiltersUniqueItem.react','curry','cx','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=n.PropTypes,u=n.createClass({displayName:'BUIPresetFilters',mixins:[o],propTypes:{className:t.string,filterGroups:t.arrayOf(t.instanceOf(j)).isRequired,uniqueFilters:t.array,mode:i.propTypes.isRequired},getDefaultProps:function(){return {mode:i.DRAWER};},getInitialState:function(){return {selected:0};},render:function(){return (n.createElement('div',{className:(this.isDrawer()?"_1g0m":'')+(this.isPopover()?' '+"_1g0n":'')},this._renderSections(),this._renderUniqueFilters()));},_renderSections:function(){return this.props.filterGroups.map((function(x,y){return (n.createElement(v,{className:x.isCollapsible()?"_1h0s":'',group:x,key:x.getID(),mode:this.props.mode,isHidden:this.isDrawer()?undefined:this.state.selected!==y,onHeaderClick:this._onSectionHeaderClick.bind(this,y)}));}).bind(this));},_renderUniqueFilters:function(){if(!this.props.uniqueFilters)return null;return this.props.uniqueFilters.map(function(x,y){return n.createElement(p,babelHelpers._extends({},x,{key:y}));});},isDrawer:function(){return this.props.mode===i.DRAWER;},isPopover:function(){return this.props.mode===i.POPOVER;},_onSectionHeaderClick:function(x){if(!this.isPopover())return;var y=this.state.selected===x?{selected:undefined}:{selected:x};this.setState(y);}}),v=n.createClass({displayName:'Section',mixins:[o],propTypes:{group:t.instanceOf(j).isRequired,isHidden:t.bool,mode:i.propTypes.isRequired,onHeaderClick:t.func},getInitialState:function(){return this._calculateState(this.props,{});},componentWillReceiveProps:function(x){this.setState(this._calculateState(x,this.state));},_calculateState:function(x,y){var z=x.group,aa=x.isHidden!=null?x.isHidden:y.isHidden!=null?y.isHidden:z.isHidden(),ba={};if(z.getMaxItemCount()){var ca=z.getFilters().slice(0);ca.sort(z.doCompare.bind(z));ca.forEach(function(da,ea){ba[da.getID()]=ea+1;});}return {filterIDToRankMap:new l(ba),howManyToShow:y.howManyToShow||z.getMaxItemCount(),isHidden:aa};},_onHeaderClick:function(){this.setState({isHidden:!this.state.isHidden});this.props.onHeaderClick&&this.props.onHeaderClick();},_getSelectedFilters:function(x,y){return this.props.group.getFilters().filter(function(z){if(z.getID()===x.getID())return y;return z.isChecked();});},_onFilterClick:function(x){var y=!x.isChecked();this.props.group.doOnChange(this._getSelectedFilters(x,y),[x],y);},_onHeaderCheckmarkClick:function(){var x=false,y=[];this.props.group.getFilters().forEach(function(z){if(z.isChecked()){y.push(z);x=true;}});if(x)this.props.group.doOnChange([],y,false);},_renderItems:function(x){return (n.createElement('ul',{className:"_5q8z"},x.map((function(y){return (n.createElement(m,{checked:y.isChecked(),disabled:y.isDisabled(),key:y.getID(),mode:this.props.mode,onClick:q(this._onFilterClick,y),onDelete:y.canBeDeleted()?y.doOnDelete.bind(y):null,text:y.getText()}));}).bind(this))));},_renderShowMoreLink:function(x){return n.createElement(w,{group:x,onClick:this._onShowMoreLinkClick});},_onShowMoreLinkClick:function(x){var y=this.state.howManyToShow;y+=x.getMaxItemCount();this.setState({howManyToShow:y});},render:function(){var x=this.props.group,y=x.getFilters(),z=this.state.howManyToShow,aa=null,ba=z&&y.length>z;if(ba&&!this.state.isHidden){y=y.filter((function(ca){return this.state.filterIDToRankMap[ca.getID()]<=z;}).bind(this));aa=this._renderShowMoreLink(x);}return (n.createElement(h,{className:this.props.className,id:x.getID(),isHidden:this.state.isHidden,isAnyChecked:x.getFilters().some(function(ca){return ca.isChecked();}),isCollapsible:x.isCollapsible(),onCheckmarkClick:q(this._onHeaderCheckmarkClick,x),onTextClick:q(this._onHeaderClick,x),mode:this.props.mode,title:x.getTitle(),renderItems:q(this._renderItems,y)},aa));}}),w=n.createClass({displayName:'ShowMoreLink',propTypes:{group:t.instanceOf(j).isRequired},_onClick:function(event){event.preventDefault();this.props.onClick(this.props.group);},render:function(){return (n.createElement('div',{className:"_5q8_",onClick:this._onClick},n.createElement(k,{className:"_1jqd",src:s('images/deprecated/glyphs/dark/3-dots_s-2x.png')})));}});f.exports=u;},null);
__d('BUIPresetFiltersItem',['ClientIDs','invariant'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k,l,m,n,o,p){this.$BUIPresetFiltersItem1=k;this.$BUIPresetFiltersItem2=!!l;this.$BUIPresetFiltersItem3=!!m;this.$BUIPresetFiltersItem4=n;this.$BUIPresetFiltersItem5=o;this.$BUIPresetFiltersItem6=p||h.getNewClientID();}j.prototype.getText=function(){return this.$BUIPresetFiltersItem1;};j.prototype.isChecked=function(){return this.$BUIPresetFiltersItem2;};j.prototype.isDisabled=function(){return this.$BUIPresetFiltersItem3;};j.prototype.getFilterReference=function(){return this.$BUIPresetFiltersItem4;};j.prototype.getID=function(){return this.$BUIPresetFiltersItem6;};j.prototype.canBeDeleted=function(){return !!this.$BUIPresetFiltersItem5;};j.prototype.doOnDelete=function(){!this.canBeDeleted()?i(0):undefined;this.$BUIPresetFiltersItem5(this);};f.exports=j;},null);
__d('FreeformSearchSource',['AbstractSearchSource','RegexMatchSearchSource','SearchableEntry'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;k=babelHelpers.inherits(m,h);l=k&&k.prototype;function m(n,o,p){'use strict';l.constructor.call(this);this.$FreeformSearchSource1=n;this.$FreeformSearchSource2=new i('\\S+');this.$FreeformSearchSource3=o;this.$FreeformSearchSource4=p;}m.prototype.getBootstrappedEntries=function(n){'use strict';return this.$FreeformSearchSource1.getBootstrappedEntries(n);};m.prototype.bootstrapImpl=function(n){'use strict';this.$FreeformSearchSource1.bootstrapImpl(n);};m.prototype.validateQuery=function(n){'use strict';return n.length>=this.$FreeformSearchSource4;};m.prototype.searchImpl=function(n,o,p){'use strict';this.$FreeformSearchSource2.searchImpl(n,(function(q,r){var s=[];if(q.length===1&&this.validateQuery(r)){s=[new j({uniqueID:q[0].getUniqueID(),title:this.$FreeformSearchSource3(q[0].getTitle().trim())})];o(s,n);}this.$FreeformSearchSource1.searchImpl(n,function(t,u){if(t.length>0)o(t.concat(s),u);},p);}).bind(this),p);};f.exports=m;},null);
__d('XUIDialogHeader.react',['React','XUICardHeader.react','XUICloseButton.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=h.PropTypes,n=h.createClass({displayName:'XUIDialogHeader',propTypes:{closeButtonText:m.string,showCloseButton:m.bool,activeTabKey:m.string,defaultActiveTabKey:m.string,onTabClick:m.func},getDefaultProps:function(){return {closeButtonText:l._("\u0417\u0430\u043a\u0440\u0438\u0442\u0438"),onTabClick:function(){return true;},showCloseButton:true};},render:function(){var o=null;if(this.props.showCloseButton)o=h.createElement(j,{label:this.props.closeButtonText,className:"layerCancel _51-t"});return (h.createElement(i,babelHelpers._extends({},this.props,{className:"_4-i0",link:o,type:'primary'}),this.props.children));}});f.exports=n;},null);
__d('Currency.react',['AdsCurrencyFormatter','React'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=i.PropTypes,k=i.createClass({displayName:'Currency',getDefaultProps:function(){return {withIso:true,thousandDelimiter:true};},propTypes:{code:j.string.isRequired,value:j.number.isRequired,withIso:j.bool,thousandDelimiter:j.bool},render:function(){return (i.createElement('span',null,h.formatCurrencyFullFormat(this.props.code,this.props.value,this.props.withIso,this.props.thousandDelimiter)));}});f.exports=k;},null);
__d("XPagePostExpirationController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/post\/expiration\/update\/",{});},null,{});
__d('requiredIfPropIsFalsy',['sprintf'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k){return function(l,m,n,o){if(!!l[j])return;if(l[m]===undefined)return new Error(h('Must supply %s to %s if property %s is falsy.',m,n,j));return k(l,m,n,o);};}f.exports=i;},null);
__d('PostExpireDialogBody.react',['ActorURI','AsyncRequest','DatePickerRestraints','Dialog','ExpirationType','FBToggleSwitch.react','HelpLink.react','InputLabel.react','React','ReloadPage','XPagePostExpirationController','XUICard.react','XUICardSection.react','XUICheckboxInput.react','XUIDateTimePicker.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIGrayText.react','XUINotice.react','cx','fbt','requiredIfPropIsFalsy'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea){if(c.__markCompiled)c.__markCompiled();var fa=p.PropTypes,ga=60*1000,ha=60*ga,ia=24*ha,ja=182*ia+12*ha,ka=5*ga+30*1000,la=p.createClass({displayName:'PostExpireDialogBody',propTypes:{originalExpirationTimestamp:fa.number,originalExpirationType:fa.number,timezone:fa.string.isRequired,onSubmit:fa.func,isRepublish:fa.bool,submitLabel:fa.string,postID:ea('onSubmit',fa.number),pageID:ea('onSubmit',fa.number)},getInitialState:function(){return {expirationDate:this.props.originalExpirationTimestamp?new Date(this.props.originalExpirationTimestamp):new Date(Date.now()+ha),expirationType:this.props.originalExpirationType?this.props.originalExpirationType:l.HIDE,expirationToggle:this.props.originalExpirationTimestamp?true:false};},render:function(){var ma=this.props.submitLabel?this.props.submitLabel:this.props.isRepublish?da._("Republish"):da._("\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"),na=this.props.isRepublish?p.createElement(ba,null,da._("Republishing this post will make it visible to the public. You can set a new expiration time here to make the post expire again later.")):null,oa=this.state.expirationToggle?da._("Turn Off to Cancel Expiration"):da._("Turn On to Schedule Expiration"),pa=da._("When a post expires it will unpublish, which means it will no longer be visible to the public. Page admins can still view unpublished posts and their Insights."),qa=this._renderInvalidTimeNotice();return (p.createElement(s,{className:"_3-4u"},na,p.createElement(w,null,p.createElement(o,null,p.createElement(m,{checked:this.state.expirationToggle,onToggle:this._expireToggleChange,tooltip:oa}),p.createElement('label',null,da._("Expire"),p.createElement(n,{tooltip:pa,alignv:'bottom'}))),this._renderExpire(),qa),p.createElement(z,null,p.createElement(y,null),p.createElement(x,{action:'confirm',onClick:this._onSubmitClick,disabled:qa!==null||!this._hasChanges(),label:ma,use:'confirm'}))));},_renderExpire:function(){if(!this.state.expirationToggle)return null;return (p.createElement(s,{background:'light-wash',className:"_3-8n"},p.createElement(t,{className:"_2ph-"+(' '+"_3-8x")+(' '+"_3-4v")},p.createElement(v,{dateRestraints:[j.enforceDateIsNoEarlierThan(new Date(Date.now()-ia)),j.enforceDateIsNoLaterThan(new Date(Date.now()+ja))],date:this.state.expirationDate,onChange:this._onExpirationDateChange,timezone:this.props.timezone})),p.createElement(t,{className:"_2ph-"+(' '+"_3-8x")+(' '+"_3-4v")},p.createElement(o,{className:"_3-8x"},p.createElement(u,{checked:this.state.expirationType===l.DELETE,onChange:this._handleExpirationTypeChanged}),p.createElement('label',null,p.createElement(aa,{shade:'light',size:'small',weight:'normal'},da._("Delete the post. Permanently remove the post and its insights at the scheduled time.")))))));},_renderInvalidTimeNotice:function(){var ma=this._isAbsoluteTimeValid(),na=this._isRelativeTimeValid(),oa=ma&&na;if(oa)return null;if(this._isExpirationTimeTheSame())return null;var pa=null;if(!ma){pa=da._("Posts need to be expired between 10 minutes and 6 months from now.");}else if(!na)pa=da._("Your new expiration should be more than 6 mins apart from your old expiration time.");return (p.createElement(ba,{use:'warn',className:"_3-8x"},pa));},_isAbsoluteTimeValid:function(){if(!this.state.expirationToggle)return true;var ma=this.state.expirationDate.getTime(),na=Date.now()+10*ga,oa=Date.now()+ja;return (ma>=na&&ma<=oa);},_isRelativeTimeValid:function(){if(!this.state.expirationToggle||!this.props.originalExpirationTimestamp)return true;var ma=this.state.expirationDate.getTime();return (ma>=this.props.originalExpirationTimestamp||ma<this.props.originalExpirationTimestamp-ka);},_expireToggleChange:function(){this.setState({expirationToggle:!this.state.expirationToggle});},_onExpirationDateChange:function(ma){this.setState({expirationDate:ma});},_handleExpirationTypeChanged:function(event){var ma=event.target.checked?l.DELETE:l.HIDE;this.setState({expirationType:ma});},_onSubmitClick:function(){var ma;if(this.props.onSubmit)return this._handleSubmitPassed();if(this.state.expirationToggle){ma={post_id:this.props.postID,expiration_time:this._isExpirationTimeTheSame()?null:Math.floor(this.state.expirationDate.getTime()/1000),expiration_type:this.state.expirationType};this._submitPostExpirationData(ma);}else if(this.props.originalExpirationTimestamp||this.props.isRepublish){ma={post_id:this.props.postID,expiration_time:0};this._submitPostExpirationData(ma);}},_handleSubmitPassed:function(){if(this.state.expirationToggle){var ma=this._isExpirationTimeTheSame()?null:Math.floor(this.state.expirationDate.getTime()/1000),na=this.state.expirationType;this.props.onSubmit(ma,na);}else if(this.props.originalExpirationTimestamp||this.props.isRepublish)this.props.onSubmit(0,null);},_isExpirationTimeTheSame:function(){if(!this.props.originalExpirationTimestamp)return false;var ma=this.props.originalExpirationTimestamp-ga,na=this.props.originalExpirationTimestamp+ga,oa=this.state.expirationDate.getTime();return (oa>ma&&oa<na);},_onSubmitResponseError:function(){var ma='We encountered an error while performing this operation';new k().setBody(ma).setButtons([k.OK]).show();},_submitPostExpirationData:function(ma){var na=r.getURIBuilder().getURI();na=h.create(na,this.props.pageID);new i().setURI(na).setMethod('POST').setData(ma).setHandler(function(){return q.now();}).setErrorHandler(this._onSubmitResponseError).send();},_hasChanges:function(){if(this.state.expirationToggle){return true;}else return this.props.originalExpirationTimestamp||this.props.isRepublish;}});f.exports=la;},null);
__d('rebound',['ExecutionEnvironment','setImmediate'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();(function(){var h={},i=h.util={},j=Array.prototype.concat,k=Array.prototype.slice;i.bind=function w(x,y){var z=k.call(arguments,2);return function(){x.apply(y,j.call(z,k.call(arguments)));};};i.extend=function w(x,y){for(var z in y)if(y.hasOwnProperty(z))x[z]=y[z];};var l=h.SpringSystem=function w(x){this._springRegistry={};this._activeSprings=[];this.listeners=[];this._idleSpringIndices=[];this.looper=x||new p();this.looper.springSystem=this;};i.extend(l.prototype,{_springRegistry:null,_isIdle:true,_lastTimeMillis:-1,_activeSprings:null,listeners:null,_idleSpringIndices:null,setLooper:function(w){this.looper=w;w.springSystem=this;},createSpring:function(w,x){var y=new m(this);this.registerSpring(y);if(w===undefined||x===undefined){y.setSpringConfig(o.DEFAULT_ORIGAMI_SPRING_CONFIG);}else{var z=o.fromOrigamiTensionAndFriction(w,x);y.setSpringConfig(z);}return y;},getIsIdle:function(){return this._isIdle;},getSpringById:function(w){return this._springRegistry[w];},getAllSprings:function(){var w=[];for(var x in this._springRegistry)if(this._springRegistry.hasOwnProperty(x))w.push(this._springRegistry[x]);return w;},registerSpring:function(w){this._springRegistry[w.getId()]=w;},deregisterSpring:function(w){t(this._activeSprings,w);delete this._springRegistry[w.getId()];},advance:function(w,x){while(this._idleSpringIndices.length>0)this._idleSpringIndices.pop();for(var y=0,z=this._activeSprings.length;y<z;y++){var aa=this._activeSprings[y];if(aa.systemShouldAdvance()){aa.advance(w/1000,x/1000);}else this._idleSpringIndices.push(this._activeSprings.indexOf(aa));}while(this._idleSpringIndices.length>0){var ba=this._idleSpringIndices.pop();ba>=0&&this._activeSprings.splice(ba,1);}},loop:function(w){var x;if(this._lastTimeMillis===-1)this._lastTimeMillis=w-1;var y=w-this._lastTimeMillis;this._lastTimeMillis=w;var z=0,aa=this.listeners.length;for(z=0;z<aa;z++){x=this.listeners[z];x.onBeforeIntegrate&&x.onBeforeIntegrate(this);}this.advance(w,y);if(this._activeSprings.length===0){this._isIdle=true;this._lastTimeMillis=-1;}for(z=0;z<aa;z++){x=this.listeners[z];x.onAfterIntegrate&&x.onAfterIntegrate(this);}if(!this._isIdle)this.looper.run();},activateSpring:function(w){var x=this._springRegistry[w];if(this._activeSprings.indexOf(x)==-1)this._activeSprings.push(x);if(this.getIsIdle()){this._isIdle=false;this.looper.run();}},addListener:function(w){this.listeners.push(w);},removeListener:function(w){t(this.listeners,w);},removeAllListeners:function(){this.listeners=[];}});var m=h.Spring=function w(x){this._id='s'+w._ID++;this._springSystem=x;this.listeners=[];this._currentState=new n();this._previousState=new n();this._tempState=new n();};i.extend(m,{_ID:0,MAX_DELTA_TIME_SEC:.064,SOLVER_TIMESTEP_SEC:.001});i.extend(m.prototype,{_id:0,_springConfig:null,_overshootClampingEnabled:false,_currentState:null,_previousState:null,_tempState:null,_startValue:0,_endValue:0,_wasAtRest:true,_restSpeedThreshold:.001,_displacementFromRestThreshold:.001,listeners:null,_timeAccumulator:0,_springSystem:null,destroy:function(){this.listeners=[];this.frames=[];this._springSystem.deregisterSpring(this);},getId:function(){return this._id;},setSpringConfig:function(w){this._springConfig=w;return this;},getSpringConfig:function(){return this._springConfig;},setCurrentValue:function(w,x){this._startValue=w;this._currentState.position=w;if(!x)this.setAtRest();this.notifyPositionUpdated(false,false);return this;},getStartValue:function(){return this._startValue;},getCurrentValue:function(){return this._currentState.position;},getCurrentDisplacementDistance:function(){return this.getDisplacementDistanceForState(this._currentState);},getDisplacementDistanceForState:function(w){return Math.abs(this._endValue-w.position);},setEndValue:function(w){if(this._endValue==w&&this.isAtRest())return this;this._startValue=this.getCurrentValue();this._endValue=w;this._springSystem.activateSpring(this.getId());for(var x=0,y=this.listeners.length;x<y;x++){var z=this.listeners[x],aa=z.onSpringEndStateChange;aa&&aa(this);}return this;},getEndValue:function(){return this._endValue;},setVelocity:function(w){if(w===this._currentState.velocity)return this;this._currentState.velocity=w;this._springSystem.activateSpring(this.getId());return this;},getVelocity:function(){return this._currentState.velocity;},setRestSpeedThreshold:function(w){this._restSpeedThreshold=w;return this;},getRestSpeedThreshold:function(){return this._restSpeedThreshold;},setRestDisplacementThreshold:function(w){this._displacementFromRestThreshold=w;},getRestDisplacementThreshold:function(){return this._displacementFromRestThreshold;},setOvershootClampingEnabled:function(w){this._overshootClampingEnabled=w;return this;},isOvershootClampingEnabled:function(){return this._overshootClampingEnabled;},isOvershooting:function(){var w=this._startValue,x=this._endValue;return this._springConfig.tension>0&&(w<x&&this.getCurrentValue()>x||w>x&&this.getCurrentValue()<x);},advance:function(w,x){var y=this.isAtRest();if(y&&this._wasAtRest)return;var z=x;if(x>m.MAX_DELTA_TIME_SEC)z=m.MAX_DELTA_TIME_SEC;this._timeAccumulator+=z;var aa=this._springConfig.tension,ba=this._springConfig.friction,ca=this._currentState.position,da=this._currentState.velocity,ea=this._tempState.position,fa=this._tempState.velocity,ga,ha,ia,ja,ka,la,ma,na,oa,pa;while(this._timeAccumulator>=m.SOLVER_TIMESTEP_SEC){this._timeAccumulator-=m.SOLVER_TIMESTEP_SEC;if(this._timeAccumulator<m.SOLVER_TIMESTEP_SEC){this._previousState.position=ca;this._previousState.velocity=da;}ga=da;ha=aa*(this._endValue-ea)-ba*da;ea=ca+ga*m.SOLVER_TIMESTEP_SEC*.5;fa=da+ha*m.SOLVER_TIMESTEP_SEC*.5;ia=fa;ja=aa*(this._endValue-ea)-ba*fa;ea=ca+ia*m.SOLVER_TIMESTEP_SEC*.5;fa=da+ja*m.SOLVER_TIMESTEP_SEC*.5;ka=fa;la=aa*(this._endValue-ea)-ba*fa;ea=ca+ka*m.SOLVER_TIMESTEP_SEC*.5;fa=da+la*m.SOLVER_TIMESTEP_SEC*.5;ma=fa;na=aa*(this._endValue-ea)-ba*fa;oa=1/6*(ga+2*(ia+ka)+ma);pa=1/6*(ha+2*(ja+la)+na);ca+=oa*m.SOLVER_TIMESTEP_SEC;da+=pa*m.SOLVER_TIMESTEP_SEC;}this._tempState.position=ea;this._tempState.velocity=fa;this._currentState.position=ca;this._currentState.velocity=da;if(this._timeAccumulator>0)this.interpolate(this._timeAccumulator/m.SOLVER_TIMESTEP_SEC);if(this.isAtRest()||this._overshootClampingEnabled&&this.isOvershooting()){if(this._springConfig.tension>0){this._startValue=this._endValue;this._currentState.position=this._endValue;}else{this._endValue=this._currentState.position;this._startValue=this._endValue;}this.setVelocity(0);y=true;}var qa=false;if(this._wasAtRest){this._wasAtRest=false;qa=true;}var ra=false;if(y){this._wasAtRest=true;ra=true;}this.notifyPositionUpdated(qa,ra);},notifyPositionUpdated:function(w,x){for(var y=0,z=this.listeners.length;y<z;y++){var aa=this.listeners[y];if(w&&aa.onSpringActivate)aa.onSpringActivate(this);if(aa.onSpringUpdate)aa.onSpringUpdate(this);if(x&&aa.onSpringAtRest)aa.onSpringAtRest(this);}},systemShouldAdvance:function(){return !this.isAtRest()||!this.wasAtRest();},wasAtRest:function(){return this._wasAtRest;},isAtRest:function(){return Math.abs(this._currentState.velocity)<this._restSpeedThreshold&&(this.getDisplacementDistanceForState(this._currentState)<=this._displacementFromRestThreshold||this._springConfig.tension===0);},setAtRest:function(){this._endValue=this._currentState.position;this._tempState.position=this._currentState.position;this._currentState.velocity=0;return this;},interpolate:function(w){this._currentState.position=this._currentState.position*w+this._previousState.position*(1-w);this._currentState.velocity=this._currentState.velocity*w+this._previousState.velocity*(1-w);},getListeners:function(){return this.listeners;},addListener:function(w){this.listeners.push(w);return this;},removeListener:function(w){t(this.listeners,w);return this;},removeAllListeners:function(){this.listeners=[];return this;},currentValueIsApproximately:function(w){return Math.abs(this.getCurrentValue()-w)<=this.getRestDisplacementThreshold();}});var n=function w(){};i.extend(n.prototype,{position:0,velocity:0});var o=h.SpringConfig=function w(x,y){this.tension=x;this.friction=y;},p=h.AnimationLooper=function w(){this.springSystem=null;var x=this,y=function(){x.springSystem.loop(Date.now());};this.run=function(){i.onFrame(y);};};h.SimulationLooper=function w(x){this.springSystem=null;var y=0,z=false;x=x||16.667;this.run=function(){if(z)return;z=true;while(!this.springSystem.getIsIdle())this.springSystem.loop(y+=x);z=false;};};h.SteppingSimulationLooper=function(w){this.springSystem=null;var x=0;this.run=function(){};this.step=function(y){this.springSystem.loop(x+=y);};};var q=h.OrigamiValueConverter={tensionFromOrigamiValue:function(w){return (w-30)*3.62+194;},origamiValueFromTension:function(w){return (w-194)/3.62+30;},frictionFromOrigamiValue:function(w){return (w-8)*3+25;},origamiFromFriction:function(w){return (w-25)/3+8;}};i.extend(o,{fromOrigamiTensionAndFriction:function(w,x){return new o(q.tensionFromOrigamiValue(w),q.frictionFromOrigamiValue(x));},coastingConfigWithOrigamiFriction:function(w){return new o(0,q.frictionFromOrigamiValue(w));}});o.DEFAULT_ORIGAMI_SPRING_CONFIG=o.fromOrigamiTensionAndFriction(40,7);i.extend(o.prototype,{friction:0,tension:0});var r={};i.hexToRGB=function(w){if(r[w])return r[w];w=w.replace('#','');if(w.length===3)w=w[0]+w[0]+w[1]+w[1]+w[2]+w[2];var x=w.match(/.{2}/g),y={r:parseInt(x[0],16),g:parseInt(x[1],16),b:parseInt(x[2],16)};r[w]=y;return y;};i.rgbToHex=function(w,x,y){w=w.toString(16);x=x.toString(16);y=y.toString(16);w=w.length<2?'0'+w:w;x=x.length<2?'0'+x:x;y=y.length<2?'0'+y:y;return '#'+w+x+y;};var s=h.MathUtil={mapValueInRange:function(w,x,y,z,aa){var ba=y-x,ca=aa-z,da=(w-x)/ba;return z+da*ca;},interpolateColor:function(w,x,y,z,aa,ba){z=z===undefined?0:z;aa=aa===undefined?1:aa;x=i.hexToRGB(x);y=i.hexToRGB(y);var ca=Math.floor(i.mapValueInRange(w,z,aa,x.r,y.r)),da=Math.floor(i.mapValueInRange(w,z,aa,x.g,y.g)),ea=Math.floor(i.mapValueInRange(w,z,aa,x.b,y.b));if(ba){return 'rgb('+ca+','+da+','+ea+')';}else return i.rgbToHex(ca,da,ea);},degreesToRadians:function(w){return w*Math.PI/180;},radiansToDegrees:function(w){return w*180/Math.PI;}};i.extend(i,s);function t(w,x){var y=w.indexOf(x);y!=-1&&w.splice(y,1);}var u,v=c('ExecutionEnvironment');if(v.canUseDOM)u=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;if(!u)u=c('setImmediate');i.onFrame=function w(x){return u(x);};f.exports=h;})();},null);
__d('InsightsConstants',['UTCUtils','fbt','uki-utils'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={blue:'#3b5998',green:'#a9bc60',magenta:'#a856a1',teal:'#5d9d90',brown:'#886d4f'},l={API_ERROR_NUM_RETRIES:2,SEC_PER_DAY:24*60*60,MS_PER_DAY:24*60*60*1000,MS_PER_MINUTE:60*1000,DAYS_TO_LOOK_BACK:7,INSIGHTS_CUTOFF_TIME:1311058800,DEMOGRAPHICS_MIN_DATE_REACH:1315119600,DEMOGRAPHICS_MIN_PEOPLE_COUNT:30,CHECKINS_TYPE_MIN_DATE_TIMESTAMP:1320217200*1000,FOLLOWS_MIN_DATE_TIMESTAMP:1343804400*1000,MIN_FOLLOWERS_FOR_INSIGHTS:1000,MissingValueString:'--',Periods:['day','week','days_28'],DaysInPeriod:{day:1,week:7,days_28:28},ReachTypeLabel:{total:i._("\u0412\u0441\u044c\u043e\u0433\u043e"),organic:i._("\u041e\u0441\u043d\u043e\u0432\u043d\u0438\u0439"),paid:i._("\u041f\u043b\u0430\u0442\u043d\u0438\u0439"),viral:i._("Viral")},ReachSourceTypes:['all','page_posts','stories'],ReachSourceTypeSelectorText:{all:i._("All Page Content"),page_posts:i._("\u0412\u0430\u0448\u0456 \u0434\u043e\u043f\u0438\u0441\u0438"),stories:i._("Stories by Others")},BREAKDOWN_LIST_LENGTH_INITIAL:7,BREAKDOWN_LIST_LENGTH_MAX:20,BreakdownStoryTypes:['all','fan','page post','mention','user post'],BreakdownStoryTypesOptional:['question','coupon','checkin'],BreakdownStoryTypeSelectorText:{all:i._("\u0423\u0441\u0456 \u0456\u0441\u0442\u043e\u0440\u0456\u0457"),fan:i._("Page Likes"),'page post':i._("Stories from Your Posts"),mention:i._("Mentions and Photo Tags"),'user post':i._("\u0414\u043e\u043f\u0438\u0441\u0438 \u0432\u0456\u0434 \u0456\u043d\u0448\u0438\u0445"),checkin:i._("Check-Ins"),question:i._("\u041f\u0438\u0442\u0430\u043d\u043d\u044f"),coupon:i._("\u041f\u0440\u043e\u043f\u043e\u0437\u0438\u0446\u0456\u0457")},PostStoryTypes:{like:i._("\u0423\u043f\u043e\u0434\u043e\u0431\u0430\u043d\u043d\u044f"),comment:i._("\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0456"),answer:i._("Answers"),follow:i._("Question Follows"),rsvp:i._("RSVPs"),share:i._("\u041f\u043e\u0448\u0438\u0440\u0435\u043d\u043d\u044f"),post:i._("\u0414\u043e\u043f\u0438\u0441\u0438"),claim:i._("Offer Claims"),other:i._("\u0406\u043d\u0448\u0456")},EngagementBreakdownBuckets:{stories:'stories',link_clicks:'link clicks',photo_views:'photo view',video_plays:'video play',other:'other clicks'},EngagementBreakdownLegend:{stories:i._("Stories Generated"),'link clicks':i._("Link Clicks"),'other clicks':i._("Other Clicks"),'photo view':i._("Photo Views"),'video play':i._("Video Plays")},LikeAndFollowSources:{page_suggestion:i._("Invites from Admins"),timeline:i._("\u0416\u0438\u0442\u0442\u0454\u043f\u0438\u0441"),ads:i._("Ads and Sponsored Stories"),registration:i._("New Admins"),mobile:i._("\u041c\u043e\u0431\u0456\u043b\u044c\u043d\u0438\u0439"),wizard_suggestion:i._("New User Suggestions"),social_graph:i._("Likes Manager"),profile_connect:i._("On Page, news feed, or ticker"),external_connect:i._("Like Box and Like Button"),recommended_pages:i._("Facebook Recommendations"),external_page_like:i._("External Like"),favorites:i._("Page Likes Another Page"),api:i._("Third-Party Apps"),page_browser:i._("Page Browser"),hovercard:i._("On Hover"),search:i._("\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0438 \u043f\u043e\u0448\u0443\u043a\u0443"),page_profile:i._("On Page"),ticker:i._("\u0421\u0442\u0440\u0456\u0447\u043a\u0430"),like_story:i._("Friend Referrals"),nearby_dash:i._("\u041f\u0440\u0438\u043b\u0435\u0433\u043b\u0456 \u043c\u0456\u0441\u0446\u044f"),from_coupon:i._("Offer"),video_flyout:i._("On Video"),photo_snowlift:i._("On Photo"),post_checkin:i._("Callout After Check-In"),app_center:i._("\u0426\u0435\u043d\u0442\u0440 \u0434\u043e\u0434\u0430\u0442\u043a\u0456\u0432"),social_wifi:i._("Facebook Wi-Fi"),page_group_join:i._("From Group"),other:i._("\u0406\u043d\u0448\u0435"),feed_x_undo:i._("From News Feed"),followee_list:i._("From Follower"),friend_list_flyout:i._("From Page Like Button")},LikeSourcesDeprecatedAggregations:{profile_connect:['hovercard','search','page_profile','ticker','like_story']},Tabs:{wall:i._("\u0416\u0438\u0442\u0442\u0454\u043f\u0438\u0441"),info:i._("About Section"),photos:i._("\u0421\u0432\u0456\u0442\u043b\u0438\u043d\u0438"),friendactivity:i._("\u0410\u043a\u0442\u0438\u0432\u043d\u0456\u0441\u0442\u044c \u0434\u0440\u0443\u0437\u0456\u0432"),videos:i._("\u0412\u0456\u0434\u0435\u043e"),events:i._("\u041f\u043e\u0434\u0456\u0457"),pe:i._("\u041c\u0438\u043d\u0443\u043b\u0456 \u043f\u043e\u0434\u0456\u0457")},FrequencyBuckets:['1','2','3','4','5','6-10','11-20','21+'],AgeBuckets:['13-17','18-24','25-34','35-44','45-54','55-64','65+'],PostIcons:{photo:'/images/icons/photo.gif',link:'/images/icons/post.gif',coupon:'/images/icons/pages/coupons/offers.png',post:'/images/icons/wall_post.gif'},LOADING_IMAGE:'/images/loaders/indicator_blue_small.gif',DOWN_ARROW_IMAGE:'/images/icons/down_arrow_blue.gif',UP_ARROW_IMAGE:'/images/icons/up_arrow_blue.gif',ColorsMap:k,Colors:j.values(k),TICK_SIZE_THRESHOLD:42,TICK_SIZE_SHORT:7,TICK_SIZE_LONG:14,GraphMaxPoints:{Likes:60,Reach:30,Visits:120,Talking:60,ViralReach:60,CheckinsType:120},GraphType:{BAR:0,AREA:1,LINE:2},ReachBreakdownColors:[k.blue,k.green,k.magenta],EngagementGraphColors:[k.blue,'#758ab7','#b1bdd6','#e2e6f0'],TalkingBreakdownColors:[k.green,'#c3d08f','#dde4bf','#f2f5e7'],PrivacyIconClasses:{CUSTOM:'privacy-custom',EVERYONE:'privacy-everyone'},DateFormat:{'n/j/y':'n/j/y','M j':'M j','M j, Y':'M j, Y','m/d/Y g:ia':'m/d/Y g:ia'},MonthAbbrev:{1:'Jan',2:'Feb',3:'Mar',4:'Apr',5:'May',6:'Jun',7:'Jul',8:'Aug',9:'Sep',10:'Oct',11:'Nov',12:'Dec'},AbbrevNumberFormat:{0:'{x0}',1:'{x0}',2:'{x0}',3:'{x3}K',4:'{x3}K',5:'{x3}K',6:'{x6}M',7:'{x6}M',8:'{x6}M',9:'{x9}B',10:'{x9}B',11:'{x9}B'},DecimalSeparator:'.',NumberDelimiter:',',Locale:'en_US',TimeAM:'am',TimePM:'pm',setIntlFormatData:function(m){if(m){this.Locale=m.locale||this.Locale;this.DateFormat=m.date_format||this.DateFormat;this.MonthAbbrev=m.month_abbrev||this.MonthAbbrev;this.AbbrevNumberFormat=m.abbrev_number_format||this.AbbrevNumberFormat;this.DecimalSeparator=m.LOCALE_DECIMAL_SEPARATOR||this.DecimalSeparator;this.NumberDelimiter=m.LOCALE_NUMBER_DELIMITER||this.NumberDelimiter;this.TimeAM=m.time_am||this.TimeAM;this.TimePM=m.time_pm||this.TimePM;}},getPTOffset:function(m){return -1*h.getPacificOffsetAt(m);},Events:{Ready:'ready',Plotted:'plotted',ShowMorePosts:'showMorePosts',Error:'error'},InternalFBApps:{Photos:'2305272732',Video:'2392950137',Mobile:'2915120374'},MAX_INT:9007199254740992};l.InternalFBAppsIDs=(function(){var m={};j.forEach(l.InternalFBApps,function(n,o){m[n]=o;});return m;})();f.exports=l;},null);
__d('InsightsNumberUtils',['InsightsConstants','NumberFormat'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={magnitude:function(k){return k>=10?Math.floor(Math.log(k)/Math.log(10)):0;},abbrevInt:function(k){var l=j.magnitude(k),m=Math.round(k/Math.pow(10,l));if(m==10){m=1;l++;}var n=h.AbbrevNumberFormat[l]||'{x0}',o=n.replace(/(.*)(\{x(\d+)\})(.*)/,function(q,r,s,t,u){return r+j.decimal(k/Math.pow(10,t))+u;}),p=j.delimit(k);return o.length>=p.length||o==k?p:o;},decOrInt:function(k){return k===Math.floor(k)?j.integer(k):j.decimal(k);},delimit:function(k){if(k==null||k==='')return h.MissingValueString;return i.formatIntegerWithDelimiter(k,h.NumberDelimiter);},percent:function(k){return j.round(k*100,2)+'%';},decimal:function(k){return j.round(k,1);},round:function(k,l,m){var n=Math.pow(10,l),o=(Math.round(k*n)/n+'').replace('.',h.DecimalSeparator);if(!l||!m)return j.delimit(o);var p=o.indexOf(h.DecimalSeparator),q=0;if(p==-1){o+=h.DecimalSeparator;q=l;}else q=l-(o.length-p-1);for(var r=0;r<q;r++)o+='0';return j.delimit(o);}};f.exports=j;},null);
__d('PageContentTabColumnConfig',['React','FixedDataTableColumn.react','Map'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=36,l=673,m=160,n={getColumns:function(o,p,q,r,s,t,u,v){var w=p;if(v)w-=k;q.forEach(function(x){if(x.getWidth){w-=x.getWidth(o);}else if(!x.mainColumn)w-=m;});return q.map(function(x){var y=m;if(x.mainColumn){y=w;}else if(x.getWidth)y=x.getWidth(o);return (h.createElement(i,{columnData:{sort:r,onSortChanged:s,columnsInGroup:t.get(x.group),changeSelectedColumns:u,initialSortOrder:x.initialSortOrder},dataKey:x.key,label:x.label,key:x.key,cellRenderer:x.cellRenderer,headerRenderer:x.headerRenderer,width:y}));});},TABLE_WIDTH:l,CHECKBOX_COLUMN_WIDTH:k};f.exports=n;},null);
__d('PageContentTabLeftNav.react',['Image.react','LeftRight.react','Map','PageContentTabConstants','React','XUIAmbientNUX.react','XUIScrubber.react','XUIBadge.react','curry','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=n.Item,s=n.SubItem,t=l.PropTypes,u=k.TABS,v=l.createClass({displayName:'PageContentTabLeftNav',propTypes:{counts:t.instanceOf(j).isRequired,nested:t.bool,selectedTab:t.oneOf(Object.keys(u)).isRequired,onTabChanged:t.func.isRequired,tabs:t.instanceOf(j).isRequired},getInitialState:function(){var w=this.props.tabs.get(this.props.selectedTab);return {hideGroupNUX:{},showGroupNUXes:false,selectedGroup:w.leftNavGroup||w.id};},componentDidMount:function(){this.setState({showGroupNUXes:true});this.props.groups.map(function(w){return (w.markNUXSeen&&w.nuxContent?w.markNUXSeen():null);});},render:function(){if(this.props.nested)return (l.createElement('div',null,this.props.groups.map(this._renderGroupNUX),this.renderNestedNav()));return this.renderLinearNav();},renderNestedNav:function(){return (l.createElement(n,{selected:this.state.selectedGroup,showAllSubItems:true},this.props.groups.map(this._renderGroup)));},_renderGroup:function(w){if(w.subTabs.length<=0&&!w.isAlwaysAvailable)return null;return (l.createElement(r,{bubbleType:'regular',onSelect:p(this._selectGroup,w),selected:this.state.selectedGroup===w.id?this.props.selectedTab:null,key:w.id},l.createElement(h,{src:w.image}),l.createElement('span',{ref:this._getRefForGroup(w)},w.label),w.subTabs.map((function(x){var y=null;if(x.showBadgeCount&&this.props.counts.get(x.id))y=l.createElement(o,{className:"_3-99",count:this.props.counts.get(x.id)});return (l.createElement(s,{href:x.externalURI?x.externalURI:null,onClick:x.externalURI?null:p(this._selectSubTab,x.id),key:x.id},l.createElement(i,null,l.createElement('span',null,x.label,y),l.createElement('div',{className:(x.externalURI?"_4_ka":'')+(' '+"_3-91")}))));}).bind(this))));},_renderGroupNUX:function(w){if(!w.nuxContent||!this.state.showGroupNUXes)return null;return (l.createElement(m,{contextRef:(function(){return this.refs[this._getRefForGroup(w)];}).bind(this),key:w.id+'_nux',onCloseButtonClick:(function(){return this._hideNUX(w);}).bind(this),position:'above',shown:!this.state.hideGroupNUX[this._getRefForGroup(w)]},w.nuxContent));},_hideNUX:function(w){var x=this.state.hideGroupNUX;x[this._getRefForGroup(w)]=true;this.setState({hideGroupNUX:x});},_getRefForGroup:function(w){return 'nav_group_'+w.id;},_selectGroup:function(w){this.setState({selectedGroup:w.id});this.props.onTabChanged(w.defaultSelected);},_selectSubTab:function(w){this.props.onTabChanged(w);},renderLinearNav:function(){var w=[];this.props.tabs.forEach((function(x){return w.push(l.createElement(r,{bubbleType:'regular',count:this.props.counts.get(x.id),key:x.id,maxCount:Number.MAX_SAFE_INTEGER,onSelect:p(this._selectTab,x.id)},l.createElement(h,{src:x.image}),x.label));}).bind(this));return (l.createElement(n,{selected:this.props.selectedTab},w));},_selectTab:function(w){this.props.onTabChanged(w);}});f.exports=v;},null);
__d('PageContentTabLogger',['BanzaiLogger','invariant','guid'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=j(),l=null,m=null,n='PageContentTabLoggerConfig',o={init:function(p,q){l=p;m=q;},log:function(p,q,r){!l?i(0):undefined;r.event=p;r.tab=q;r.session_id=k;r.page_id=l;r.locationoftab=m;h.log(n,r);}};f.exports=o;},null);
__d('PageContentTabPageDownloader',['GraphAPI','PageContentTabAccessToken','PageContentTabConfig','PageContentTabDispatcher'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.graph_api_version||'2.2',m={fetchPageInfo:function(n){m._loadPagePicture(n);},_loadPagePicture:function(n){h(l).object('page',n).edge('picture').get({access_token:i.getAccessToken(),type:'square',redirect:false}).done(function(o){return (k.handlePageInitialization({picture:o.data}));});}};f.exports=m;},null);
__d('PageContentTabExternalActionTypes',['keyMirrorRecursive'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h({CREATE_ADS_FROM_POSTS:'',VIEW_ADS:''},'PagesContentTab');f.exports=i;},null);
__d('PageContentTabExternalActions',['AdsDispatcher','PageContentTabExternalActionTypes'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={createAdsFromPosts:function(k){h.handleUpdateFromViewAction({posts:k,type:i.CREATE_ADS_FROM_POSTS});}};f.exports=j;},null);
__d('PageContentTabCommonActionsConfig',['PageContentTabConstants','PageContentTabExternalActions','PageContentTabLocations','fbt'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=h.ACTIONS,m={ACTIONS_MENU_SEPARATOR:'actions_menu_separator',CREATE_ADS_FROM_POSTS:{allowBatch:true,getLabel:function(n){return n===1?k._("Create Ad..."):k._("Create Ads...");},isAvailable:function(n,o){return o===j.ADS_PE;},key:l.CREATE_ADS_FROM_POSTS,onClick:function(n){i.createAdsFromPosts(n);}}};f.exports=m;},null);
__d('PageContentTabFilter.react',['AdsGenericFilter','AdsGenericFilterSet','BUIFilterTokenizer.react','React','cx','getObjectValues'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=k.PropTypes,o=k.createClass({displayName:'PageContentTabFilter',propTypes:{fieldsConfig:n.object.isRequired,onFilterChange:n.func.isRequired,valuesConfig:n.object.isRequired,filterSet:n.object,hideAddButton:n.bool,defaultFilterField:n.object,showNewFilters:n.bool},getInitialState:function(){return {filterSet:!this.props.showNewFilters&&this.props.defaultFilterField?new i([new h(this.props.defaultFilterField.field,this.props.defaultFilterField.operators[0].operator,'')]):undefined};},render:function(){var p=this.props.showNewFilters?this.props.filterSet:this.state.filterSet;return (k.createElement(j,{className:"_3e8",fieldsConfig:this.props.fieldsConfig,filterSet:p,hideAddButton:this.props.hideAddButton,onChange:this._onFilterChange,timezoneID:1,validFieldConfigs:m(this.props.fieldsConfig),valuesConfig:this.props.valuesConfig,onClear:this.props.onClear,dismissTokensOnBlur:false}));},_onFilterChange:function(p,q,r){if(!this.props.showNewFilters)this.setState({filterSet:p});this.props.onFilterChange(p,q,r);}});f.exports=o;},null);
__d('PageContentTabFilterMenu.react',['AdsGenericFilterSetUtil','BUIPresetFilters.react','BUIPresetFiltersGroup','BUIPresetFiltersItem','ContextualLayer.react','LayerHideOnBlur','LayerHideOnEscape','LayerFadeOnHide','LayerFadeOnShow','React','XUICard.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u=q.PropTypes,v=q.createClass({displayName:'PageContentTabFilterMenu',propTypes:{filterButton:u.object.isRequired,onFilterMenuChange:u.func.isRequired,onToggle:u.func,filterFieldsConfig:u.object,filterMenuVisible:u.bool,filterSet:u.object},getInitialState:function(){return {};},render:function(){return (q.createElement(l,{contextRef:(function(){return this.props.filterButton;}).bind(this),position:'below',behaviors:{LayerHideOnBlur:m,LayerHideOnEscape:n,LayerFadeOnShow:p,LayerFadeOnHide:o},onToggle:this.props.onToggle,shown:this.props.filterMenuVisible},q.createElement(r,{className:"_2u4o"},this._renderMenu())));},_createFilterGroups:function(){var w={};for(var x in this.props.filterFieldsConfig){var y=this.props.filterFieldsConfig[x];y.filterKey=x;var z=y.group?y.group:{key:'filters',text:t._("\u0424\u0456\u043b\u044c\u0442\u0440\u0438")},aa=z.key;w[aa]=w[aa]?w[aa]:{groupName:z.text,filterFields:[]};var ba=this.props.filterSet&&h.getFiltersByField(this.props.filterSet,y.field).length!=0;w[aa].filterFields.push(new k(y.text,ba,false,y));}return w;},_renderMenu:function(){var w=this._createFilterGroups(),x=[];for(var y in w)x.push(new j(w[y].groupName,w[y].filterFields,this.props.onFilterMenuChange));return q.createElement(i,{filterGroups:x});}});f.exports=v;},null);
__d('PageContentTabSearchInput.react',['Event','Image.react','Keys','Link.react','React','XUITextInput.react','cx','fbt','xuiglyph'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=l.PropTypes,r=l.createClass({displayName:'PageContentTabSearchInput',propTypes:{onSearch:q.func.isRequired,query:q.string.isRequired},getInitialState:function(){return {query:this.props.query};},render:function(){return (l.createElement('div',{className:"_t7u"},l.createElement(m,{onChange:this._onChange,onKeyUp:this._onKeyUp,placeholder:o._("\u041f\u043e\u0448\u0443\u043a..."),ref:'searchBox',value:this.state.query}),l.createElement(k,{className:(this.props.query.length?"hidden_elem":'')+(' '+"_t7v"),onClick:(function(){if(this.state.query.length)this.props.onSearch(this.state.query);}).bind(this)},l.createElement(i,{src:p({name:'search',size:'small'})})),l.createElement(k,{className:(!this.props.query.length?"hidden_elem":'')+(' '+"_2rnk"),onClick:(function(){this.setState({query:''});this.props.onSearch('');}).bind(this)},l.createElement(i,{src:p({name:'cross',size:'small'})}))));},_onKeyUp:function(s){var t=h.getKeyCode(s);if(t===j.RETURN&&s.target.value.length)this.props.onSearch(s.target.value);},_onChange:function(s){this.setState({query:s.target.value});}});f.exports=r;},null);
__d('PageContentTabStaleContentNotice.react',['Link.react','React','XUINotice.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=i.PropTypes,n=i.createClass({displayName:'PageContentTabStaleContentNotice',propTypes:{onRefreshView:m.func.isRequired},render:function(){var o='Some items here should no longer be shown.',p="_3-8t _2pie _2pio";return (i.createElement('div',{className:p},i.createElement(j,{use:'notify'},l._("{reason} {=Refresh view}.",[l.param('reason',o),l.param('=Refresh view',i.createElement(h,{onClick:this.props.onRefreshView},l._("Refresh view")))]))));}});f.exports=n;},null);
__d('PageContentTabActionsBar.react',['AdsFilterChangeTypes','AdsGenericFilterSet','AdsGenericFilterSetUtil','AdsGenericFilter','BUIPresetFiltersItem','Image.react','LeftRight.react','PageContentTabCommonActionsConfig','PageContentTabConstants','PageContentTabDispatcher','PageContentTabFilter.react','PageContentTabFilterMenu.react','PageContentTabLocations','PageContentTabLogger','PageContentTabLoggingEvents','PageContentTabSearchInput.react','PageContentTabStaleContentNotice.react','PopoverMenu.react','React','XUIButton.react','XUIButtonGroup.react','ReactXUIMenu','XUIPopoverButton.react','MenuSeparator.react','cx','fbt','getOwnObjectValues','xuiglyph'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia){if(c.__markCompiled)c.__markCompiled();var ja=ca.Item,ka=o.ACTIONS_MENU_SEPARATOR,la=z.PropTypes,ma=p.TABS,na=z.createClass({displayName:'PageContentTabActionsBar',propTypes:{actionConfig:la.arrayOf(la.shape({allowBatch:la.bool,getLabel:la.func.isRequired,key:la.string.isRequired,onClick:la.func.isRequired})),beginIndex:la.number.isRequired,location:la.oneOf(ha(t)).isRequired,numPosts:la.number,endIndex:la.number.isRequired,hasNextPage:la.bool.isRequired,page:la.shape({page_id:la.string,picture:la.object,admins:la.array}).isRequired,selectedPosts:la.array.isRequired,showNextPage:la.func.isRequired,showPreviousPage:la.func.isRequired,query:la.string.isRequired,tab:la.oneOf(Object.keys(ma)).isRequired,hasSearchSupport:la.bool,hasPaginationSupport:la.bool,filterFieldsConfig:la.object,filterValuesConfig:la.object,defaultFilterField:la.object,showNotice:la.bool,onRefreshView:la.func.isRequired,hideActionsButton:la.bool,sideButtonComponent:la.func,sideButtonProps:la.object,customTabState:la.object},getDefaultProps:function(){return {hasSearchSupport:true,hideActionsButton:false};},getInitialState:function(){return {showFilter:false,filterMenuVisible:false,nonDispatchedField:null};},render:function(){var oa=null;if(this.refs.filterButton)oa=this._renderFilterLayer();return (z.createElement('div',{className:"_4r6a"},z.createElement('div',{className:"_2pi3 _2pi9"},z.createElement(n,null,this._renderLeftButtonGroup(),this._renderPagingControls())),this._renderFilterContainer(),oa,this._renderStaleContentNotice()));},_renderFilterLayer:function(){return (z.createElement(s,{filterButton:this.refs.filterButton,onFilterMenuChange:this._onFilterMenuChange,onToggle:this._onFilterMenuToggle,filterFieldsConfig:this.props.filterFieldsConfig,filterMenuVisible:this.state.filterMenuVisible,filterSet:this.state.filterSet}));},_onFilterMenuToggle:function(oa){this.setState({filterMenuVisible:oa});},_onFilterMenuChange:function(oa,pa,qa){if(pa.length===0)return;var ra=pa[0].getFilterReference().filterKey,sa=this.props.filterFieldsConfig[ra],ta=new i([new k(sa.field,sa.operators[0].operator,sa.values?sa.values[0].value:'')]),ua=this.state.filterSet?qa?j.mergeByField(this.state.filterSet,ta,true):j.excludeFiltersByField(this.state.filterSet,sa.field):ta;if(qa&&this.state.nonDispatchedField)ua=j.excludeFiltersByField(ua,this.state.nonDispatchedField);this.setState({filterMenuVisible:false,showFilter:qa||ua!=null,filterSet:ua,nonDispatchedField:qa?sa.field:null});if(!qa)this._dispatchFilterChange(ua);},_renderStaleContentNotice:function(){if(this.props.showNotice)return (z.createElement(x,{onRefreshView:this.props.onRefreshView}));return null;},_renderLeftButtonGroup:function(){var oa=this.props.hasSearchSupport?z.createElement(w,{onSearch:this._onSearch,query:this.props.query}):null,pa=this.props.sideButtonComponent,qa=pa?z.createElement(pa,babelHelpers._extends({},this.props.sideButtonProps,{customTabState:this.props.customTabState,page:this.props.page,tab:this.props.tab})):null;return (z.createElement('div',null,oa,this._renderActionsButton(),qa));},_renderActionsButton:function(){var oa=this.props.selectedPosts.length,pa=(this.props.actionConfig||[]).filter((function(sa){var ta=sa.allowBatch||oa===1;if(sa.isAvailable)return sa.isAvailable(this.props.selectedPosts,this.props.location)&&ta;return ta;}).bind(this)),qa=!oa||!pa.length,ra=z.createElement(ca,null,pa.map((function(sa){return sa==ka?z.createElement(ea,null):z.createElement(ja,{key:sa.key,disabled:sa.isDisabled&&sa.isDisabled(this.props.selectedPosts),onclick:(function(){if(oa===1){var ta=this.props.selectedPosts[0].id;u.log(v.ACTION_TAKEN_MAIN_VIEW,this.props.tab,{action:sa.key,post_id:ta,post_ids:[ta],num_posts:1,bulk_action:false});}else{var ua=[];this.props.selectedPosts.forEach(function(va){ua.push(va.id);});u.log(v.ACTION_TAKEN_MAIN_VIEW,this.props.tab,{action:sa.key,post_ids:ua,num_posts:ua.length,bulk_action:true});}sa.onClick(this.props.selectedPosts,this.props.page);}).bind(this)},sa.getLabel(oa,this.props.selectedPosts));}).bind(this)));return this.props.hideActionsButton?null:z.createElement(y,{disabled:qa,menu:ra},z.createElement(da,{className:this.props.hasSearchSupport?"_3-99":'',disabled:qa,label:ga._("\u0414\u0456\u0457")}));},_renderPagingControls:function(){if(this.props.hasPaginationSupport)return null;var oa=null;if(this.props.filterFieldsConfig&&this.props.filterValuesConfig){var pa=ga._("\u0424\u0456\u043b\u044c\u0442\u0440\u0438");oa=this.props.page.show_new_library_filters?z.createElement(da,{ref:'filterButton',haschevron:true,className:(this.state.filterVisible?"selected":'')+(' '+"_5bbf")+(' '+"_3-90"),label:pa,onClick:this._onClickFilterButton,size:'large'}):z.createElement(aa,{label:pa,onClick:this._onClickFilterButton,className:"_3-90"});}var qa=this.props.numPosts?ga._("{beginIndex} - {endIndex} of {totalNumber}",[ga.param('beginIndex',this.props.beginIndex+1),ga.param('endIndex',this.props.endIndex),ga.param('totalNumber',this.props.numPosts)]):null;if(qa!==null&&oa===null)qa=ga._("Showing {beginIndex} - {endIndex} of {totalNumber}",[ga.param('beginIndex',this.props.beginIndex+1),ga.param('endIndex',this.props.endIndex),ga.param('totalNumber',this.props.numPosts)]);return (z.createElement('div',{className:"_53wl"},oa,qa,z.createElement(ba,{className:"_3-9a"},z.createElement(aa,{disabled:this.props.beginIndex===0,image:z.createElement(m,{src:ia({name:'triangle-left',size:'small'})}),onClick:this.props.showPreviousPage,size:'medium'}),z.createElement(aa,{disabled:!this.props.hasNextPage,image:z.createElement(m,{src:ia({name:'triangle-right',size:'small'})}),onClick:this.props.showNextPage,size:'medium'}))));},_onClickFilterButton:function(){this.setState({showFilter:this.state.showFilter||!this.props.page.show_new_library_filters,filterMenuVisible:this.props.page.show_new_library_filters&&!this.state.filterMenuVisible});},_renderFilterContainer:function(){if(!this.props.filterFieldsConfig||!this.props.filterValuesConfig)return null;if(!this.state.showFilter)return null;return (z.createElement(r,{fieldsConfig:this.props.filterFieldsConfig,filterSet:this.state.filterSet,hideAddButton:this.state.nonDispatchedField!=null,onFilterChange:this._onFilterChange,valuesConfig:this.props.filterValuesConfig,onClear:this._onClearFilters,defaultFilterField:this.props.defaultFilterField,showNewFilters:this.props.page.show_new_library_filters}));},_onFilterChange:function(oa,pa,qa){var ra=pa===h.REMOVE&&qa<=1,sa=pa===h.EDIT||pa===h.ADD_INPUT||pa===h.REMOVE;this.setState({filterMenuVisible:false,filterSet:oa,nonDispatchedField:sa?null:this.state.nonDispatchedField,showFilter:!ra});this._dispatchFilterChange(oa);},_onClearFilters:function(event,oa){this.setState({showFilter:false,filterSet:null,nonDispatchedField:null});if(oa>=1)this._dispatchFilterChange(null);},_dispatchFilterChange:function(oa){q.handleFilterChanged(this.props.page.page_id,this.props.tab,oa);q.handleFilterStatus(this.props.page.page_id,this.props.tab,oa!==null);},_onSearch:function(oa){q.handleQueryChanged(this.props.page.page_id,this.props.tab,oa);}});f.exports=na;},null);
__d('PageContentTabPagingStore',['EventEmitter','Map','PageContentTabConstants','PageContentTabDispatcher'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';var n=j.ACTION_TYPES;l=babelHelpers.inherits(o,h);m=l&&l.prototype;function o(){m.constructor.call(this);this.$PageContentTabPagingStore1=new i();k.register(this.handleDispatcherPayload.bind(this));}o.prototype.getUIPaging=function(p,q,r){var s=this.$PageContentTabPagingStore2(p,q,r);return this.$PageContentTabPagingStore1.get(s)||0;};o.prototype.handleDispatcherPayload=function(p){var q=p.action;if(q.actionType!==n.PAGING_CHANGED)return;var r=this.$PageContentTabPagingStore2(q.pageID,q.tab,q.queryKey);this.$PageContentTabPagingStore1.set(r,q.currentPage);this.emit('changed',q.pageID,q.tab,q.queryKey,q.currentPage);};o.prototype.$PageContentTabPagingStore2=function(p,q,r){r=r||'';return p+q+r;};f.exports=new o();},null);
__d('PageContentTabDataLoader',['Map','GraphAPI','PageContentTabAccessToken','PageContentTabConfig','PageContentTabDispatcher','PageContentTabLogger','PageContentTabLoggingEvents','PageContentTabPagingStore','Promise'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=k.posts_per_page,r=2;function s(){this.$PageContentTabDataLoaderClass1=new h();this.$PageContentTabDataLoaderClass2=new h();this.$PageContentTabDataLoaderClass3=new h();this.$PageContentTabDataLoaderClass4=new h();o.addListener('changed',(function(t,u,v,w){this.fetchNextPosts(u,v,t);}).bind(this));}s.prototype.fetchPosts=function(t,u,v,w){var x=this.$PageContentTabDataLoaderClass5(w,u,v);this.$PageContentTabDataLoaderClass1.set(x,0);this.$PageContentTabDataLoaderClass2.set(x,t);this.$PageContentTabDataLoaderClass4.set(x,0);this.$PageContentTabDataLoaderClass6(u,v,w,0);};s.prototype.fetchNextPosts=function(t,u,v){var w=this.$PageContentTabDataLoaderClass5(v,t,u);if(this.$PageContentTabDataLoaderClass3.get(w)){var x=this.$PageContentTabDataLoaderClass1.get(w);this.$PageContentTabDataLoaderClass6(t,u,v,x);}};s.prototype.$PageContentTabDataLoaderClass6=function(t,u,v,w){var x=this.$PageContentTabDataLoaderClass5(v,t,u),y=this.$PageContentTabDataLoaderClass2.get(x);this.$PageContentTabDataLoaderClass3.set(x,false);var z=Date.now();y.done((function(aa){if(w!==this.$PageContentTabDataLoaderClass1.get(x))return;this.$PageContentTabDataLoaderClass1.set(x,w+1);var ba=this.$PageContentTabDataLoaderClass4.get(x),ca=aa.data?aa.data.length:0;this.$PageContentTabDataLoaderClass4.set(x,ba+ca);l.handleInitialization(t,u,{posts:aa.data,total_count:aa.summary&&aa.summary.total_count,finished:!aa.next},v);this.$PageContentTabDataLoaderClass1.set(x,w+1);if(aa.next){this.$PageContentTabDataLoaderClass2.set(x,aa.next());if(this.$PageContentTabDataLoaderClass7(v,t,u)){this.$PageContentTabDataLoaderClass6(t,u,v,w+1);}else this.$PageContentTabDataLoaderClass3.set(x,true);}m.log(n.DATA_LOADED,t,{num_posts:ca,elapsed_time:Date.now()-z});}).bind(this),function(aa){l.handleError(t,aa,v);m.log(n.API_ERROR,t,{error:JSON.stringify(aa)});throw aa;});};s.prototype.$PageContentTabDataLoaderClass7=function(t,u,v){var w=o.getUIPaging(t,u,v),x=this.$PageContentTabDataLoaderClass5(t,u,v),y=this.$PageContentTabDataLoaderClass4.get(x),z=(w+r)*q;return z>y;};s.prototype.$PageContentTabDataLoaderClass5=function(t,u,v){v=v||'';return t+u+v;};f.exports=new s();},null);
__d('PageContentTabFilterUtils',['AdsGenericFilter','AdsGenericFilterOperator','AdsGenericFilterSet','AdsGenericFilterSetUtil','AdsGenericFilterField','AdsGenericFilterFieldType','AdsGenericFilterOperatorConfig'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o={field:new l('message',m.STRING),operators:[n.CONTAIN,n.NOT_CONTAIN]};function p(s,t){if(!s)return '';var u=t?t.field:o.field,v=k.getFiltersByField(s,u);return v.length?v[0].value:'';}function q(s,t,u){var v=t?t.field:o.field,w=t?t.operator:i.CONTAIN,x=new j([new h(v,w,u)]);if(s)return k.mergeByField(s,x,true);return x;}var r={getSearchTextFromFilterSet:p,addSearchToFilterSet:q};f.exports=r;},null);
__d('PageContentTabQueryStore',['EventEmitter','Map','PageContentTabConstants','PageContentTabDispatcher'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';var n=j.ACTION_TYPES;l=babelHelpers.inherits(o,h);m=l&&l.prototype;function o(){m.constructor.call(this);this.$PageContentTabQueryStore1=new i();k.register(this.handleDispatcherPayload.bind(this));}o.prototype.$PageContentTabQueryStore2=function(p,q){var r=this.$PageContentTabQueryStore3(p,q);return this.$PageContentTabQueryStore1.get(r)||{queryKey:null,query:null,filter:null,sort:null};};o.prototype.getQueryKey=function(p,q){var r=this.$PageContentTabQueryStore2(p,q);return r.queryKey;};o.prototype.getQuery=function(p,q){var r=this.$PageContentTabQueryStore2(p,q);return r.query;};o.prototype.getFilter=function(p,q){var r=this.$PageContentTabQueryStore2(p,q);return r.filter;};o.prototype.getSort=function(p,q){var r=this.$PageContentTabQueryStore2(p,q);return r.sort;};o.prototype.handleDispatcherPayload=function(p){var q=p.action,r=this.$PageContentTabQueryStore2(q.pageID,q.tab),s=false;switch(q.actionType){case n.QUERY_KEY_CHANGED:r.queryKey=q.queryKey;s=true;break;case n.QUERY_CHANGED:r.query=q.query;s=true;break;case n.FILTER_CHANGED:r.filter=q.filter;s=true;break;case n.SORT_CHANGED:r.sort=q.sort;s=true;break;}if(!s)return;var t=this.$PageContentTabQueryStore3(q.pageID,q.tab);this.$PageContentTabQueryStore1.set(t,r);this.emit('change');};o.prototype.$PageContentTabQueryStore3=function(p,q){return p+q;};f.exports=new o();},null);
__d('PageContentTabHeader.react',['PageContentTabConstants','React','XUICardHeader.react','XUICardHeaderTitle.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=i.PropTypes,o=h.TABS,p=i.createClass({displayName:'PageContentTabHeader',propTypes:{count:n.number,label:n.string.isRequired,selectedCount:n.number.isRequired,tab:n.oneOf(Object.keys(o)).isRequired,createButtonComponent:n.func,createButtonProps:n.shape({entryPoint:n.string}),customTabState:n.object,pageID:n.string.isRequired},render:function(){var q=null;if(this.props.count||this.props.selectedCount)q=this.props.selectedCount?m._("{number_posts} selected",[m.param('number_posts',this.props.selectedCount)]):this.props.count;var r=null,s=this.props.createButtonComponent;if(s)r=i.createElement(s,babelHelpers._extends({},this.props.createButtonProps,{customTabState:this.props.customTabState,className:"_m71",pageID:this.props.pageID,tab:this.props.tab}));return (i.createElement(j,{type:'primary',link:r},i.createElement(k,null,i.createElement('span',null,' ',this.props.label,' '),i.createElement('span',{className:"_3fjn"},q))));}});f.exports=p;},null);
__d('PageContentTabNoPostsFoundView.react',['React','XUICard.react','cx','fbt','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=h.PropTypes,n=h.createClass({displayName:'PageContentTabNoPostsFoundView',propTypes:{className:m.string},render:function(){return (h.createElement(i,{className:l("_1cu2",this.props.className)},h.createElement('div',null,k._("Sorry, we couldn't find any results for this search."))));}});f.exports=n;},null);
__d('PageContentTabPostsStore',['EventEmitter','Map','PageContentTabConstants','PageContentTabDispatcher'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m,n=j.ACTION_TYPES;l=babelHelpers.inherits(o,h);m=l&&l.prototype;function o(p,q){'use strict';m.constructor.call(this);this.$PageContentTabPostsStore1=p;this.$PageContentTabPostsStore2=q;this.clear();k.register(this.$PageContentTabPostsStore3.bind(this));}o.prototype.clear=function(){'use strict';this.$PageContentTabPostsStore4=false;this.$PageContentTabPostsStore5=false;this.$PageContentTabPostsStore6=undefined;this.$PageContentTabPostsStore7=[];this.$PageContentTabPostsStore8=undefined;this.$PageContentTabPostsStore9=false;this.$PageContentTabPostsStore10=false;this.$PageContentTabPostsStore11=new i();this.$PageContentTabPostsStore12=new i();this.$PageContentTabPostsStore13={};this.$PageContentTabPostsStore14={};this.$PageContentTabPostsStore15={};this.$PageContentTabPostsStore16=undefined;};o.prototype.initPosts=function(p){'use strict';if(p.key){var q=this.$PageContentTabPostsStore11.has(p.key)?this.$PageContentTabPostsStore11.get(p.key):[];this.$PageContentTabPostsStore11.set(p.key,q.concat(p.data.posts));this.$PageContentTabPostsStore12.set(p.key,p.data.total_count);this.$PageContentTabPostsStore13[p.key]=true;this.$PageContentTabPostsStore14[p.key]=p.data.finished;}else{this.$PageContentTabPostsStore7=this.$PageContentTabPostsStore7.concat(p.data.posts);this.$PageContentTabPostsStore8=p.data.total_count;this.$PageContentTabPostsStore9=true;this.$PageContentTabPostsStore10=p.data.finished;}this.$PageContentTabPostsStore17();};o.prototype.getPosts=function(p,q,r,s){'use strict';var t=s?this.$PageContentTabPostsStore11.get(s):this.$PageContentTabPostsStore7;t=t||[];if(t.length===0){r([]);return;}if(t[p]&&t[q-1]){r(t.slice(p,q));return;}var u=s?this.$PageContentTabPostsStore14[s]:this.$PageContentTabPostsStore10;if(u){q=Math.min(t.length,q);r(t.slice(p,q));}};o.prototype.getAllPosts=function(p){'use strict';var q=p?this.$PageContentTabPostsStore11.get(p):this.$PageContentTabPostsStore7;return q.slice(0);};o.prototype.getError=function(){'use strict';return this.$PageContentTabPostsStore6;};o.prototype.shouldShowStaleContentNotice=function(){'use strict';return this.$PageContentTabPostsStore4;};o.prototype.setShowStaleContentNotice=function(p){'use strict';this.$PageContentTabPostsStore4=p;};o.prototype.setIsFilterApplied=function(p){'use strict';this.$PageContentTabPostsStore5=p;};o.prototype.isFilterApplied=function(){'use strict';return this.$PageContentTabPostsStore5;};o.prototype.hasNextPage=function(p,q){'use strict';var r=q?this.$PageContentTabPostsStore11.get(q):this.$PageContentTabPostsStore7;r=r||[];var s=q?this.$PageContentTabPostsStore14[q]:this.$PageContentTabPostsStore10;return r.length>p||!s;};o.prototype.getPost=function(p){'use strict';var q=this.$PageContentTabPostsStore7.filter(function(r){return r.id===p;});return q.length?q[0]:null;};o.prototype.addNewPost=function(p){'use strict';this.$PageContentTabPostsStore8++;this.$PageContentTabPostsStore7.unshift(p);this.$PageContentTabPostsStore17();};o.prototype.addNewPosts=function(p){'use strict';this.$PageContentTabPostsStore8+=p.length;this.$PageContentTabPostsStore7=p.concat(this.$PageContentTabPostsStore7);this.$PageContentTabPostsStore17();};o.prototype.removePost=function(p){'use strict';var q=this.getPost(p)!==null;this.$PageContentTabPostsStore8=q?this.$PageContentTabPostsStore8-1:this.$PageContentTabPostsStore8;this.$PageContentTabPostsStore7=this.$PageContentTabPostsStore7.filter(function(r){return r.id!==p;});this.$PageContentTabPostsStore11.forEach((function(r,s,t){var u=r.filter(function(v){return v.id!==p;});if(u.length<r.length){t.set(s,u);this.$PageContentTabPostsStore12.set(s,this.$PageContentTabPostsStore12.get(s)-1);}}).bind(this));this.$PageContentTabPostsStore17();};o.prototype.removePosts=function(p){'use strict';this.$PageContentTabPostsStore7=this.$PageContentTabPostsStore7.filter(function(q){return p.indexOf(q.id)!==-1;});this.$PageContentTabPostsStore8=this.$PageContentTabPostsStore7.length;this.$PageContentTabPostsStore11.forEach((function(q,r,s){var t=q.filter(function(u){return p.indexOf(u.id)!==-1;});if(t.length<q.length){s.set(r,t);this.$PageContentTabPostsStore12.set(r,this.$PageContentTabPostsStore12.get(r)-1);}}).bind(this));this.$PageContentTabPostsStore17();};o.prototype.setCustomTabState=function(p){'use strict';Object.assign(this.$PageContentTabPostsStore15,p);};o.prototype.setOnPostChangeCustomTabStateGetter=function(p){'use strict';this.$PageContentTabPostsStore16=p;};o.prototype.getCustomTabState=function(){'use strict';return babelHelpers._extends({},this.$PageContentTabPostsStore15);};o.prototype.getTotalCount=function(p){'use strict';return this.$PageContentTabPostsStore18(p)||0;};o.prototype.isInitialLoadComplete=function(p){'use strict';return p?!!this.$PageContentTabPostsStore13[p]:this.$PageContentTabPostsStore9;};o.prototype.$PageContentTabPostsStore17=function(){'use strict';if(this.$PageContentTabPostsStore16)this.setCustomTabState(this.$PageContentTabPostsStore16(this.$PageContentTabPostsStore7));};o.prototype.$PageContentTabPostsStore18=function(p){'use strict';return p?this.$PageContentTabPostsStore12.get(p):this.$PageContentTabPostsStore8;};o.prototype.$PageContentTabPostsStore19=function(p,q){'use strict';p.forEach(function(r){if(r.id===q.id)Object.assign(r,q);});};o.prototype.changePost=function(p){'use strict';this.$PageContentTabPostsStore11.forEach((function(q){this.$PageContentTabPostsStore19(q,p);}).bind(this),this);this.$PageContentTabPostsStore19(this.$PageContentTabPostsStore7,p);this.$PageContentTabPostsStore17();this.emit('postsChanged');};o.prototype.$PageContentTabPostsStore20=function(p){'use strict';return p.embeddable!==undefined||p.social_actions!==undefined||p.secret!==undefined||p.no_story!==undefined;};o.prototype.$PageContentTabPostsStore3=function(p){'use strict';if(p.action.actionType===n.EDIT_POST){if(p.action.tab&&p.action.tab!==this.$PageContentTabPostsStore1||p.action.pageID&&p.action.pageID!==this.$PageContentTabPostsStore2)return;if(this.$PageContentTabPostsStore20(p.action.post))this.setShowStaleContentNotice(true);this.changePost(p.action.post);return;}if(p.action.tab!==this.$PageContentTabPostsStore1||p.action.pageID!==this.$PageContentTabPostsStore2)return;switch(p.action.actionType){case n.ADD_POSTS:this.initPosts(p.action.posts);break;case n.CREATE_POST:this.addNewPost(p.action.post);break;case n.CREATE_POSTS:this.addNewPosts(p.action.posts);break;case n.REMOVE_POST:this.removePost(p.action.postID);break;case n.REMOVE_POSTS:this.removePosts(p.action.postIDs);break;case n.UPDATE_STALE_CONTENT_NOTICE:this.setShowStaleContentNotice(p.action.status);break;case n.UPDATE_FILTER_STATUS:this.setIsFilterApplied(p.action.status);break;case n.ERROR:this.$PageContentTabPostsStore6=p.action.error;break;case n.SET_CUSTOM_TAB_STATE:this.setCustomTabState(p.action.customTabState);break;default:return;}this.emit('postsChanged');};f.exports=o;},null);
__d('PageContentTabSortUtils',['PageContentTabConstants','PagePostGraphFields','VideoGraphFields','VideoCopyrightVideoAssetGraphFields','VideoCopyrightMatchGraphFields','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=h.COLUMNS,o={toAPI:function(p,q){if(!p)return [];var r=q===h.SORT_ORDER_ASC?'_ascending':'_descending';switch(p){case n.POST:return [i.MESSAGE+r];case n.DATE_CREATED:return [i.CREATION_TIME+r];case n.DATE_LAST_MODIFIED:return [i.EDITED_BY+r];case n.SCHEDULED_PUBLISH_TIME:return [i.SCHEDULED_PUBLISH_TIME+r];case n.VIDEO_DATE_CREATED:return [j.CREATED_TIME+r];case n.FORM_DATE_CREATED:return ['created_time'+r];case n.PUBLISHED_DATE:return [k.PUBLISHED_TIME+r];case n.VIDEO_VIEWS:return [k.VIEW_COUNT+r];case n.OVERLAP:return [l.VIDEO_TOTAL_MATCH_DURATION+r];case n.EXPIRES_DAYS:return [l.EXPIRATION_DAYS+r];case n.REFERENCE_VIDEO:return [l.REFERENCE_VIDEO_ASSET+r];default:m(0);}}};f.exports=o;},null);
__d('CanvasDataUtils',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={getFieldsForPagesCanvasList:function(){return ['id','name','background_color','is_published','update_time','element_payload','canvas_link','last_editor'];}};f.exports=h;},null);
__d('AdsCanvasComposerDialog.react',['AdsCanvasEditorContainer.react','CanvasDataUtils','GraphAPI','LayerFadeOnHide','PageContentTabAccessToken','PageContentTabConstants','PageContentTabDispatcher','React','XUIButton.react','XUIDialog.react','XUIDialogTitle.react','XUIDialogBody.react'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=o.PropTypes,u=o.createClass({displayName:'AdsCanvasComposerDialog',propTypes:{canvas:t.shape({id:t.string.isRequired,name:t.string,is_published:t.bool.isRequired,element_payload:t.string}),pageID:t.string.isRequired,shownInitially:t.bool},getInitialState:function(){return {canvas:this.props.canvas,dialogShown:this.props.shownInitially};},_renderDialog:function(){if(!this.state.dialogShown)return null;var v=null;if(this.state.canvas){v=o.createElement(h,{adsCanvasBackgroundColor:this.state.canvas.background_color,adsCanvasID:this.state.canvas.id,adsCanvasName:this.state.canvas.name,adsCanvasElementPayload:this.state.canvas.element_payload,adsCanvasIsPublished:this.state.canvas.is_published,adsCanvasURL:this.state.canvas.canvas_link,accessToken:l.getAccessToken(),pageID:this.props.pageID,onSaveCanvas:this._saveCanvas,onPublishCanvas:this._publishCanvas});}else v=o.createElement(h,{adsCanvasIsPublished:false,adsCanvasURL:'',pageID:this.props.pageID,onSaveCanvas:this._saveCanvas,onPublishCanvas:this._publishCanvas});return (o.createElement(q,{behaviors:{LayerFadeOnHide:k},causalElementRef:(function(){return this.refs.button;}).bind(this),hideOnEscape:false,layerHideOnBlur:false,onToggle:this._onToggle,shown:this.state.dialogShown,width:1080},o.createElement(r,null,o.createElement('span',null,'Canvas Editor')),o.createElement(s,null,v)));},render:function(){return (o.createElement('div',null,this._renderDialog(),o.createElement(p,{label:'Edit',onClick:this._clickHandler})));},_onToggle:function(v){this.setDialogShown(v);},_saveCanvas:function(v,w,x,y,z,aa,ba,ca){if(v){j('2.5').object('rich_media_document',v).post({access_token:l.getAccessToken(),name:w,background_color:y,is_published:x,elements:z}).done((function(da){if(v)this._onSaveSuccess(v,ca);if(aa)aa(da);}).bind(this),function(da){if(ba)ba(da);});}else j('2.5').object('page',this.props.pageID).edge('rich_media_documents').post({access_token:l.getAccessToken(),owner_id:this.props.pageID,name:w,background_color:y,is_published:x,elements:z}).done((function(da){if(da.id)this._onSaveSuccess(da.id,ca);if(aa)aa(da);}).bind(this),function(da){if(ba)ba(da);});},_onSaveSuccess:function(v,w){j('2.5').object('rich_media_document',v).get({access_token:l.getAccessToken(),fields:i.getFieldsForPagesCanvasList()}).done((function(x){if(this.state.canvas){n.handlePostChanged(x);}else n.handlePostCreated(m.TABS.ADS_CANVAS,x,this.props.pageID);this.setState({canvas:x});if(w)w(x);}).bind(this));},_publishCanvas:function(v,w){if(this.state.canvas&&this.state.canvas.id){var x=this.state.canvas.id;j('2.5').object('rich_media_document',x).post({access_token:l.getAccessToken(),is_published:true}).done((function(y){if(x)this._onSaveSuccess(x);if(v)v(y);}).bind(this),function(y){if(w)w(y);});}},_clickHandler:function(v){v.stopPropagation();this.setDialogShown(true);},setDialogShown:function(v){this.setState({dialogShown:v});},_onShow:function(){this.setDialogShown(true);},_onClose:function(){this.setDialogShown(false);}});f.exports=u;},null);
__d('AdsCanvasCreateButton.react',['AdsCanvasComposerDialog.react','DOM','Image.react','React','ReactDOM','XUIButton.react','fbt','xuiglyph'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=k.PropTypes,q=k.createClass({displayName:'AdsCanvasCreateButton',propTypes:{pageID:p.string.isRequired},render:function(){return (k.createElement('span',null,k.createElement(m,{label:n._("Create"),image:k.createElement(j,{src:o({name:'plus',size:'small',shade:'white'})}),use:'confirm',onClick:this._showComposer})));},_showComposer:function(){l.render(k.createElement(h,{pageID:this.props.pageID,shownInitially:true}),i.create('div'));}});f.exports=q;},null);
__d('PageContentTabTextUtils',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={getPostID:function(i){var j=i.split('_');return j.pop();}};f.exports=h;},null);
__d('PageContentTabCommonConfig',['DOM','React','ReactDOM','LayerFadeOnHide','LayerHideOnEscape','PageContentTabConfirmationDialog.react','PageContentTabConstants','PageContentTabTextUtils','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogOkayButton.react','XUIDialogTitle.react'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u=n.COLUMNS,v={getValueFromInsight:function(w){if(w.values&&w.values.length===1)return w.values[0].value.toString();return "0";},maxInsightValue:function(w,x){var y=0;w.forEach(function(z){var aa=z.insights&&z.insights.data;(aa||[]).forEach(function(ba){if(ba.name===x){var ca=v.getValueFromInsight(ba);y=Math.max(y,parseInt(ca,10));}});});return y;},maxProductInsightValue:function(w,x){var y=0;w.forEach(function(z){var aa=x.map(function(ca){return z.commerce_insights[ca];}),ba=aa.reduce(function(ca,da){return ca+da;});y=Math.max(y,ba?ba:0);});return y;},showErrorDialog:function(w,x){j.render(i.createElement(p,{shown:true,behaviors:{LayerFadeOnHide:k,LayerHideOnEscape:l},width:600},i.createElement(t,null,i.createElement('span',null,w)),i.createElement(q,null,x),i.createElement(r,null,i.createElement(s,{use:'confirm',action:'cancel'}))),h.create('div'));},showConfirmationDialog:function(w,x,y,z,aa){j.render(i.createElement(m,{cancelLabel:aa,title:w,body:x,confirmationLabel:y,onConfirm:z}),h.create('div'));},createScheduledPostRow:function(w,x){var y=v.createDraftPostRow(w,x);y[u.SCHEDULED_PUBLISH_TIME]={time:w.scheduled_publish_time,admin:w.admin_creator&&w.admin_creator.name};y[u.PROMOTION_STATUS]=w.promotion_info;y[u.ID]=o.getPostID(w.id);return y;},createDraftPostRow:function(w,x){return v._createUnpublishedPostRowBase(w,x);},_createUnpublishedPostRowBase:function(w,x){var y={};y[u.POST]={id:w.id,text:w.message,img:w.thumbnail||x.picture&&x.picture.url,url:w.permalink_url,owner:x.page_id,place:w.place,og_action_summary:w.og_action_summary};y[u.DATE_CREATED]={time:w.creation_time,admin:w.admin_creator&&w.admin_creator.name};y[u.DATE_LAST_MODIFIED]={edit_actions:w.edit_actions&&w.edit_actions.data,modified_time:w.modified_time};y[u.LOCATION_LANGUAGE]=w.privacy_description;return y;}};f.exports=v;},null);
__d('PageContentTabAdsCanvasActionsConfig',['AdsCanvasComposerDialog.react','CanvasDataUtils','DOM','GraphAPI','PageContentTabAccessToken','PageContentTabCommonConfig','PageContentTabConstants','PageContentTabDispatcher','PageContentTabLogger','PageContentTabLoggingEvents','React','ReactDOM','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u=n.ACTIONS;function v(w){return [{allowBatch:false,getLabel:function(){return t._("Edit");},key:u.EDIT,onClick:function(x){s.render(r.createElement(h,{canvas:x[0],pageID:w.page_id,shownInitially:true}),j.create('div'));}},{allowBatch:true,getLabel:function(x){return x<=1?t._("Delete"):t._("Delete ({Number of canvases})",[t.param('Number of canvases',x)]);},key:u.DELETE,onClick:function(x,y){m.showConfirmationDialog(t._("Delete Canvas?"),t._({"canvas":"Are you sure you want to delete selected canvas?","canvases":"Are you sure you want to delete selected canvases?"},[t['enum'](x.length===1?'canvas':'canvases',{canvas:'canvas',canvases:'canvases'})]),t._("Delete"),function(){x.forEach(function(z){k('2.5').object('rich_media_document',z.id).remove({access_token:l.getAccessToken()}).done(function(aa){o.handlePostRemoved(y.page_id,z.id);},function(aa){p.log(q.API_ERROR,n.TABS.ADS_CANVAS,{error:JSON.stringify(aa),action:u.DELETE,post_id:z.id});});});},null);}},{allowBatch:false,getLabel:function(x){return t._("Duplicate");},key:u.DUPLICATE,onClick:function(x,y){var z=x[0];m.showConfirmationDialog(t._("Duplicate Canvas?"),t._("Are you sure you want to duplicate canvas: {canvas_name}",[t.param('canvas_name',z.name)]),t._("Duplicate"),function(){k('2.5').object('page',y.page_id).edge('rich_media_documents').post({access_token:l.getAccessToken(),owner_id:y.page_id,name:z.name+' Copy',background_color:z.background_color,is_published:false,elements:z.element_payload}).done(function(aa){if(aa.id)k('2.5').object('rich_media_document',aa.id).get({access_token:l.getAccessToken(),fields:i.getFieldsForPagesCanvasList()}).done(function(ba){o.handlePostCreated(n.TABS.ADS_CANVAS,ba,y.page_id);});},function(aa){p.log(q.API_ERROR,n.TABS.ADS_CANVAS,{error:JSON.stringify(aa),action:u.DELETE,post_id:z.id});});},null);}}];}f.exports=v;},null);
__d('AdsCanvasCellRenderers',['React','XUIGrayText.react','fbt','formatDate'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l={renderName:function(m,n,o){return (h.createElement('div',null,m));},renderUpdateTime:function(m,n,o){var p=new Date(m*1000);return (h.createElement('div',null,h.createElement('div',null,j._("{date} at {time}",[j.param('date',k(p,'m/d/Y')),j.param('time',k(p,'g:ia'))])),h.createElement(i,null,o.last_editor.name)));},renderPublishStatus:function(m,n,o){if(m){return j._("Published");}else return j._("Draft");}};f.exports=l;},null);
__d('PageContentTabAdsCanvasColumnsConfig',['AdsCanvasCellRenderers','AdsCanvasComposerDialog.react','PageContentTabConstants','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=j.COLUMNS,n=j.COLUMN_GROUPS;function o(p){return [{alwaysSelected:true,cellRenderer:h.renderName,initiallySelected:true,isShown:function(){return true;},key:m.ADS_CANVAS_NAME,label:l._("Title"),mainColumn:true},{cellRenderer:h.renderUpdateTime,initiallySelected:true,isShown:function(){return true;},key:m.ADS_CANVAS_UPDATE_TIME,label:l._("Last Updated")},{cellRenderer:h.renderPublishStatus,getWidth:function(){return 120;},initiallySelected:true,isShown:function(){return true;},key:m.ADS_CANVAS_IS_PUBLISHED,label:l._("Status")},{cellRenderer:function(q){var r=q[0],s=q[1];return (k.createElement(i,{canvas:r,pageID:s.page_id}));},getWidth:function(){return 70;},group:n.BUTTONS,initiallySelected:true,isShown:function(){return true;},key:m.ADS_CANVAS_EDITOR,label:l._("Edit")}];}f.exports=o;},null);
__d('PageContentTabNullState.react',['Image.react','React','cx'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=i.PropTypes,l=i.createClass({displayName:'PageContentTabNullState',propTypes:{image:k.object,content:k.object.isRequired},render:function(){var m=this.props.image?i.createElement('div',null,i.createElement(h,{src:this.props.image,className:"_3-96"})):null;return (i.createElement('div',{className:"_1k4b"},m,i.createElement('div',{className:"_2_e5"},this.props.content)));}});f.exports=l;},null);
__d('PageContentTabAdsCanvasConfig',['AdsCanvasCreateButton.react','CanvasDataUtils','GraphAPI','PageContentTabAdsCanvasActionsConfig','PageContentTabAdsCanvasColumnsConfig','PageContentTabConstants','PageContentTabNullState.react','Promise','React','RichMediaDocumentPublishDialog.react','ix','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t=m.COLUMNS;function u(v){return {actions:k(v),columns:l(v),enabled:v.can_publish_ads_canvas,id:m.TABS.ADS_CANVAS,image:r('/images/ads/canvas/icons_mini/canvas_icon.png'),label:s._("Canvas"),createOverlay:function(w,x){if(w.is_published){return (p.createElement(q,{documentURL:w.canvas_link,isPublished:w.is_published}));}else return (p.createElement(q,{documentURL:'',isPublished:false}));},createTableRow:function(w,x){var y={};y[t.ID]=w.id;y[t.ADS_CANVAS_NAME]=w.name;y[t.ADS_CANVAS_UPDATE_TIME]=w.update_time;y[t.ADS_CANVAS_IS_PUBLISHED]=w.is_published;y[t.ADS_CANVAS_EDITOR]=[w,x];y.last_editor=w.last_editor;return y;},getDataLoadPromise:function(w,x,y,z){return j('2.5').object('page',x.page_id).edge('rich_media_documents').get({access_token:w,fields:i.getFieldsForPagesCanvasList()});},renderErrorState:function(w){return (p.createElement(n,{content:p.createElement('div',null,s._("Something went wrong and we couldn't load your canvases. Please try again later. {error}",[s.param('error',w.message)]))}));},renderNullState:function(){return (p.createElement(n,{content:p.createElement('div',null,s._("No canvases created yet."))}));},createButtonComponent:h,hasSearchSupport:false,rowHeight:50};}f.exports=u;},null);
__d('PageProductActions',['ActorURI','AsyncRequest','PageContentTabCommonConfig','PageContentTabDispatcher','PageContentTabLoadingDialog','XPagesManagerProductDeleteController','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o={deleteProducts:function(p,q,r){l.show();var s=h.create(m.getURIBuilder().setStringVector('group_ids',p).getURI(),q);new i(s).setMethod('POST').setHandler(function(t){p.forEach(function(u){return k.handlePostRemoved(q,u);});}).setFinallyHandler(function(){l.hide();r&&r();}).send();},deleteProductsWithConfirmation:function(p,q,r){var s=p.length===1?n._("Deleting this product will remove it from your shop"):n._("Deleting these products will remove them from your shop");j.showConfirmationDialog(n._({"Product":"Delete Product?","Products":"Delete Products?"},[n['enum'](p.length===1?'Product':'Products',{Product:'Product',Products:'Products'})]),s,n._({"product":"Delete product","products":"Delete products"},[n['enum'](p.length===1?'product':'products',{product:'product',products:'products'})]),o.deleteProducts.bind(o,p,q,r),null);}};f.exports=o;},null);
__d('DummySearchSource',['AbstractSearchSource'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j;i=babelHelpers.inherits(k,h);j=i&&i.prototype;k.prototype.searchImpl=function(l,m,n){'use strict';m([],l);};function k(){'use strict';i.apply(this,arguments);}f.exports=k;},null);
__d('PageCommerceProductVariantPage.react',['AccessibleTableParts.react','CommerceProductVariantType','CommerceUI','CurrencyInput.atlas','DummySearchSource','FreeformSearchSource','Image.react','Layout.react','Link.react','NumberInput.atlas','React','SearchableEntry','XUIGrayText.react','XUISingleSelector.react','XUITable.react','XUITokenizer.react','cx','fbt','glyph','isEmpty'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){'use strict';if(c.__markCompiled)c.__markCompiled();var ba=r.PropTypes,ca=h.BodyRow,da=h.HeadRow,ea=o.Column,fa=o.FillColumn,ga=u.Option,ha=r.createClass({displayName:'PageCommerceProductVariantPage',propTypes:{currencyCode:ba.string.isRequired,defaultVariantPrice:ba.number,setVariantInfo:ba.func.isRequired,variants:ba.arrayOf(ba.shape({label:ba.string,options:ba.arrayOf(ba.string),canDelete:ba.bool})).isRequired,variantItems:ba.objectOf(ba.shape({properties:ba.object,price:ba.number,inventory:ba.number,productID:ba.number})).isRequired},getInitialState:function(){return {searchSource:new m(new l(),function(ia){return ia;},0)};},render:function(){var ia=null;if(this.props.variants.length<j.MAX_VARIANTS)ia=r.createElement(p,{onClick:this._addNewVariantInput},'Add Variant');return (r.createElement('div',{className:"_3-8j"},r.createElement('div',{ref:'variant_input_list'},this.props.variants.map((function(ja,ka){return (this._getVariantInput(ja,ka,this._getVariantLabels()));}).bind(this))),ia,this._getVariantsTable()));},_getVariantInput:function(ia,ja,ka){var la=null;if(ia.canDelete)la=r.createElement(ea,null,r.createElement(n,{className:"_11dw",onClick:this._removeVariant.bind(this,ia,ja),src:z('remove')}));return (r.createElement('div',{key:'variant'+ja,className:"_3-95"},r.createElement(o,null,r.createElement(ea,null,this._getVariantOptions(ia,ja,ka)),r.createElement(fa,{className:"_2pis"},r.createElement(w,{entries:this._getTokenizerEntries(ia),searchSource:this.state.searchSource,onRemoveEntryAttempt:this._onRemoveVariantOptionAttempt.bind(this,ia,ja),onAddEntryAttempt:this._onAddVariantOptionAttempt.bind(this,ia,ja),tokenizeQueryString:this._tokenizeQueryString.bind(this,ia,ja),selectOnBlur:true})),la)));},_getVariantsTable:function(){if(aa(this.props.variantItems))return null;var ia=[];for(var ja in this.props.variantItems){var ka=this.props.variantItems[ja],la=ka.properties,ma=[];this.props.variants.forEach(function(oa,pa){var qa=la&&la[oa.label]?la[oa.label]:'';ma.push(r.createElement('td',{className:"_2ncv",key:pa},qa));});ma.push(r.createElement('td',{width:'50',key:ja+'inventory'},r.createElement(q,{isZeroValidValue:true,name:'inventory',nonnegative:true,value:ka.inventory,formatNumber:false,onValueUpdated:this._updateVariantItem.bind(this,ja,'inventory')})));ma.push(r.createElement('td',{width:'50',key:ja+'price'},r.createElement(k,{currency:this.props.currencyCode,onChange:this._updateVariantItem.bind(this,ja,'price'),value:ka.price})));ia.push(r.createElement(ca,{key:ja},ma));}var na=[];this.props.variants.forEach(function(oa,pa){na.push(r.createElement('th',{key:oa.label+pa},oa.label));});na.push(r.createElement('th',{key:'inventory'},'Inventory'));na.push(r.createElement('th',{key:'price'},'Price'));return (r.createElement(v,{outerBorder:true,className:"_2ncw"},r.createElement('thead',null,r.createElement(da,null,na)),r.createElement('tbody',null,ia)));},_updateVariantItem:function(ia,ja,ka){var la=this.props.variantItems;la[ia][ja]=ka;this.props.setVariantInfo({variantItems:la});},_getVariantItems:function(ia,ja){var ka={};this._getVariantCombos(ia.slice(0)).forEach((function(la){var ma=[];for(var na in la)ma.push(la[na]);ma.sort();var oa=JSON.stringify(ma);ka[oa]={properties:la,price:this.props.defaultVariantPrice,inventory:0};if(oa in ja)ka[oa].productID=ja[oa].productID;}).bind(this));return ka;},_getVariantCombos:function(ia){if(ia.length===0)return [{}];var ja=[],ka=ia.shift(),la=this._getVariantCombos(ia.slice(0));if(ka.options.length==0)return la;ka.options.forEach(function(ma){la.forEach(function(na){var oa=Object.assign({},na);oa[ka.label]=ma;ja.push(oa);});});return ja;},_getTokenizerEntries:function(ia){return ia.options.map(function(ja){return new s({uniqueID:ja,title:ja});});},_onRemoveVariantOptionAttempt:function(ia,ja,ka){var la=ka.getTitle(),ma=ia.options.indexOf(la);if(ma>=0)ia.options.splice(ma,1);var na=this.props.variantItems;if(ia.options.length==0){var oa={};for(var pa in na){var qa=JSON.parse(pa);ma=qa.indexOf(la);if(ma>=0)qa.splice(ja,1);qa.sort();oa[JSON.stringify(qa)]=na[pa];}na=oa;}this._updateVariant(ia,ja,na);},_onAddVariantOptionAttempt:function(ia,ja,ka){var la=ka.getTitle().trim();if(ia.options.indexOf(la)>=0||la.length===0)return;ia.options.push(la);var ma=this.props.variantItems;if(ia.options.length==1){var na={};for(var oa in ma){var pa=JSON.parse(oa);pa.push(la);pa.sort();na[JSON.stringify(pa)]=ma[oa];}ma=na;}this._updateVariant(ia,ja,ma);},_updateVariant:function(ia,ja,ka){var la=this.props.variants;la[ja]=ia;var ma=this._getVariantItems(la,ka);this.props.setVariantInfo({variants:la,variantItems:ma});},_tokenizeQueryString:function(ia,ja,ka){if(!ka||!ka.includes(','))return null;var la=ka.split(',').filter(function(na){return na!=='';}),ma=la.pop();la.map((function(na){this._onAddVariantOptionAttempt(ia,ja,new s({uniqueID:na,title:na}));}).bind(this));return new s({uniqueID:ma,title:ma});},_addNewVariantInput:function(){var ia=this.props.variants;ia.push(this._getDefaultVariant());this.props.setVariantInfo({variants:ia});},_removeVariant:function(ia,ja){var ka=this.props.variants;ka.splice(ja);this.props.setVariantInfo({variants:ka});},_getVariantLabels:function(){return this.props.variants.map(function(ia){return String(ia.label);});},_getDefaultVariant:function(){var ia=this._getVariantLabels(),ja;for(var ka in i){var la=i[ka];if(ia.indexOf(la)===-1){ja=la;break;}}return {label:ja,options:[],canDelete:true};},_getVariantOptions:function(ia,ja,ka){var la=[];for(var ma in i){var na=i[ma];if(ia.label!==na&&ka.indexOf(na)!==-1)continue;la.push(r.createElement(ga,{key:ma+ja,value:na},na));}return (r.createElement(u,{className:"_11dy",onChange:this._onSelectorChange.bind(this,ia,ja),value:ia.label,size:'large'},la));},_onSelectorChange:function(ia,ja,ka){ia.label=ka.value;this._updateVariant(ia,ja,this.props.variantItems);}});f.exports=ha;},null);
__d("XPagesManagerProductPhotoUploadController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/upload\/file\/product\/photo\/",{waterfall_id:{type:"String"}});},null,{});
__d('ReactComposerPhotoActions',['ReactComposerPhotoActionType','ReactComposerDispatcher','ReactComposerPhotoStore'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();c('ReactComposerPhotoStore');var j={startRecognizing:function(k,l){i.dispatch({composerID:k,photoID:l,type:h.PHOTO_RECOGNITION_STARTED});},finishRecognizingPhoto:function(k,l){i.dispatch({composerID:k,type:h.PHOTO_RECOGNITION_FINISHED,photoID:l});},finishRecognizing:function(k,l){i.dispatch({composerID:k,type:h.PHOTO_RECOGNITION_ALL_FINISHED,photos:l});},addFacebox:function(k,l,m){i.dispatch({composerID:k,type:h.PHOTO_ADD_FACEBOX,photoID:l,facebox:m});},tagXY:function(k,l,m,n,o,p,q){i.dispatch({composerID:k,type:h.PHOTO_TAG_XY,value:m,photoID:l,source:n,subject:o,x:p,y:q});},tagFacebox:function(k,l,m,n,o){i.dispatch({composerID:k,type:h.PHOTO_TAG_FACEBOX,photoID:l,faceboxID:m,subjectID:n,value:o});},untagFacebox:function(k,l,m,n){i.dispatch({composerID:k,type:h.PHOTO_UNTAG_FACEBOX,photoID:l,faceboxID:m,subjectID:n});},removePhoto:function(k,l,m){i.dispatch({composerID:k,type:h.PHOTO_REMOVE,photoID:l,uploadID:m});},untagSubjectFromAllPhotos:function(k,l){i.dispatch({composerID:k,type:h.PHOTO_UNTAG_SUBJECT_FROM_ALL_PHOTOS,subjectID:l});},startPhotoEdit:function(k){i.dispatch({composerID:k,type:h.PHOTO_EDIT_STARTED});},finishPhotoEdit:function(k){i.dispatch({composerID:k,type:h.PHOTO_EDIT_FINISHED});},setPhotoBeingTagged:function(k,l){i.dispatch({composerID:k,photoID:l,type:h.PHOTO_SET_BEING_TAGGED});}};f.exports=j;},null);
__d("XStickerPhotoEditorController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/photos\/editor\/sticker_editor\/",{grid_id:{type:"String"},feedback_id:{type:"String"},target_type:{type:"Enum",required:true,enumType:1},photo_fbid:{type:"Int",required:true},latest_fbid:{type:"Int"},initial_tab:{type:"Enum",enumType:1}});},null,{});
__d('PageProductPhotoEditButton.react',['ActorURI','Arbiter','AsyncRequest','BOFSellerLogger','BOFSellerLoggerEvent','ReactComposerPhotoActions','PhotoEditorTargetType','XPagesManagerProductPhotoUploadController','React','Tooltip','XComposerPhotoUploader','XStickerPhotoEditorController','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v,w;'use strict';var x=p.PropTypes;v=babelHelpers.inherits(y,p.Component);w=v&&v.prototype;y.prototype.componentDidMount=function(){i.subscribe('PageProductPhotoEditor/newImage'+this.props.composerID,this.$PageProductPhotoEditButton1.bind(this));};y.prototype.render=function(){var z=u._("\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0441\u0432\u0456\u0442\u043b\u0438\u043d\u0443");return (p.createElement('button',babelHelpers._extends({className:"_k4v",onClick:this.$PageProductPhotoEditButton2.bind(this)},q.propsFor(z)),p.createElement('div',{className:"_k4w"})));};y.prototype.$PageProductPhotoEditButton2=function(){if(this.$PageProductPhotoEditButton3)return;k.log(l.ACTN_EDIT_PHOTO_CLICK,this.props.pageID,{target_class:'Photo',target_id:this.props.photoID});var z=s.getURIBuilder().setString('grid_id',this.props.composerID).setEnum('target_type',n.PAGE_PRODUCT_COMPOSER).setInt('photo_fbid',this.props.photoID).getURI();this.$PageProductPhotoEditButton3=new j(z).setFinallyHandler((function(){this.$PageProductPhotoEditButton3=null;}).bind(this)).send();m.startPhotoEdit(this.props.composerID);};y.prototype.$PageProductPhotoEditButton1=function(z,aa){var ba=h.create(o.getURIBuilder().getURI(),this.props.pageID),ca=new r({uploadEndpoint:ba,onUploadSuccess:(function(da,ea){this.props.onPhotoEdited(aa.fbid,ea.response.payload[0]);}).bind(this)});ca.getAsyncUploadRequest([aa.blob]).send();};function y(){v.apply(this,arguments);}y.propTypes={composerID:x.string.isRequired,onPhotoEdited:x.func.isRequired,pageID:x.string.isRequired,photoID:x.string.isRequired};f.exports=y;},null);
__d('PageContentTabProductPhotoUploader.react',['ActorURI','Image.react','Link.react','Omnipicker.react','ComputerPanel.react','OmnipickerComputerSelector.react','OmnipickerDialog.react','OmnipickerDialogRenderer','OmnipickerPagePostedPhotosPanel.react','OmnipickerPagePostedPhotosSelector.react','OmnipickerPanelList.react','OmnipickerSelectorList.react','OmnipickerWaterfallLogger','XPagesManagerProductPhotoUploadController','PUWApplications','PUWSteps','React','WaterfallIDGenerator','XUICloseButton.react','PageProductPhotoEditButton.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca){'use strict';if(c.__markCompiled)c.__markCompiled();var da=x.PropTypes,ea=x.createClass({displayName:'PageContentTabProductPhotoUploader',_waterfallLogger:t,propTypes:{maxPhotosCount:da.number,pageID:da.string.isRequired,onPhotoEdited:da.func,onPhotosSelected:da.func.isRequired,onPhotoRemoved:da.func.isRequired,photos:da.array.isRequired,photoEditingEnabled:da.bool.isRequired},getInitialState:function(){var fa={fileUploadURI:h.create(u.getURIBuilder().getURI(),this.props.pageID)};this._waterfallLogger=new t(v.WEB_PRODUCT_PHOTO_OMNIPICKER,y.generate());return {dialogRenderer:new o(x.createElement(n,{onCancel:this.onPickerCancel,title:ca._("Select Photo")},x.createElement(k,{logger:this._waterfallLogger,onDoneSelecting:this.onPickerAddPhotos},x.createElement(s,null,x.createElement(m,null),x.createElement(q,null)),x.createElement(r,null,x.createElement(l,{config:fa}),x.createElement(p,{pageID:this.props.pageID})))))};},onPickerCancel:function(){this.state.dialogRenderer.hide();this._waterfallLogger.logStep(w.CLIENT_FLOW_CANCEL);},onPickerAddPhotos:function(fa){this.state.dialogRenderer.hide();this.props.onPhotosSelected(fa);},render:function(){return (x.createElement('div',null,this._renderUploadedPhotos(),this._renderAddPhotoLink()));},_renderUploadedPhotos:function(){return this.props.photos.map((function(fa){var ga=null;if(this.props.photoEditingEnabled)ga=x.createElement(aa,{composerID:this._waterfallLogger.getWaterfallID(),onPhotoEdited:this.props.onPhotoEdited,pageID:this.props.pageID,photoID:fa.fbid});return (x.createElement('div',{key:fa.fbid,className:"_5m94"},x.createElement(z,{className:"_5m95",size:'medium',shade:'light',onClick:(function(ha){return this.props.onPhotoRemoved(fa);}).bind(this)}),x.createElement(i,{className:"_19tc",src:fa.src}),ga,x.createElement('div',{className:"_19td"})));}).bind(this));},_renderAddPhotoLink:function(){if(this.props.maxPhotosCount&&this.props.photos.length>=this.props.maxPhotosCount)return null;return (x.createElement(j,{className:"_22to _19tc",ref:'uploadButton',onClick:this._onPickerLaunch}));},_onPickerLaunch:function(){this._waterfallLogger.logStep(w.CLIENT_FLOW_BEGIN);this.state.dialogRenderer.show();}});f.exports=ea;},null);
__d('PageProductComposerShippingOptions.react',['CommerceSelfServeUI','CurrencyInput.atlas','Image.react','LeftRight.react','Link.react','React','XUIGrayText.react','XUIText.react','XUITextInput.react','cx','fbt','xuiglyph'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=m.PropTypes,u=m.createClass({displayName:'PageProductComposerShippingOptions',propTypes:{currencyCode:t.string.isRequired,disabled:t.bool,hideTitle:t.bool,settingsURI:t.object,shippingOptions:t.arrayOf(t.shape({shipping_country:t.string,shipping_price_currency:t.string,shipping_price_value:t.number,shipping_service:t.string})).isRequired,onShippingOptionsChange:t.func.isRequired},componentWillMount:function(){if(this.props.shippingOptions.length===0)this.props.onShippingOptionsChange([this._getDefaultShippingOption()]);},componentWillReceiveProps:function(v){if(v.shippingOptions.length===0)this.props.onShippingOptionsChange([this._getDefaultShippingOption()]);},render:function(){var v=this.props.shippingOptions.length,w=s({name:'cross',shade:'light',size:'small'}),x=[];this.props.shippingOptions.forEach((function(da){var ea=da.shipping_service,fa=x.length;x[fa]=m.createElement('tr',{className:"_5b1f",key:'option-'+fa},m.createElement('td',{className:"_b3y"},m.createElement(p,{className:"_53sm",disabled:this.props.disabled,height:'tall',value:ea,placeholder:r._("Shipping method name"),onChange:(function(ga){return this._onShippingNameChange(fa,ga.target.value);}).bind(this),ref:fa})),m.createElement('td',{className:"_b3z"},m.createElement(i,{currency:da.shipping_price_currency,disabled:this.props.disabled,isZeroValidValue:true,value:Number(da.shipping_price_value)/100,onChange:(function(ga){return this._onShippingPriceChange(fa,ga*100);}).bind(this)})),v>h.MIN_SHIPPING_OPTIONS?m.createElement('td',{className:"_b3-"},m.createElement(l,{onClick:(function(ga){this.props.disabled?null:this._onRemoveShippingOption(fa);}).bind(this)},m.createElement(j,{className:"_2_qb",src:w}))):null);}).bind(this));var y,z=m.createElement(o,{size:'small'},r._("Add Shipping Method"));if(v>=h.MAX_SHIPPING_OPTIONS){var aa=r._("You have reached the maximum number of shipping options.");y=m.createElement(l,{'data-hover':'tooltip','aria-label':aa,onClick:function(da){return da.stopPropagation();}},z);}else y=m.createElement(l,{onClick:this.props.disabled?null:this._onAddNewOption},z);var ba=null;if(this.props.settingsURI)ba=m.createElement(l,{className:"_3-9b",href:this.props.settingsURI,target:'_blank'},r._("Edit Default Shipping Options"));var ca=null;if(!this.props.hideTitle)ca=m.createElement(n,{className:"_3-94",display:'block',weight:'bold',shade:'dark',size:'small'},r._("Shipping Options"),ba);return (m.createElement('div',{className:"_4qx _2pid"},ca,m.createElement('table',{className:"_b40"},m.createElement('tbody',null,x)),m.createElement('div',{className:"_2pic _2pir"},y)));},_getDefaultShippingOption:function(){return {shipping_country:'US',shipping_price_currency:this.props.currencyCode,shipping_price_value:0,shipping_service:null};},_onShippingNameChange:function(v,w){var x=this.props.shippingOptions;x[v].shipping_service=w;this.props.onShippingOptionsChange(x);},_onShippingPriceChange:function(v,w){var x=this.props.shippingOptions;x[v].shipping_price_value=w;this.props.onShippingOptionsChange(x);},_onAddNewOption:function(){var v=this.props.shippingOptions;v[v.length]=this._getDefaultShippingOption();this.props.onShippingOptionsChange(v);},_onRemoveShippingOption:function(v){var w=this.props.shippingOptions;w.splice(v,1);this.props.onShippingOptionsChange(w);var x=v>0?v-1:0;this.refs[x].focusInput();}});f.exports=u;},null);
__d('PageProductComposerTaxCategorySelector.react',['CommerceSelfServeProductTaxCategories','HelpLink.react','React','XUIGrayText.react','XUISelector.react','cx','fbt','forEachObject','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=l.Option,r=j.PropTypes,s=j.createClass({displayName:'PageProductComposerTaxCategorySelector',propTypes:{onTaxCategoryChange:r.func,taxCategory:r.number},getDefaultProps:function(){return {taxCategory:h.TAX_ITEM_CODE_COMMERCE_OTHERS};},render:function(){var t=[];o(h,(function(u,v){if(u!==h.NONE)t.push(j.createElement(q,{value:u,key:'UNSPSC_'+u},this._getTaxCategoryDescription(v)));}).bind(this));return (j.createElement('div',{className:"_3-8y"},j.createElement(k,{className:"_3-94",display:'block',weight:'bold',shade:'dark',size:'small'},n._("Product Category"),j.createElement(i,{tooltip:this._getTaxCategoryHelpText(),alignv:'bottom'})),j.createElement(l,{onChange:this.props.onTaxCategoryChange,value:this.props.taxCategory},t)));},_getTaxCategoryHelpText:function(){return n._("This category is used to automatically calculate taxes for your product. You can enter a different tax rate using Custom Product Taxes in Advanced Options or in your Shop Settings.");},_getTaxCategoryDescription:function(t){!h.hasOwnProperty(t)?p(0):undefined;switch(h[t]){case h.TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION:return n._("Sports and Recreation");case h.TAX_ITEM_CODE_COMMERCE_CLOTHING:return n._("\u041e\u0434\u044f\u0433");case h.TAX_ITEM_CODE_COMMERCE_SHOES:return n._("Shoes");case h.TAX_ITEM_CODE_COMMERCE_LUGGAGE_BAGS:return n._("Luggage\/Bags");case h.TAX_ITME_CODE_COMMERCE_PERSONAL_CARE:return n._("\u041e\u0441\u043e\u0431\u0438\u0441\u0442\u0438\u0439 \u0434\u043e\u0433\u043b\u044f\u0434");case h.TAX_ITEM_CODE_COMMERCE_JEWELRY:return n._("\u042e\u0432\u0435\u043b\u0456\u0440\u043d\u0456 \u0432\u0438\u0440\u043e\u0431\u0438");case h.TAX_ITEM_CODE_COMMERCE_WATCHES:return n._("\u0413\u043e\u0434\u0438\u043d\u043d\u0438\u043a\u0438");case h.TAX_ITEM_CODE_COMMERCE_OTHERS:return n._("Other physical goods");default:p(0);}}});f.exports=s;},null);
__d('ProductVisibilitySelector.react',['ProductVisibility','React','XUISelector.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=i.PropTypes,m=j.Option,n=i.createClass({displayName:'ProductVisibilitySelector',propTypes:babelHelpers._extends({onChange:l.func.isRequired,value:l.string.isRequired},j.propTypes),render:function(){var o=this.props,p=o.onChange,q=o.value,r=babelHelpers.objectWithoutProperties(o,['onChange','value']);return (i.createElement(j,babelHelpers._extends({onChange:function(s){return p(s.value);},value:q},r),i.createElement(m,{value:h.PUBLISHED},k._("\u041f\u0443\u0431\u043b\u0456\u0447\u043d\u0438\u0439")),i.createElement(m,{value:h.STAGING},k._("Unpublished"))));}});f.exports=n;},null);
__d("XPagesManagerProductCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/content_tab\/products\/product_create\/",{});},null,{});
__d("XPagesManagerProductVariantsController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/content_tab\/product_variants\/",{product_group_id:{type:"String",required:true}});},null,{});
__d("XPagesManagerSettingsController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/{page_token}\/settings\/",{edited:{type:"String"},section:{type:"String"},tab:{type:"String"},change_admin_action:{type:"String"},change_admin_uid:{type:"Int"},tbid:{type:"Int"},fid:{type:"Int"},item_id:{type:"Int"},ref:{type:"String"},page_token:{type:"String",required:true},business_id:{type:"Int"}});},null,{});
__d('PageProductComposerDialog.react',['AdsHelpLink.react','AsyncRequest','ActorURI','BOFSellerLogger','BOFSellerLoggerEvent','BOFSellerLoggingSources','CommerceExceptionHandlerMixin.react','CommerceSelfServeSection','CommerceSelfServeProductTaxCategories','CommerceSelfServeProductTaxRatesTable.react','CurrencyInput.atlas','FBToggleSwitch.react','HelpLink.react','Image.react','ImageBlock.react','Link.react','NumberInput.atlas','PageCommerceProductVariantPage.react','PageContentTabDispatcher','PageContentTabProductPhotoUploader.react','PagesManagerProductToolsConstants','PageProductActions','PageProductComposerShippingOptions.react','PageProductComposerTaxCategorySelector.react','ProductVisibility','ProductVisibilitySelector.react','React','ReactLayeredComponentMixin','AbstractTextArea.react','URI','XCommerceSelfServeParam','XPagesManagerFeaturedItemsCountController','XPagesManagerProductCreateController','XPagesManagerProductVariantsController','XPagesManagerSettingsController','XPagesManagerProductViewController','XUIButton.react','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogHeader.react','XUIDialogHeaderTitle.react','XUIDialogTitle.react','XUIError.react','XUIGrayText.react','XUINotice.react','XUISpinner.react','XUITextInput.react','cx','fbt','getOwnObjectValues','ix','PageContentTabConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,ab,bb,cb,db,eb,fb,gb,hb,ib,jb){'use strict';if(c.__markCompiled)c.__markCompiled();var kb=ha.PropTypes,lb=jb.TABS,mb=500,nb=3,ob={main:'main',variant:'variant'},pb=ha.createClass({displayName:'PageProductComposerDialog',mixins:[n,ia],propTypes:{currencyCode:kb.string.isRequired,defaultShippingOptions:kb.array,onProductChanged:kb.func,onProductDeleted:kb.func,pageID:kb.string.isRequired,productID:kb.string,productGroupID:kb.string,requireDescription:kb.bool.isRequired,sections:kb.array.isRequired,shownInitially:kb.bool,source:kb.oneOf(hb(m)).isRequired},getInitialState:function(){return {currentTabKey:'Edit',currentPage:ob.main,dialogShown:this.props.shownInitially,featuredCount:0,inventory:0,loading:false,saving:false,photos:[],productDesc:'',productPrice:null,productTitle:'',productVisibility:fa.PUBLISHED,shareToTimeline:false,shippingOptions:this.props.defaultShippingOptions||[],taxCategory:p.TAX_ITEM_CODE_COMMERCE_OTHERS,taxRates:{state_abbr:{},zip_code:{}},showVariants:false,visibilityNotice:null,variants:[],variantItems:{}};},componentWillMount:function(){if(this.props.productID)this._fetchProductDetails(this.props.pageID,this.props.productID);if(this.props.productGroupID)this._fetchVariants(this.props.pageID,this.props.productGroupID);this._fetchFeaturedCount(this.props.pageID);},componentDidMount:function(){var event=this.props.productID?l.ACTN_EDIT_PRODUCT_CLICK:l.ACTN_ADD_PRODUCT_CLICK,qb=babelHelpers._extends({source:this.props.source},{});if(this.props.productID){qb.target_class='EntProdutItem';qb.target_id=this.props.productID;}k.log(event,this.props.pageID,qb);},componentWillReceiveProps:function(qb){if(this.props.pageID!==qb.pageID||this.props.productID!==qb.productID||this.props.productGroupID!==qb.productGroupID){this._fetchProductDetails(qb.pageID,qb.productID);this._fetchVariants(qb.pageID,qb.productGroupID);}},_fetchFeaturedCount:function(qb){this.setState({loading:true});var rb=j.create(ma.getURIBuilder().getURI(),qb);new i().setURI(rb).setHandler((function(sb){var tb=this.state.featuredProduct,ub=sb.payload.featured_count;if(ub>=ba.MAX_FEATURED_ITEM_COUNT)tb=false;this.setState({loading:false,featuredCount:ub,featuredProduct:tb});}).bind(this)).send();},_fetchProductDetails:function(qb,rb){this.setState({loading:true});var sb=j.create(qa.getURIBuilder().setString(la.PRODUCT_ID,rb).getURI(),qb);new i().setURI(sb).setHandler(this._onProductDetailsFetched).send();},_fetchVariants:function(qb,rb){this.setState({loading:true});var sb=j.create(oa.getURIBuilder().setString('product_group_id',rb).getURI(),qb);new i().setURI(sb).setHandler((function(tb){return this.setState(tb.payload);}).bind(this)).send();},onPhotosSelected:function(qb){this.setState({photos:this.state.photos.concat(qb)});},onPhotoRemoved:function(qb){this.setState({photos:this.state.photos.filter(function(rb){return rb.fbid!==qb.fbid;})});},onPhotoEdited:function(qb,rb){var sb=this.state.photos.findIndex(function(ub){return ub.fbid===qb;});if(sb!==undefined){k.log(l.ACTN_PHOTO_EDITED,this.props.pageID,{target_class:'Photo',target_id:rb.fbid});var tb=this.state.photos.slice();tb[sb]=rb;this.setState({photos:tb});}},renderLayers:function(){if(!this.state.dialogShown)return {};var qb=this.renderGeneralError(),rb=null;if(qb)rb=ha.createElement('div',{className:"_2pib _2piq"},qb);return {dialog:ha.createElement(sa,{width:mb,causalElementRef:(function(){return this.refs.createButton;}).bind(this),onToggle:this._onToggleDialog,shown:this.state.dialogShown},this._getDialogHeader(),ha.createElement(ta,{useCustomPadding:true},this._getInnerContent()),rb,this._getDialogFooter())};},_getDialogHeader:function(){switch(this.state.currentPage){case ob.main:return (ha.createElement(xa,{activeTabKey:this.state.currentTabKey,onTabClick:this._handleTabChange},this._getTabHeaders()));case ob.variant:return (ha.createElement(za,null,this._getTitle()));}return ha.createElement('div',null);},_getTabHeaders:function(){var qb=[ha.createElement(ya,{href:'#',key:'Edit'},this._getTitle())];if(this._showSection(o.TAX_TABLE))qb.push(ha.createElement(ya,{href:'#',key:'Advanced'},gb._("Advanced Options")));return qb;},_getTabBodies:function(){var qb=this.state.currentTabKey=='Edit',rb=[ha.createElement('div',{className:qb?"_2pi1":"hidden_elem",key:'basic_product_edit_tab'},ha.createElement('div',{dangerouslySetInnerHTML:this.state.visibilityNotice}),ha.createElement(aa,{pageID:this.props.pageID,photoEditingEnabled:this._showSection(o.PHOTO_EDITOR),photos:this.state.photos,onPhotosSelected:this.onPhotosSelected,onPhotoRemoved:this.onPhotoRemoved,onPhotoEdited:this.onPhotoEdited}),this._getNamePriceDescriptionInputs(),this._getFeaturedToggleSwitch(),this._getShareToTimelineToggle(),ha.createElement('div',{className:"_4ktn"},this._getInventoryInput(),this._getVariantsButton()),ha.createElement('div',{className:"_4ktn"},this._getTaxCategorySelector(),this._getVisibilitySelector()),this._getShippingOptionsSection(),this._getEditWarning())];if(this._showSection(o.TAX_TABLE))rb.push(ha.createElement('div',{className:(qb?"hidden_elem":'')+(' '+"_2pi1")+(' '+"_5dz6"),key:'advanced_product_edit_tab'},this._getTaxTable()));return rb;},_getMerchantSettingsURI:function(){return pa.getURIBuilder().setString('page_token',this.props.pageID).setString('tab','shop').getURI();},_getTaxTable:function(){return (ha.createElement('div',null,ha.createElement('div',{display:'block',className:"_3-96"},ha.createElement(bb,{weight:'bold',shade:'dark',size:'medium'},gb._("Custom Product Taxes")),ha.createElement(h,{width:350,position:'below'},gb._("You can enter specific taxes for products taxed at special rates, such as some foods and beverages."))),ha.createElement(q,{taxRates:this.state.taxRates,onChangeTaxRates:this._onChangeTaxRates}),ha.createElement('div',{display:'block',className:"_3-8x"},ha.createElement(w,{href:this._getMerchantSettingsURI(),target:'_blank'},gb._("View Default Shop Taxes")))));},_getInnerContent:function(){if(this.state.loading)return (ha.createElement(db,{className:"_2_i8",size:'large'}));switch(this.state.currentPage){case ob.main:return (ha.createElement('div',null,this._getTabBodies()));case ob.variant:return (ha.createElement('div',null,ha.createElement('div',{className:"_1go"},ha.createElement(v,null,ha.createElement(u,{className:"_1gp",onClick:this._backToMainPage,src:ib('/images/help/rooms/back.png')}),ha.createElement('div',{className:"_1gq"},gb._("Variants")))),ha.createElement(y,{currencyCode:this.props.currencyCode,defaultVariantPrice:this.state.productPrice,setVariantInfo:(function(qb){return this.setState(qb);}).bind(this),variants:this.state.variants,variantItems:this.state.variantItems})));}return ha.createElement('div',null);},_backToMainPage:function(){this.setState({currentPage:ob.main});},_getVariantsButton:function(){if(!this._showSection(o.VARIANTS))return null;return (ha.createElement('div',{className:"_3-8x"},ha.createElement(bb,{weight:'bold',shade:'dark',size:'small',display:'block'},gb._("Variants")),ha.createElement(ra,{className:"_3-8w",label:gb._("Edit Variants"),onClick:(function(){return this.setState({currentPage:ob.variant});}).bind(this)})));},_getDialogFooter:function(){var qb=null;if(this.props.productID&&!this.state.loading)qb=ha.createElement(w,{onClick:this.state.saving?null:this._onDeleteProductClicked},ha.createElement(bb,{shade:'light',size:'small'},gb._("Delete Product")));var rb=this.state.saving?ha.createElement(db,{size:'small',className:"_3-90"}):null;return (ha.createElement(wa,{leftContent:qb},rb,ha.createElement(va,{disabled:this.state.saving||this.state.loading}),ha.createElement(ua,{use:'confirm',label:this._getSaveButtonText(),action:'button',disabled:this.state.saving||this.state.loading,onClick:this._onSubmitButtonClicked})));},show:function(){this.setState({currentPage:ob.main,dialogShown:true});},hide:function(){this.setState({dialogShown:false});},_onDeleteProductClicked:function(){ca.deleteProductsWithConfirmation(Array(this.props.productGroupID),this.props.pageID,(function(){this.hide();if(this.props.onProductDeleted)this.props.onProductDeleted();}).bind(this));},_getNamePriceDescriptionInputs:function(){var qb=null;if(this.props.requireDescription){qb=gb._("\u041e\u043f\u0438\u0441");}else qb=gb._("Description (Optional)");var rb=null;if(this.state.variants.length===0){rb=ha.createElement(r,{className:"_5rpn _3-8n",currency:this.props.currencyCode,disabled:this.state.loading||this.state.variants.length>0,onChange:(function(sb){return this.setState({productPrice:sb});}).bind(this),value:this.state.productPrice});}else rb=ha.createElement('div',{className:"_4kto _3-8n"},ha.createElement(bb,{shade:'light',size:'medium',className:"_20ab"},this.state.groupPriceRange),ha.createElement(w,{size:'small',className:"_20ac _2pii",onClick:(function(){return this.setState({currentPage:ob.variant});}).bind(this)},gb._("Edit Prices")));return (ha.createElement('div',{className:"_2pi4"},ha.createElement(eb,{name:'productTitle',className:"_2mfs",disabled:this.state.loading,value:this.state.productTitle,height:'tall',onChange:(function(event){return this.setState({productTitle:event.target.value});}).bind(this),placeholder:gb._("\u0406\u043c'\u044f"),xuiError:this.getFieldErrorMessage(la.PRODUCT_TITLE)}),rb,ha.createElement(ab,{xuiError:this.getFieldErrorMessage(la.PRODUCT_DESCRIPTION)},ha.createElement(ja,{name:'productDescription',className:"_3jm",disabled:this.state.loading,rows:nb,value:this.state.productDesc,onChange:(function(event){return this.setState({productDesc:event.target.value});}).bind(this),placeholder:qb}))));},_getTaxCategorySelector:function(){if(!this._showSection(o.TAX_CATEGORY))return null;return (ha.createElement(ea,{onTaxCategoryChange:this._handleTaxCategoryChange,taxCategory:this.state.taxCategory||p.TAX_ITEM_CODE_COMMERCE_OTHERS}));},_getVisibilitySelector:function(){if(!this._showSection(o.PRODUCT_VISIBILITY))return null;return (ha.createElement('div',null,ha.createElement(bb,{className:"_3-94 _3-8y",display:'block',weight:'bold',shade:'dark',size:'small'},gb._("Visibility")),ha.createElement(ga,{onChange:(function(qb){return this.setState({productVisibility:qb});}).bind(this),value:this.state.productVisibility})));},_getInventoryInput:function(){if(!this._showSection(o.INVENTORY))return null;var qb=null;if(this.state.variants.length===0){qb=ha.createElement(x,{className:"_2pio",disabled:this.state.loading,isZeroValidValue:true,name:'productInventory',nonnegative:true,value:this.state.inventory,formatNumber:false,onValueUpdated:(function(tb){return this.setState({inventory:tb});}).bind(this)});}else{var rb=0;for(var sb in this.state.variantItems)rb+=this.state.variantItems[sb].inventory;qb=ha.createElement('div',{className:"_4kto"},ha.createElement('div',{className:"_4ktu"},ha.createElement(bb,{shade:'light',size:'medium'},rb)),ha.createElement(w,{size:'small',className:"_20ac _2pii",onClick:(function(){return this.setState({currentPage:ob.variant});}).bind(this)},gb._("Edit Inventory")));}return (ha.createElement('div',null,ha.createElement(bb,{className:"_3-94 _3-8y",display:'block',weight:'bold',shade:'dark',size:'small'},gb._("Inventory")),qb));},_getShippingOptionsSection:function(){if(!this._showSection(o.SHIPPING_OPTIONS))return null;return (ha.createElement(da,{currencyCode:this.props.currencyCode,disabled:this.state.loading,shippingOptions:this.state.shippingOptions,settingsURI:this.props.productID?undefined:this._getMerchantSettingsURI(),onShippingOptionsChange:(function(qb){return this.setState({shippingOptions:qb});}).bind(this)}));},_getShareToTimelineToggle:function(){if(this.props.productID)return null;return (ha.createElement('div',{className:"_3-8y"},ha.createElement(s,{disabled:this.state.loading,animate:true,checked:this.state.shareToTimeline,onToggle:(function(qb){return this.setState({shareToTimeline:qb});}).bind(this)}),ha.createElement('span',{className:"_3jn"},gb._("Share to Timeline"),ha.createElement(t,{tooltip:gb._("Turning this on will automatically post your product to your Page's timeline. This will only happen after your product is approved."),alignv:'bottom'}))));},_unpackTaxRates:function(){var qb=[],rb={},sb={};for(var tb in this.state.taxRates){var ub=this.state.taxRates[tb];for(var vb in ub){qb[qb.length]=vb;rb[vb]=ub[vb].tax_rate;sb[vb]=ub[vb].is_applied_to_shipping;}}return {tax_locations:qb,tax_percent_map:rb,tax_applied_to_shipping_map:sb};},_getFeaturedToggleSwitch:function(){if(!this._showSection(o.FEATURED_PRODUCT_TOGGLE))return null;return (ha.createElement('div',{className:"_3-96"},ha.createElement(s,{disabled:this.state.loading||this._isFeatureProductToggleDisabled(),animate:true,checked:this.state.featuredProduct,onToggle:(function(qb){return this.setState({featuredProduct:qb});}).bind(this)}),ha.createElement('span',{className:"_3jn"},gb._("Feature this product"),ha.createElement(t,{tooltip:this._getHelpText(),alignv:'bottom'}))));},_isFeatureProductToggleDisabled:function(){return (!this.state.featuredProduct&&this.state.featuredCount>=ba.MAX_FEATURED_ITEM_COUNT);},_getHelpText:function(){if(this._isFeatureProductToggleDisabled())return gb._({"*":"You've already chosen {Maximum number of products that can be featured} to feature. Stop featuring one of your currently selected products to feature this one instead."},[gb.param('Maximum number of products that can be featured',ba.MAX_FEATURED_ITEM_COUNT,[0])]);return gb._({"*":"You can feature up to {Maximum number of products that can be featured} products. Featured products are shown on your page when people visit, and at the top of your shop section."},[gb.param('Maximum number of products that can be featured',ba.MAX_FEATURED_ITEM_COUNT,[0])]);},_getTitle:function(){if(this.state.currentPage===ob.variant)return gb._("Edit Variants");if(this.props.productID)return gb._("Edit Product");return gb._("Add product");},_getSaveButtonText:function(){return gb._("\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438");},_onProductDetailsFetched:function(qb){var rb=qb.payload,sb=rb.visibility_notice===null?null:rb.visibility_notice.markup;this.setState({currentTabKey:'Edit',currentPage:ob.main,dialogShown:true,productTitle:rb.name,productDesc:rb.description,productPrice:rb.price/100,productVisibility:rb.visibility,photos:rb.images,featuredProduct:rb.featured_product,groupPriceRange:rb.group_price_range,inventory:rb.inventory,shippingOptions:rb.shipping_options,taxCategory:rb.tax_category,showVariants:rb.show_variants,visibilityNotice:sb,loading:false,featuredCount:rb.featured_count,taxRates:rb.tax_rates});},_onToggleDialog:function(qb){this.setState({dialogShown:qb});if(qb)return;var rb=babelHelpers._extends({source:this.props.source},{}),event=l.ACTN_CANCEL_ADD_PRODUCT;if(this.props.productID){rb.target_class='EntProdutItem';rb.target_id=this.props.productID;event=l.ACTN_CANCEL_EDIT_PRODUCT;}k.log(event,this.props.pageID,rb);},_getEditWarning:function(){if(this.props.productID&&!this.state.visibilityNotice)return (ha.createElement(cb,{size:'small',className:"_3-8y"},gb._("Your product is now visible to everyone who visits your Page. We'll review it again if you make changes.")));return null;},_handleTabChange:function(qb){this.setState({currentTabKey:qb});},_handleTaxCategoryChange:function(qb){this.setState({taxCategory:qb.value});},_onSubmitButtonClicked:function(){this.setState({saving:true});var qb=[];this.state.photos.forEach(function(ic){qb.push(ic.fbid);});var rb=this.state.shippingOptions.filter(function(ic){return ic.shipping_service&&!!ic.shipping_service.trim();});this.setState({shippingOptions:rb});var sb=[],tb=[];rb.forEach(function(ic){sb.push(ic.shipping_service);tb.push(Math.round(ic.shipping_price_value));});var ub=this._unpackTaxRates(),vb=this.state.variants,wb=vb.map(function(ic){return ic.label;}),xb=vb.map(function(ic){return ic.options;}),yb=this.state.variantItems,zb={},ac={},bc={},cc={};for(var dc in yb){var ec=yb[dc];zb[dc]=ec.inventory;ac[dc]=Math.round(ec.price*100);bc[dc]=JSON.stringify(ec.properties);cc[dc]=ec.productID;}var fc={};fc[la.PRODUCT_TITLE]=this.state.productTitle;fc[la.PRODUCT_DESCRIPTION]=this.state.productDesc;fc[la.PRODUCT_PRICE]=Math.round(this.state.productPrice*100);fc[la.CURRENCY_CODE]=this.props.currencyCode;fc[la.PRODUCT_PHOTO_IDS]=qb;fc[la.PRODUCT_ID]=this.props.productID;fc[la.FEATURED_PRODUCT]=this.state.featuredProduct;fc[la.SHARE_TO_TIMELINE]=this.state.shareToTimeline;fc[la.INVENTORY]=this.state.inventory;fc[la.SHIPPING_OPTION_NAMES]=sb;fc[la.SHIPPING_OPTION_VALUES]=tb;fc[la.TAX_CATEGORY]=this.state.taxCategory;fc[la.TAX_LOCATIONS]=ub.tax_locations;fc[la.TAX_APPLIED_TO_SHIPPING_MAP]=ub.tax_applied_to_shipping_map;fc[la.TAX_PERCENT_MAP]=ub.tax_percent_map;fc[la.VARIANT_NAMES]=wb;fc[la.VARIANT_INVENTORY]=zb;fc[la.VARIANT_PRICE]=ac;fc[la.VARIANT_DATA]=bc;fc[la.VARIANT_PRODUCT_ID]=cc;fc[la.VISIBILITY]=this.state.productVisibility;for(var gc=0;gc<xb.length;gc++)fc['variant'+gc+'_options']=xb[gc];var hc=j.create(na.getURIBuilder().getURI(),this.props.pageID);this.sendAsync(hc,fc,this._onProductUpdated,(function(){return this.setState({saving:false});}).bind(this));},_onChangeTaxRates:function(qb){this.setState({taxRates:qb});},_onProductUpdated:function(qb){this.setState({saving:false,dialogShown:false});if(this.props.productID){z.handlePostChanged(qb.payload);}else z.handlePostCreated(lb.COMMERCE_PRODUCTS,qb.payload,this.props.pageID);if(this.props.onProductChanged)this.props.onProductChanged(qb.payload);},render:function(){return ha.createElement('span',null);},_showSection:function(qb){return this.props.sections.indexOf(qb)>=0;}});f.exports=pb;},null);
__d('PageContentTabCommerceProductsActionsConfig',['BOFSellerLoggingSources','DOM','PageProductActions','PageProductComposerDialog.react','React','ReactDOM','PageContentTabConstants','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=n.ACTIONS,q=[{allowBatch:false,getLabel:function(r){return o._("Edit Product");},key:p.EDIT,onClick:function(r,s){var t=r[0],u=t.products.data[0],v=l.createElement(k,{pageID:s.page_id,currencyCode:s.currency_code,productID:u.id,productGroupID:t.id,requireDescription:s.require_product_description,sections:s.product_sections_to_show,source:h.PUBLISHING_TOOLS,taxRates:u.taxRates});v=m.render(v,i.create('div'));v.show();}},{allowBatch:true,getLabel:function(r){if(r<=1)return o._("Delete Product");return o._("Delete Products ({Number of products})",[o.param('Number of products',r)]);},key:p.DELETE,onClick:function(r,s){j.deleteProductsWithConfirmation(r.map(function(t){return t.id;}),s.page_id);}}];f.exports=q;},null);
__d("XCommerceProductItemsDialogController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/commerce\/products\/{item_id}\/_dialog\/",{rid:{type:"Int"},rt:{type:"Enum",enumType:0},location:{type:"Enum",enumType:1},share_id:{type:"Int"},item_id:{type:"Int",required:true},is_sponsored:{type:"Int"}});},null,{});
__d('PageContentTabProductCell.react',['LineClamp.react','Link.react','React','XCommerceProductItemsDialogController','XCommerceProductsParam','XUIGrayText.react','Image.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=j.PropTypes,q=j.createClass({displayName:'PageContentTabProductCell',propTypes:{product:p.shape({id:p.string.isRequired,name:p.string.isRequired,price:p.string.isRequired,image_url:p.string.isRequired}).isRequired},render:function(){var r=this.props.product,s=k.getURIBuilder().setInt(l.ITEM_ID,r.id).getURI();return (j.createElement('div',{className:"_2pir"},j.createElement(n,{src:r.image_url,className:"_ioh"}),j.createElement('div',{className:"_1drx"},j.createElement(i,{href:s,rel:'dialog'},j.createElement(h,{lines:1},j.createElement('div',{className:"_1dry"},r.name))),j.createElement(m,{className:"_289l"},r.price))));}});f.exports=q;},null);
__d('PageContentTabProductVisibility.react',['ProductVisibility','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=i.PropTypes,m=i.createClass({displayName:'PageContentTabProductVisibility',propTypes:{item:l.shape({visibility:l.string.isRequired}).isRequired},render:function(){var n=this.props.item.visibility.toLowerCase(),o=n===h.PUBLISHED?k._("\u041f\u0443\u0431\u043b\u0456\u0447\u043d\u0438\u0439"):k._("Unpublished");return (i.createElement('div',{className:"_2pit"},o));}});f.exports=m;},null);
__d('PageContentTabInsightsCell.react',['React','SpectrumIntegerScale','InsightsBackgroundBar.react','InsightsNumberUtils','cx'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m,n;'use strict';var o=h.PropTypes;m=babelHelpers.inherits(p,h.Component);n=m&&m.prototype;p.prototype.render=function(){var q=this.props.values.map(function(r){return parseInt(r||0,10);});return (h.createElement('div',{className:"_qea"},h.createElement('div',null,k.abbrevInt(q.reduce(function(r,s){return r+s;}))),h.createElement(j,{className:"_qec",colors:this.props.colors,forceTooltip:true,label:null,scale:i().domain([0,this.props.maxValue]),tall:false,titles:this.props.titles,values:q})));};function p(){m.apply(this,arguments);}p.propTypes={colors:o.arrayOf(o.string).isRequired,maxValue:o.number.isRequired,values:o.arrayOf(o.string),titles:o.array};f.exports=p;},null);
__d('PageContentTabInventoryCell.react',['CommerceLowInventoryConfig','React','cx'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=i.PropTypes,l=i.createClass({displayName:'PageContentTabInventoryCell',propTypes:{product:k.shape({id:k.string.isRequired,inventory:k.number.isRequired}).isRequired},render:function(){var m=this.props.product.inventory;if(m===null)return null;var n=parseInt(h.low_inventory_threshold||0,10),o=m<=n?"_29fw":"_29fy";return (i.createElement('div',{className:o},m));}});f.exports=l;},null);
__d('PageContentTabCommerceProductsColumnConfig',['React','PageContentTabConstants','CommerceSelfServeSection','PageContentTabCommonConfig','PageContentTabProductCell.react','PageContentTabProductVisibility.react','PageContentTabInsightsCell.react','PageContentTabInventoryCell.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=i.COLUMNS,r=[{cellRenderer:function(s){return h.createElement(l,{product:s});},isShown:function(){return true;},key:q.PRODUCT,label:p._("\u041f\u0440\u043e\u0434\u0443\u043a\u0442"),mainColumn:true},{cellRenderer:function(s){return h.createElement(o,{product:s});},isShown:function(s,t){return t.product_sections_to_show.indexOf(j.INVENTORY)>=0;},key:q.INVENTORY,label:p._("Inventory")},{cellRenderer:function(s){return (h.createElement(m,{item:s}));},isShown:function(s,t){return t.product_sections_to_show.indexOf(j.PRODUCT_VISIBILITY)>=0;},key:q.VISIBILITY,label:p._("Product Visibility")},{cellRenderer:function(s,t,u){return (h.createElement(n,{colors:['#FFCA87','#F79600'],values:[u[q.PRODUCT].commerce_insights.organic_impressions.toString(),u[q.PRODUCT].commerce_insights.paid_impressions.toString()],maxValue:k.maxProductInsightValue(u.posts.map(function(v){return v.products.data[0];}),['organic_impressions','paid_impressions']),titles:[p._("Organic"),p._("Paid")]}));},isShown:function(s,t){return t.product_sections_to_show.indexOf(j.COMMERCE_INSIGHTS)>=0;},key:q.IMPRESSIONS,label:p._("Views")},{cellRenderer:function(s,t,u){return (h.createElement(n,{colors:['#9DACCB'],values:[u[q.PRODUCT].commerce_insights.message_sends.toString()],maxValue:k.maxProductInsightValue(u.posts.map(function(v){return v.products.data[0];}),['message_sends'])}));},isShown:function(s,t){return t.product_sections_to_show.indexOf(j.COMMERCE_INSIGHTS)>=0;},key:q.MESSAGE_SENDS,label:p._("Message Sends")}];f.exports=r;},null);
__d('PageContentTabCreateProductButton.react',['BOFSellerLoggingSources','DOM','Image.react','PageContentTabLogger','PageContentTabLoggingEvents','PageProductComposerDialog.react','React','ReactDOM','XUIButton.react','fbt','xuiglyph','PageContentTabConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=n.PropTypes,u=s.TABS,v=n.createClass({displayName:'PageContentTabCreateProductButton',propTypes:{defaultShippingOptions:t.array,label:t.string,pageID:t.string.isRequired,tab:t.oneOf(Object.keys(u)).isRequired,currencyCode:t.string.isRequired,requireDescription:t.bool.isRequired,sections:t.array.isRequired},render:function(){var w=this.props.label||q._("\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438");return (n.createElement(p,{label:w,image:n.createElement(j,{src:r({name:'plus',size:'small',shade:'white'})}),use:'confirm',ref:'createButton',onClick:this._onClick}));},_onClick:function(){k.log(l.CREATE_CLICKED,this.props.tab,{});o.render(n.createElement(m,{pageID:this.props.pageID,currencyCode:this.props.currencyCode,defaultShippingOptions:this.props.defaultShippingOptions,requireDescription:this.props.requireDescription,shownInitially:true,sections:this.props.sections,source:h.PUBLISHING_TOOLS}),i.create('div'));}});f.exports=v;},null);
__d('PageContentTabCommerceProductsConfig',['BOFSellerLoggingSources','GraphAPI','GraphAPIFieldUtils','PageContentTabCommerceProductsActionsConfig','PageContentTabCommerceProductsColumnConfig','PageContentTabConfig','PageContentTabCreateProductButton.react','PageProductComposerDialog.react','PageContentTabConstants','PageContentTabNullState.react','React','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u=p.LEFT_NAV_GROUPS,v=p.COLUMNS,w=p.TABS,x=m.graph_api_version||'2.2';function y(z){return {actions:k,columns:l,createOverlay:function(aa,ba){return (r.createElement(o,{pageID:ba.page_id,currencyCode:ba.currency_code,productID:aa.products.data[0].id,productGroupID:aa.id,requireDescription:ba.require_product_description,sections:ba.product_sections_to_show,source:h.PUBLISHING_TOOLS}));},createTableRow:function(aa,ba){var ca={},da=aa.products.data[0];ca[v.PRODUCT]={id:da.id,name:da.name,price:da.price,image_url:da.image_url,commerce_insights:da.commerce_insights};var ea=da.inventory||(da.commerce_settings?da.commerce_settings.inventory:0);ca[v.INVENTORY]={id:da.id,inventory:ea};ca[v.VISIBILITY]={visibility:da.visibility};return ca;},enabled:z.show_products_tab,hasSearchSupport:false,leftNavGroup:u.SHOP,id:w.COMMERCE_PRODUCTS,image:t('/images/commerce/shop_icon_2x.png'),createButtonComponent:n,createButtonProps:{currencyCode:z.currency_code,defaultShippingOptions:z.default_shipping_options,requireDescription:z.require_product_description,sections:z.product_sections_to_show,label:s._("Add Product")},clientSortAndFilter:function(aa,ba){return aa.filter(function(ca){return ca.products&&ca.products.data.length;});},getDataLoadPromise:function(aa,ba,ca,da){return (i(x).object('product_catalog',ba.product_catalog_id).edge('product_groups').get({access_token:aa,fields:[j.getFieldWithSubfields('products',['name','visibility','price','image_url','commerce_insights','commerce_settings'])]}));},label:s._("\u041f\u0440\u043e\u0434\u0443\u043a\u0446\u0456\u044f"),renderErrorState:function(aa){return (r.createElement(q,{content:r.createElement('div',null,s._("Something went wrong and we couldn't load your products. Please try again later. {error}",[s.param('error',aa.message)])),image:t('/images/pages/commerce/www_empty_storefront_1x.png')}));},renderNullState:function(){return (r.createElement(q,{content:r.createElement('div',null,s._("You do not have any products in your inventory.")),image:t('/images/pages/commerce/www_empty_storefront_1x.png')}));}};}f.exports=y;},null);
__d('PageContentTabTableMixin',['CSS','FixedDataTableColumn.react','Map','PageContentTabConstants','PageContentTabColumnConfig','React','XUICheckboxInput.react','areEqual','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=m.PropTypes,r=k.COLUMNS,s=k.COLUMN_GROUPS,t='select',u=l.CHECKBOX_COLUMN_WIDTH,v=28,w=7000,x=55,y=new j(),z={propTypes:{columns:q.arrayOf(q.shape({key:q.oneOf(Object.keys(r)).isRequired,label:q.string.isRequired,isShown:q.func,cellRenderer:q.func,headerRenderer:q.func,getWidth:q.func,group:q.oneOf(Object.keys(s)),initialSortOrder:q.oneOf([k.SORT_ORDER_ASC,k.SORT_ORDER_DESC])})).isRequired,className:q.string,createTableRow:q.func.isRequired,customTabState:q.object,page:q.object,posts:q.array.isRequired,rowHeight:q.number,selectedPosts:q.object.isRequired,selectionChanged:q.func,showCheckboxColumn:q.bool,tableHeight:q.number,tableWidth:q.number.isRequired,highlightKey:q.string,highlightValue:q.any},getDefaultProps:function(){return {posts:[],selectedPosts:{},selectionChanged:function(){},showCheckboxColumn:true,page:{}};},_getSize:function(){return {maxHeight:this.props.tableHeight||w,rowHeight:this.props.rowHeight||x,headerHeight:v,width:this.props.tableWidth};},_createRow:function(aa){var ba=this.props.posts[aa],ca=this.props.createTableRow(ba,this.props.page,this.props.customTabState);ca[t]=ba.id;ca.query=this.props.query;ca.posts=this.props.posts;var da=y.get(ba.id);if(!o(ca,da)){y.set(ba.id,ca);da=ca;}return da;},_changeSelection:function(aa){var ba=this.props.selectedPosts;if(ba[aa]){delete ba[aa];}else ba[aa]=true;this.props.selectionChanged(ba);},_onSelectAllChange:function(aa){if(aa.target.checked){var ba={};this.props.posts.forEach(function(ca){return ba[ca.id]=true;});this.props.selectionChanged(ba);}else this.props.selectionChanged({});},_handleSelectRowTarget:function(aa,ba){if(h.hasClass(aa,"_13pt")){this._changeSelection(ba);return false;}if(aa.childElementCount===1){if(h.hasClass(aa.children[0],"_13pt")){this._changeSelection(ba);return false;}if(aa.children[0].childElementCount===1&&h.hasClass(aa.children[0].children[0],"_13pt")){this._changeSelection(ba);return false;}}if(aa.parentElement&&h.hasClass(aa.parentElement,"_13pt")){if(aa.nodeName&&aa.nodeName.toLowerCase()==='span')return false;this._changeSelection(ba);return false;}if(h.hasClass(aa,"_4owu")||h.hasClass(aa,"_4owv"))return false;var ca=aa.parentElement;if(ca&&(h.hasClass(ca,"_4owu")||h.hasClass(ca,"_4owv")))return false;return true;},_createCheckBoxColumn:function(){return (m.createElement(i,{dataKey:t,headerClassName:"_5yj5",headerRenderer:(function(){return (m.createElement('div',{className:"_2pi9"},m.createElement(n,{checked:Object.keys(this.props.selectedPosts).length===this.props.posts.length&&this.props.posts.length!==0,className:"_3skc",onChange:this._onSelectAllChange})));}).bind(this),cellRenderer:(function(aa){return (m.createElement('div',null,m.createElement(n,{checked:!!this.props.selectedPosts[aa],className:"_13pt",onChange:function(){}})));}).bind(this),key:t,width:u}));},_getRowClassName:function(aa){var ba=this.props.posts[aa],ca=this.props.highlightKey;return (!this.props.selectedPosts[ba.id]?"_m3c":'')+(this.props.selectedPosts[ba.id]?' '+"_30p6":'')+(ca&&ba[ca]===this.props.highlightValue?' '+"_hsh":'');}};f.exports=z;},null);
__d('PageContentGenericTable.react',['FixedDataTable.react','Map','PageContentTabColumnConfig','PageContentTabTableMixin','React','cx','emptyFunction','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=l.createClass({displayName:'PageContentGenericTable',mixins:[k],render:function(){var q=[];if(this.props.showCheckboxColumn)q.push(this._createCheckBoxColumn());j.getColumns('',this.props.tableWidth,this.props.columns,{},n,new i(),function(s,t){},this.props.showCheckboxColumn).forEach(function(s){return q.push(s);});var r=this._getSize();return (l.createElement('div',{className:o(this.props.className,"_1v6t")},l.createElement(h,{headerHeight:r.headerHeight,maxHeight:r.maxHeight,onRowClick:this._onRowClick,overflowX:'hidden',overflowY:'auto',rowsCount:this.props.posts.length,rowHeight:r.rowHeight,rowClassNameGetter:this._getRowClassName,rowGetter:this._createRow,width:r.width},q)));},_onRowClick:function(q,r){var s=q.target,t=this.props.posts[r].id;if(s)this._handleSelectRowTarget(s,t);}});f.exports=p;},null);
__d("XPagesManagerProductSearchController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/content_tab\/products\/search\/",{});},null,{});
__d('PageAddProductsToCollectionDialog.react',['AbstractTextInput.react','ActorURI','AsyncRequest','Image.react','Map','PageContentGenericTable.react','PageContentTabCommerceProductsColumnConfig','React','ReactLayeredComponentMixin','XPagesManagerProductSearchController','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react','XUIGrayText.react','XUISpinner.react','cx','debounce','emptyFunction','fbt','xuiglyph','PageContentTabConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da){'use strict';if(c.__markCompiled)c.__markCompiled();var ea=o.PropTypes,fa=da.COLUMNS,ga=100,ha=440,ia=o.createClass({displayName:'PageAddProductsToCollectionDialog',mixins:[p],propTypes:{excludeProductIDMap:ea.objectOf(ea.bool).isRequired,onAddProducts:ea.func.isRequired,pageID:ea.string.isRequired},getInitialState:function(){return {dialogShown:true,searchQuery:'',selectedProducts:{},loading:false,products:[]};},_debouncedSearch:aa,_request:null,_productDetails:new l(),componentWillMount:function(){this._debouncedSearch=z(this._search,ga,this);this._request=null;},componentWillUpdate:function(ja,ka){if(this.state.searchQuery!==ka.searchQuery)this._debouncedSearch();},render:function(){return o.createElement('span',null);},initAndShow:function(){this.setState(this.getInitialState());this._search();},renderLayers:function(){return {dialog:o.createElement(r,{width:ha,onToggle:(function(ja){return this.setState({dialogShown:ja});}).bind(this),shown:this.state.dialogShown},o.createElement(v,null,ba._("Add Products to Collection")),o.createElement(s,null,this.renderDialogContent()),o.createElement(u,null,o.createElement(t,{label:ba._("\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"),action:'cancel',use:'default',onClick:this._close}),o.createElement(t,{use:'confirm',label:ba._("\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"),onClick:this._onSaveClick})))};},renderDialogContent:function(){return (o.createElement('div',null,this.renderSearch(),o.createElement('div',{className:"_3-8y"},this.renderProductSelectedCount(),this.renderTable())));},renderSearch:function(){var ja=this.state.loading?o.createElement(x,{size:'small'}):o.createElement(k,{src:ca({name:'search',size:'medium'})});return (o.createElement('div',{className:"_22f5"},o.createElement(h,{className:"_22f6",placeholder:'Search',searchWrapperceholder:true,onChange:this._onSearchChange,onFocus:this._onInputFocus,ref:'input',role:'combobox',value:this.state.searchQuery}),o.createElement('div',{className:"_22f7"},ja)));},renderProductSelectedCount:function(){var ja=Object.keys(this.state.selectedProducts).length;return (o.createElement(w,{className:"_3-94",shade:'medium',size:'small',weight:'bold',display:'block'},ja+' ',ba._({"Product":"Product Selected","Products":"Products Selected"},[ba['enum'](ja<=1?'Product':'Products',{Product:'Product',Products:'Products'})])));},renderTable:function(){var ja=[n[0]],ka=this.state.products.length||this.state.loading;return (o.createElement('div',{className:"_4hnq"},o.createElement(m,{className:"_4hnr",columns:ja,posts:this.state.products,selectionChanged:this._selectionChanged,selectedPosts:this.state.selectedProducts,showCheckboxColumn:true,createTableRow:this._createRow,tableHeight:300,tableWidth:416}),o.createElement('div',{className:(ka?"hidden_elem":'')+(' '+"_4hns")},o.createElement(w,{shade:'medium',size:'large',display:'block'},ba._("\u041d\u0435\u043c\u0430\u0454 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0456\u0432")))));},_onSaveClick:function(){var ja=Object.keys(this.state.selectedProducts).map((function(ka){return this._productDetails.get(ka);}).bind(this));this.props.onAddProducts(ja);this._close();},_close:function(){this.setState({dialogShown:false});},_createRow:function(ja){var ka={};ka[fa.PRODUCT]=ja;return ka;},_selectionChanged:function(ja){this.setState({selectedProducts:ja});},_onSearchChange:function(event){this.setState({searchQuery:event.target.value});},_search:function(){this.setState({loading:true});var ja=i.create(q.getURIBuilder().getURI(),this.props.pageID);if(this._request)this._request.abort();this._request=new j().setData({query:this.state.searchQuery}).setHandler(this._onSearchUpdated).setURI(ja);this._request.send();},_onSearchUpdated:function(ja){this._request=null;var ka=[];ja.payload.forEach((function(la){if(this.props.excludeProductIDMap[la.id])return;ka.push(la);if(!this._productDetails.has(la.id))this._productDetails.set(la.id,la);}).bind(this));this.setState({loading:false,products:ka});}});f.exports=ia;},null);
__d("XPagesManagerCollectionDeleteController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/content_tab\/store_collections\/collection_delete\/",{});},null,{});
__d("XPagesManagerCollectionUpdateOrderController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/content_tab\/store_collections\/update_collection_orders\/",{});},null,{});
__d('PageCollectionActions',['ActorURI','AsyncRequest','PageContentTabCommonConfig','PageContentTabDispatcher','PageContentTabLoadingDialog','XPagesManagerCollectionDeleteController','XPagesManagerCollectionUpdateOrderController','fbt','PageContentTabConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=p.TABS,r={showCreateView:function(s){k.handleSetCustomTabState(q.COMMERCE_COLLECTIONS,{inEditMode:true},s);},showEditView:function(s,t){k.handleSetCustomTabState(q.COMMERCE_COLLECTIONS,{inEditMode:true,editCollectionID:t},s);},exitEditMode:function(s){k.handleSetCustomTabState(q.COMMERCE_COLLECTIONS,{inEditMode:false,editCollectionID:null},s);},saveCollectionOrders:function(s,t){l.show();var u=Object.keys(s);u.sort(function(w,x){return s[w]-s[x];});var v=h.create(n.getURIBuilder().getURI(),t);new i(v).setMethod('POST').setData({collection_ids:u}).setHandler(function(w){k.handleSetCustomTabState(q.COMMERCE_COLLECTIONS,{backendIdOrderMap:s},t);l.hide();}).send();},deleteCollections:function(s,t,u){l.show();var v=h.create(m.getURIBuilder().getURI(),t),w={collection_ids:s};new i(v).setMethod('POST').setData(w).setHandler(function(x){s.forEach(function(y){return k.handlePostRemoved(t,y);});}).setFinallyHandler(function(){l.hide();u&&u();}).send();},deleteCollectionsWithConfirmation:function(s,t,u){var v=s.length===1?o._("Deleting this collection will remove it from your shop"):o._("Deleting these collections will remove them from your shop");j.showConfirmationDialog(o._({"Collection":"Delete Collection?","Collections":"Delete Collections?"},[o['enum'](s.length===1?'Collection':'Collections',{Collection:'Collection',Collections:'Collections'})]),v,o._({"collection":"Delete collection","collections":"Delete collections"},[o['enum'](s.length===1?'collection':'collections',{collection:'collection',collections:'collections'})]),r.deleteCollections.bind(r,s,t,u),null);}};f.exports=r;},null);
__d('PageContentTabReorderingCell.react',['Image.react','React','XUIButton.react','cx','xuiglyph'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=i.PropTypes,n=i.createClass({displayName:'PageContentTabReorderingCell',propTypes:{disableUp:m.bool.isRequired,disableDown:m.bool.isRequired,id:m.string.isRequired,onUpClick:m.func.isRequired,onDownClick:m.func.isRequired},render:function(){return (i.createElement('div',{className:"_2ph-",onClick:this._onClick},i.createElement(j,{image:i.createElement(h,{src:l({name:'triangle-up',size:'small',shade:'dark'})}),size:'small',onClick:this._onUpClick,disabled:this.props.disableUp}),i.createElement(j,{image:i.createElement(h,{src:l({name:'triangle-down',size:'small',shade:'dark'})}),onClick:this._onDownClick,size:'small',disabled:this.props.disableDown})));},_onClick:function(o){o.preventDefault();o.stopPropagation();},_onUpClick:function(o){this.props.onUpClick(this.props.id);},_onDownClick:function(o){this.props.onDownClick(this.props.id);}});f.exports=n;},null);
__d("XPagesManagerCollectionCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/content_tab\/store_collections\/collection_create\/",{});},null,{});
__d("XPagesManagerCollectionViewController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/content_tab\/store_collections\/",{collection_id:{type:"String",required:true}});},null,{});
__d('PageCollectionComposer.react',['ActorURI','AsyncRequest','CommerceExceptionHandlerMixin.react','HelpLink.react','Image.react','Layout.react','LeftRight.react','PageAddProductsToCollectionDialog.react','PageContentGenericTable.react','PageContentTabCommonConfig','PageContentTabCommerceProductsColumnConfig','PageCollectionActions','PageContentTabDispatcher','PageContentTabReorderingCell.react','PopoverMenu.react','ProductVisibility','ProductVisibilitySelector.react','React','ReactDOM','XUISelector.react','XCommerceSelfServeParam','XPagesManagerCollectionCreateController','XPagesManagerCollectionViewController','XUIButton.react','XUICheckboxInput.react','XUIGrayText.react','ReactXUIMenu','XUIPopoverButton.react','XUITextInput.react','XUISpinner.react','fbt','cx','xuiglyph','PageContentTabConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa){'use strict';if(c.__markCompiled)c.__markCompiled();var pa=y.PropTypes,qa=oa.COLUMNS,ra=oa.TABS,sa=m.Column,ta=m.FillColumn,ua=ha.Item,va=y.createClass({displayName:'PageCollectionComposer',mixins:[j],propTypes:{collectionID:pa.string,pageID:pa.string.isRequired,featured:pa.bool},getDefaultProps:function(){return {featured:false};},getInitialState:function(){return {featured:false,loading:false,name:'',products:[],submitting:false,selectedProducts:{},visibility:w.PUBLISHED};},componentWillMount:function(){if(this.props.collectionID)this._fetchCollectionDetails(this.props.pageID,this.props.collectionID);},componentWillReceiveProps:function(wa){if(wa.collectionID)this._fetchCollectionDetails(wa.pageID,wa.collectionID);},render:function(){if(this.state.loading)return (y.createElement(ka,{background:'light',className:"_52tg",size:'large'}));return (y.createElement('div',null,y.createElement('div',{className:"_3g6k"},this.renderGeneralError(),this.renderTopBar()),y.createElement('div',{className:"_2pia _3zu5 _3g6k"},this.renderNameAndVisibilitySection(),this.renderIsFeaturedSection(),this.renderProductSection()),this.renderTableSection(),y.createElement('div',{className:"_4a4e _2ph_"},this.renderSaveButton()),y.createElement('div',{ref:'dialogPlaceHolder'})));},renderTopBar:function(){var wa=this.props.collectionID?la._("Edit Collection"):la._("Create Collection");return (y.createElement('div',{className:"_2ph_"},y.createElement(n,null,this.renderGrayText(wa,'dark'),y.createElement('div',null,this.renderCancelButton(),this.renderSaveButton()))));},renderTableSection:function(){var wa=[r[0],this.getProductReorderColumnConfig()];return (y.createElement('div',null,this.renderTableAction(),y.createElement('div',{className:"_3g6l"},y.createElement(p,{className:"_3g6m",columns:wa,posts:this.state.products,selectionChanged:this._selectionChanged,selectedPosts:this.state.selectedProducts,showCheckboxColumn:true,createTableRow:this._createRow,tableHeight:520,tableWidth:673}),y.createElement('div',{className:(this.state.products.length!==0?"hidden_elem":'')+(' '+"_3g6n")},y.createElement(ga,{shade:'medium',size:'large',display:'block'},la._("Add Products to this Collection"))))));},getProductReorderColumnConfig:function(){return {cellRenderer:(function(wa){var xa=this._findProductOrderFromID(wa.id);return (y.createElement(u,{id:wa.id,onUpClick:this._onProductUpClick,onDownClick:this._onProductDownClick,disableUp:xa===0,disableDown:xa===this.state.products.length-1}));}).bind(this),isShown:function(){return true;},key:qa.PRODUCT,label:la._("Order")};},renderTableAction:function(){var wa=y.createElement(ha,null,y.createElement(ua,{onclick:this._onDeleteProductClick},la._("Delete From Collection"))),xa=Object.keys(this.state.selectedProducts).length===0,ya=y.createElement(v,{disabled:xa,menu:wa},y.createElement(ia,{label:la._("\u0414\u0456\u0457"),disabled:xa}));return (y.createElement('div',{className:"_2pi3 _2pia"},y.createElement(n,null,ya)));},renderProductSection:function(){var wa=y.createElement(ea,{label:la._("Add Products"),image:y.createElement(l,{src:na({name:'plus',size:'small',shade:'white'})}),use:'confirm',ref:'addProductsButton',onClick:this._onAddProductsClick,disabled:this.state.loading||this.state.submitting}),xa=this.renderGrayText(la._("Product List {product count in collection}",[la.param('product count in collection','('+this.state.products.length+')')]),'dark');return (y.createElement('div',{className:"_3-8x _2pin"},y.createElement(m,null,y.createElement(ta,null,xa),y.createElement(sa,{className:"_3-99"},wa))));},renderNameAndVisibilitySection:function(){var wa=y.createElement(ja,{className:"_53sm",height:'tall',value:this.state.name,placeholder:la._("\u0456\u043c'\u044f"),onChange:(function(event){return this.setState({name:event.target.value});}).bind(this),xuiError:this.getFieldErrorMessage(ba.COLLECTION_NAME)});return (y.createElement('div',{className:"_3-8o"},y.createElement(m,null,y.createElement(ta,{className:"_2pik"},this.renderGrayText(la._("\u041d\u0430\u0437\u0432\u0430")),wa),y.createElement(sa,{className:"_3-99"},this.renderGrayText(la._("Visibility")),y.createElement(x,{onChange:(function(xa){return this.setState({visibility:xa});}).bind(this),value:this.state.visibility,disabled:this.state.featured,className:!this.state.featured?"_1d4d":''}),y.createElement(k,{className:!this.state.featured?"hidden_elem":'',tooltip:la._("Featured collection cannot be hidden"),alignv:'bottom'})))));},renderIsFeaturedSection:function(){if(this.props.featured)return null;return (y.createElement('div',{className:"_3-8o"},y.createElement(m,null,y.createElement(sa,{className:"_3-8_"},y.createElement(fa,{checked:this.state.featured,onChange:this._onFeatureCheckedChange})),y.createElement(ta,null,y.createElement(ga,{display:'block',shade:'medium'},'Feature this Collection'),y.createElement(ga,{size:'small'},'You can feature a collection to make it stand out in your shop. Featured collections show larger product images and appear at the top of your shop section. You can only have one featured collection at a time.')))));},renderCancelButton:function(){return (y.createElement(ea,{use:'default',label:la._("\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"),action:'button',disabled:this.state.loading||this.state.submitting,onClick:this._exitEditMode}));},renderSaveButton:function(){return (y.createElement(ea,{use:'confirm',label:la._("\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"),action:'button',disabled:this.state.loading||this.state.submitting,onClick:this._onSubmitButtonClicked}));},renderGrayText:function(wa){var xa=arguments.length<=1||arguments[1]===undefined?'medium':arguments[1];return (y.createElement(ga,{className:"_3-94",shade:xa,size:'medium',weight:'bold',display:'block'},wa));},_exitEditMode:function(){s.exitEditMode(this.props.pageID);},_onFeatureCheckedChange:function(event){var wa=event.target.checked;if(wa)this.setState({visibility:w.PUBLISHED});this.setState({featured:wa});},_onProductUpClick:function(wa){var xa=this._findProductOrderFromID(wa);if(xa<=0)return;this._swapProductOrder(xa,xa-1);},_onProductDownClick:function(wa){var xa=this._findProductOrderFromID(wa);if(xa<0||xa>=this.state.products.length-1)return;this._swapProductOrder(xa,xa+1);},_swapProductOrder:function(wa,xa){var ya=this.state.products,za=ya[wa];ya[wa]=ya[xa];ya[xa]=za;this.setState({products:ya});},_findProductOrderFromID:function(wa){return this.state.products.findIndex(function(xa){return xa.id===wa;});},_onDeleteProductClick:function(){var wa=Object.keys(this.state.selectedProducts).length,xa=wa===1?la._("Are you sure you want to delete this product from the collection?"):la._("Are you sure you want to delete these products from the collection?");q.showConfirmationDialog(la._({"Product":"Delete Product?","Products":"Delete Products?"},[la['enum'](wa===1?'Product':'Products',{Product:'Product',Products:'Products'})]),xa,la._("\u0422\u0430\u043a"),this._removeSelectedProducts);},_removeSelectedProducts:function(){var wa=this.state.products.filter((function(xa){return !this.state.selectedProducts[xa.id];}).bind(this));this.setState({products:wa,selectedProducts:{}});},_createRow:function(wa){var xa={};xa[qa.PRODUCT]=wa;return xa;},_selectionChanged:function(wa){this.setState({selectedProducts:wa});},_onAddProductsClick:function(){var wa=this.state.products.reduce(function(ya,za){ya[za.id]=true;return ya;},{}),xa=z.render(y.createElement(o,{excludeProductIDMap:wa,onAddProducts:this._onAddProducts,pageID:this.props.pageID}),z.findDOMNode(this.refs.dialogPlaceHolder));xa.initAndShow();},_onAddProducts:function(wa){this.setState({products:this.state.products.concat(wa)});},_onSubmitButtonClicked:function(){if(this.state.submitting)return;this.setState({submitting:true});var wa={collection_id:this.props.collectionID,name:this.state.name,product_ids:this.state.products.map(function(ya){return ya.id;}),visibility:this.state.visibility,featured:this.state.featured},xa=h.create(ca.getURIBuilder().getURI(),this.props.pageID);this.sendAsync(xa,wa,this._onUpdateSuccess,this._onUpdateError);},_onUpdateError:function(wa){this.setState({submitting:false});},_onUpdateSuccess:function(wa){var xa=wa.payload.current||wa.payload,ya=wa.payload.prevFeatured;if(this.props.collectionID){t.handlePostChanged(xa);}else t.handlePostCreated(ra.COMMERCE_COLLECTIONS,xa,this.props.pageID);if(ya)t.handlePostChanged(ya);this._exitEditMode();},_fetchCollectionDetails:function(wa,xa){if(this.state.loading||this.state.submitting)return;this.setState({loading:true});var ya=h.create(da.getURIBuilder().setString('collection_id',xa).getURI(),wa);new i().setURI(ya).setHandler(this._onCollectionDetailsFetched).send();},_onCollectionDetailsFetched:function(wa){var xa=wa.payload;this.setState({featured:xa.ordering_index===0,loading:false,name:xa.name,visibility:xa.visibility,products:xa.items,selectedProducts:{}});}});f.exports=va;},null);
__d('PageContentTabCommerceCollectionsActionsConfig',['PageCollectionActions','PageContentTabConstants','fbt'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=i.ACTIONS,l=[{allowBatch:true,getLabel:function(m){if(m<=1)return j._("Delete Collection");return j._("Delete Collections ({Number of collections})",[j.param('Number of collections',m)]);},key:k.DELETE,onClick:function(m,n){h.deleteCollectionsWithConfirmation(m.map(function(o){return o.id;}),n.page_id);}}];f.exports=l;},null);
__d('PageContentTabCollectionCell.react',['Image.react','LineClamp.react','React','cx'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.PropTypes,m=j.createClass({displayName:'PageContentTabCollectionCell',propTypes:{collection:l.shape({id:l.string.isRequired,name:l.string.isRequired,visibility:l.string.isRequired,ordering_index:l.number.isRequired}).isRequired},render:function(){var n=this.props.collection;return (j.createElement('div',{className:"_2pir"},j.createElement(h,{src:'',className:"_ioh"}),j.createElement('div',{className:"_1drx"},j.createElement(i,{lines:1},j.createElement('div',{className:"_1dry"},n.name)))));}});f.exports=m;},null);
__d('PageContentTabCollectionReorderCell.react',['HelpLink.react','PageContentTabDispatcher','PageContentTabReorderingCell.react','React','cx','fbt','PageContentTabConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=k.PropTypes,p=n.TABS,q=k.createClass({displayName:'PageContentTabCollectionReorderCell',PropTypes:{id:o.string.isRequired,pageID:o.string.isRequired,customTabState:o.shape({displayIdOrderMap:o.objectOf(o.number).isRequired,backendIdOrderMap:o.objectOf(o.number).isRequired}).isRequired},render:function(){if(this.props.customTabState.displayIdOrderMap[this.props.id]===0)return (k.createElement('span',{className:"_2pis"},m._("\u041f\u0440\u043e\u043f\u043e\u0437\u0438\u0446\u0456\u0457"),k.createElement(h,{tooltip:m._("The featured collection will always appear first in your Shop."),alignv:'bottom'})));var r=this._getCurrentIndex(),s=this._getSize();return (k.createElement(j,{id:this.props.id,onUpClick:this._onUpClick,onDownClick:this._onDownClick,disableUp:r===1,disableDown:r===s-1}));},_getCurrentIndex:function(){return this.props.customTabState.displayIdOrderMap[this.props.id];},_getSize:function(){return Object.keys(this.props.customTabState.displayIdOrderMap).length;},_onUpClick:function(){var r=this._getCurrentIndex();if(r<=1)return;this._swapCollectionOrder(r-1);},_onDownClick:function(){var r=this._getCurrentIndex(),s=this._getSize();if(r===0||r===s-1)return;this._swapCollectionOrder(r+1);},_swapCollectionOrder:function(r){var s=this.props.customTabState.displayIdOrderMap,t=undefined;for(var u in s)if(s[u]===r){t=u;break;}if(!t)return;var v=s[this.props.id],w=JSON.parse(JSON.stringify(this.props.customTabState));w.displayIdOrderMap[this.props.id]=r;w.displayIdOrderMap[t]=v;i.handleSetCustomTabState(p.COMMERCE_COLLECTIONS,w,this.props.pageID);}});f.exports=q;},null);
__d('PageContentTabCommerceCollectionsColumnConfig',['PageContentTabCollectionCell.react','PageContentTabCollectionReorderCell.react','PageContentTabProductVisibility.react','React','fbt','PageContentTabConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=m.COLUMNS,o=[{cellRenderer:function(p){return k.createElement(h,{collection:p});},isShown:function(){return true;},key:n.COLLECTION,label:l._("Collection"),mainColumn:true},{cellRenderer:function(p){return k.createElement(j,{item:p});},isShown:function(){return true;},key:n.VISIBILITY,label:l._("Visibility")},{cellRenderer:function(p){return (k.createElement(i,{id:p.id,customTabState:p.customTabState,pageID:p.pageID}));},getWidth:function(){return 100;},isShown:function(){return true;},key:n.REORDERING,label:l._("Order"),initiallySelected:true}];f.exports=o;},null);
__d('PageContentTabCreateCollectionButton.react',['ActorURI','AsyncRequest','DOM','Image.react','PageCollectionActions','PageContentTabDispatcher','PageContentTabLoadingDialog','PageContentTabLogger','PageContentTabLoggingEvents','React','ReactDOM','XPagesManagerCollectionUpdateOrderController','XUIButton.react','areEqual','fbt','xuiglyph','PageContentTabConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){'use strict';if(c.__markCompiled)c.__markCompiled();var y=q.PropTypes,z=x.TABS,aa=q.createClass({displayName:'PageContentTabCreateCollectionButton',propTypes:{label:y.string,pageID:y.string.isRequired,tab:y.oneOf(Object.keys(z)).isRequired},render:function(){return (q.createElement('div',null,q.createElement(t,{label:this.props.label,image:q.createElement(k,{src:w({name:'plus',size:'small',shade:'white'})}),use:'confirm',ref:'createButton',onClick:this._onClick})));},_onClick:function(){o.log(p.CREATE_CLICKED,this.props.tab,{});l.showCreateView(this.props.pageID);}});f.exports=aa;},null);
__d('PageContentTabSideCollectionButton.react',['PageCollectionActions','React','XUIButton.react','areEqual','cx','fbt','PageContentTabConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=i.PropTypes,p=n.TABS,q=i.createClass({displayName:'PageContentTabSideCollectionButton',propTypes:{customTabState:o.object.isRequired,label:o.string,page:o.object.isRequired,tab:o.oneOf(Object.keys(p)).isRequired},render:function(){return (i.createElement(j,{className:"_3-9a",label:m._("\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"),use:'default',disabled:this._isSaveDisabled(),onClick:this._onSaveOrderClick}));},_isSaveDisabled:function(){return !!this.props.customTabState&&k(this.props.customTabState.backendIdOrderMap,this.props.customTabState.displayIdOrderMap);},_onSaveOrderClick:function(){if(this._isSaveDisabled())return;h.saveCollectionOrders(this.props.customTabState.displayIdOrderMap,this.props.page.page_id);}});f.exports=q;},null);
__d('PageContentTabCommerceCollectionsConfig',['CommerceStoreCollectionType','GraphAPI','PageCollectionComposer.react','PageContentTabCommerceCollectionsActionsConfig','PageContentTabCommerceCollectionsColumnConfig','PageContentTabConfig','PageContentTabCreateCollectionButton.react','PageContentTabSideCollectionButton.react','PageCollectionActions','PageContentTabNullState.react','Promise','React','fbt','ix','PageContentTabConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){'use strict';if(c.__markCompiled)c.__markCompiled();var w=v.LEFT_NAV_GROUPS,x=v.COLUMNS,y=v.TABS,z=m.graph_api_version||'2.2';function aa(ba){return {actions:k,columns:l,onTableRowClick:function(ca,da){p.showEditView(da.page_id,ca.id);},createTableRow:function(ca,da,ea){var fa={};fa[x.COLLECTION]={id:ca.id,name:ca.name,visibility:ca.visibility,ordering_index:ca.ordering_index};fa[x.REORDERING]={id:ca.id,customTabState:ea,pageID:da.page_id};fa[x.VISIBILITY]={visibility:ca.visibility};return fa;},enabled:ba.show_store_curation_tab,hasSearchSupport:false,leftNavGroup:w.SHOP,id:y.COMMERCE_COLLECTIONS,image:u('/images/commerce/shop_icon_2x.png'),sideButtonComponent:o,sideButtonProps:{label:t._("\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438")},createButtonComponent:n,createButtonProps:{label:t._("Add Collection")},customRender:function(ca,da,ea){if(!ea.inEditMode)return null;var fa=ea.editCollectionID;return (s.createElement(j,{pageID:ca,collectionID:fa,featured:ea.displayIdOrderMap[fa]==0}));},clientSortAndFilter:function(ca,da){ca=ca.filter(function(fa){return fa.collection_type!==h.ALL_PRODUCTS;});var ea=da.displayIdOrderMap;return ca.sort(function(fa,ga){return ea[fa.id]-ea[ga.id];});},customStateConfig:{getInitialState:function(){return {backendIdOrderMap:{},displayIdOrderMap:{}};},getStateOnPostChange:function(ca){ca=ca.filter(function(ea){return ea.collection_type!==h.ALL_PRODUCTS;});ca.sort(function(ea,fa){return ea.ordering_index-fa.ordering_index;});var da=ca.reduce(function(ea,fa,ga){ea[fa.id]=ga;return ea;},{});return {backendIdOrderMap:JSON.parse(JSON.stringify(da)),displayIdOrderMap:JSON.parse(JSON.stringify(da)),inEditMode:false};}},getDataLoadPromise:function(ca,da,ea){return i(z).object('commerce_store',da.store_id).edge('commerce_store_collections').get({access_token:ca,fields:['name','ordering_index','visibility','collection_type']});},label:t._("Collections"),renderErrorState:function(ca){return (s.createElement(q,{content:s.createElement('div',null,t._("Something went wrong and we couldn't load your collections. Please try again later. {error}",[t.param('error',ca.message)])),image:u('/images/pages/commerce/www_empty_storefront_1x.png')}));},renderNullState:function(){return (s.createElement(q,{content:s.createElement('div',null,t._("You do not have any collections in your inventory.")),image:u('/images/pages/commerce/www_empty_storefront_1x.png')}));}};}f.exports=aa;},null);
__d('PageContentTabCommerceMerchantSettingsConfig',['XPagesManagerSettingsController','fbt','ix','PageContentTabConstants'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=k.LEFT_NAV_GROUPS,m=k.TABS;function n(o){return {enabled:o.show_merchant_settings_tab,externalURI:h.getURIBuilder().setString('page_token',o.page_id).setString('tab','shop').getURI(),leftNavGroup:l.SHOP,id:m.COMMERCE_MERCHANT_SETTINGS,image:j('/images/ui/xhp/image/glyph/settings.png'),label:i._("Shop Settings")};}f.exports=n;},null);
__d("XPagesProfileCommerceController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/{page_token}\/shop\/",{rid:{type:"Int"},rt:{type:"Enum",enumType:0},location:{type:"Enum",enumType:1},share_id:{type:"Int"},cid:{type:"Int"},obs:{type:"String"},hsi:{type:"Int"},offer_id:{type:"Int"},qr:{type:"String"},ref:{type:"String"},mt_nav:{type:"Bool",defaultValue:false},_sref_:{type:"Int"},_vref_:{type:"Int"},page_token:{type:"String",required:true},business_id:{type:"Int"}});},null,{});
__d('PageContentTabCommerceShopLinkConfig',['XPagesProfileCommerceController','fbt','ix','PageContentTabConstants'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=k.LEFT_NAV_GROUPS,m=k.TABS;function n(o){return {enabled:o.show_products_tab,externalURI:h.getURIBuilder().setString('page_token',o.page_id).getURI(),leftNavGroup:l.SHOP,id:m.COMMERCE_SHOP_LINK,image:j('/images/ui/xhp/image/glyph/settings.png'),label:i._("View Shop")};}f.exports=n;},null);
__d('VideoUtils',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=3600,i=60,j=60,k={formatTime:function(l){l=Math.round(l);var m=Math.floor(l/h),n=Math.floor(l%h/i),o=l%j;return ((m>0?this._padTimeComponent(m)+':':'')+(m>0?this._padTimeComponent(n):n)+':'+this._padTimeComponent(o));},_padTimeComponent:function(l){return ('0'+l).slice(-2);}};f.exports=k;},null);
__d('PageContentTabVideosCopyrightCell.react',['FBOverlayBase.react','FBOverlayContainer.react','FBOverlayElement.react','Image.react','ImageBlock.react','InlineBlock.react','LineClamp.react','React','VideoUtils','XUIGrayText.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=o.PropTypes,t=o.createClass({displayName:'PageContentTabVideosCopyrightCell',propTypes:{video:s.shape({id:s.string,thumbnailSrc:s.string,title:s.string,ownerName:s.string,duration:s.number,isPrivate:s.bool}).isRequired},render:function(){var u=this.props.video;return (o.createElement(l,{className:"_2cyk"},o.createElement(i,null,o.createElement(h,null,o.createElement('div',{className:"_18wn"},o.createElement(k,{src:u.thumbnailSrc,className:"_1h52"}))),o.createElement(j,{vertical:'bottom',horizontal:'right'},o.createElement('div',{className:"_5uri"},p.formatTime(u.duration)))),o.createElement(m,{alignv:'middle',height:50},o.createElement(q,{className:"_5unk",weight:u.isPrivate?'normal':'bold',shade:u.isPrivate?'medium':'dark'},u.ownerName),o.createElement(n,{lines:1,lineHeight:16},o.createElement(q,{className:"_3g3n",shade:'medium'},u.title)))));}});f.exports=t;},null);
__d('PageContentTabStoresConfig',['Map','PageContentTabAccessToken','PageContentTabDataLoader','PageContentTabPostsStore','PageContentTabSortUtils'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m={_stores:new h(),getStore:function(n,o){var p=n.page_id+o.id;if(!this._stores.get(p)){j.fetchPosts(o.getDataLoadPromise(i.getAccessToken(),n,[],l.toAPI(o.initialSortColumn,o.initialSortOrder)),o.id,null,n.page_id);this._stores.set(p,new k(o.id,n.page_id));}return this._stores.get(p);}};f.exports=m;},null);
__d('VideoCopyrightMatchComparisonDialog.react',['BootloadedComponent.react','JSResource','React','XUIDialog.react','XUIDialogBody.react','XUIDialogTitle.react','XUISpinner.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p,q,r=980,s=50;p=babelHelpers.inherits(t,j.Component);q=p&&p.prototype;t.prototype.$VideoCopyrightMatchComparisonDialog1=function(){'use strict';return (j.createElement('div',{style:{textAlign:'center'}},j.createElement(n,{size:'large'})));};t.prototype.render=function(){'use strict';if(!this.props.shown)return null;return (j.createElement(k,{shown:true,width:r,onToggle:this.props.onToggle,fixedTopPosition:s},j.createElement(m,null,o._("Match Comparison")),j.createElement(l,{fontSize:'inherit'},j.createElement(h,{bootloadLoader:i('VideoCopyrightMatchComparison.react'),bootloadPlaceholder:this.$VideoCopyrightMatchComparisonDialog1(),match:this.props.match,matchIndex:this.props.matchIndex,matchesCount:this.props.matchesCount,onMatchNavigation:this.props.onMatchNavigation,navigationLabel:this.props.navigationLabel,source:this.props.source,showRedesign:this.props.showRedesign,actionsConfig:this.props.actionsConfig,onActionSelected:this.props.onActionSelected}))));};function t(){'use strict';p.apply(this,arguments);}f.exports=t;},null);
__d('VideoCopyrightMatchActionTypes',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={ALLOW_MATCH:'ALLOW_MATCH',ADD_TO_REPORT:'ADD_TO_REPORT',WRONG_MATCH:'WRONG_MATCH',REMOVE_FROM_REPORT:'REMOVE_FROM_REPORT',REMOVE_FROM_ALLOWED:'REMOVE_FROM_ALLOWED',REMOVE_FROM_NON_MATCHES:'REMOVE_FROM_NON_MATCHES',SET_VIEWED:'SET_VIEWED',SET_REPORTED:'SET_REPORTED'};f.exports=h;},null);
__d('VideoCopyrightMatchValidStates',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={UNVERIFIED:'UNVERIFIED',VERIFIED_ALLOWED:'VERIFIED_ALLOWED',VERIFIED_WRONG_MATCH:'VERIFIED_WRONG_MATCH'};f.exports=h;},null);
__d('VideoCopyrightUtils',['GraphAPIFieldUtils','VideoCopyrightMatchGraphFields','VideoCopyrightVideoAssetGraphFields','PageContentTabLogger','PageContentTabLoggingEvents','PageContentTabConstants','VideoCopyrightMatchStatus','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=m.TABS,q={GRAPH_API_VERSION:'2.5',getGraphAPIFields:function(){var r=[j.ID,j.TITLE,j.VIEW_COUNT,j.THUMBNAIL_URL,j.DURATION_IN_SEC,j.PUBLISHED_TIME,j.PERMALINK_URL,j.DESCRIPTION,j.HEIGHT,j.WIDTH,j.COMMENT_COUNT,j.LIKE_COUNT,j.SHARE_COUNT,j.IS_PRIVATE,j.OWNER_NAME,j.OWNER_URL,j.OWNER_PICTURE_URL];return [i.MATCH_STATUS,h.getFieldWithSubfields(i.MATCHED_VIDEO_ASSET,r),h.getFieldWithSubfields(i.REFERENCE_VIDEO_ASSET,r),i.VIDEO_TOTAL_MATCH_DURATION,i.VIDEO_MATCH_SEGMENTS,i.EXPIRATION_DAYS,h.getFieldWithSubfields(i.LAST_MODIFIED_USER,['name']),i.LAST_MODIFIED_TIME];},getDeletedVideoAsset:function(){var r={};r[j.TITLE]=o._("Deleted");r[j.PUBLISHED_TIME]=0;r[j.THUMBNAIL_URL]='';r[j.DURATION_IN_SEC]=0;r[j.DESCRIPTION]='';r[j.OWNER_NAME]='';r[j.VIEW_COUNT]=0;r[j.IS_PRIVATE]=false;return r;},_getTabFromMatchStatus:function(r){switch(r){case n.REPORTED_MATCH:return p.REPORTED;case n.ALLOWED:return p.ALLOWED;case n.WRONG_MATCH:return p.NON_MATCHES;case n.ADDED_MATCH:return p.UNSENT_REPORTS;default:return p.VIDEOS_COPYRIGHT;}},logDataError:function(r,s){var t=q._getTabFromMatchStatus(r.match_status);k.log(l.DATA_ERROR,t,{error:JSON.stringify(s),post_id:r.id});}};f.exports=q;},null);
__d('VideosCopyrightMatchActions',['GraphAPI','Promise','VideoCopyrightUtils'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={getMatch:function(l,m){return h(j.GRAPH_API_VERSION).object('video_copyright_match',l).get({access_token:m,fields:j.getGraphAPIFields(),date_format:'U'});},getMatches:function(l,m){return h(j.GRAPH_API_VERSION).objects('video_copyright_match',l).get({access_token:m,fields:j.getGraphAPIFields(),date_format:'U'});},setMatchIsViewed:function(l,m){return h(j.GRAPH_API_VERSION).object('video_copyright_match',l).post({access_token:m,is_viewed:true});},updateMatchState:function(l,m,n){return h(j.GRAPH_API_VERSION).object('video_copyright_match',l).post({access_token:n,match_state:m});},addToReport:function(l,m){return h(j.GRAPH_API_VERSION).object('video_copyright_match',l).post({access_token:m,in_user_unsent_report:true});},removeFromReport:function(l,m){return h(j.GRAPH_API_VERSION).object('video_copyright_match',l).post({access_token:m,in_user_unsent_report:false});}};f.exports=k;},null);
__d('VideoCopyrightMatchErrorUtil',['SimpleXUIDialog','VideoCopyrightMatchError','fbt'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={showError:function(l){switch(l){case i.REPORT_SIZE_LIMIT_EXCEEDED:h.show(j._("You have exceeded your report size limit. Please send your current report before processing additional matches."),j._("Limit Exceeded"));}}};f.exports=k;},null);
__d('PageContentTabVideosCopyrightActions',['PageContentTabAccessToken','PageContentTabConstants','PageContentTabDispatcher','PageContentTabLoadingDialog','PageContentTabLogger','PageContentTabLoggingEvents','VideoCopyrightMatchActionTypes','VideoCopyrightMatchValidStates','VideosCopyrightMatchActions','VideoCopyrightMatchErrorUtil','VideoCopyrightMatchStatus','Promise'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t=i.TABS,u=50,v={updateMatchState:function(w,x,y){k.show();var z=this._getActionData(x),aa=w.map((function(ba){return (p.updateMatchState(ba.id,z.state,h.getAccessToken()).then((function(ca){ba.match_status=z.status;ba.last_modified_user={name:ca.last_modified_user_name};ba.last_modified_time=ca.last_modified_time;this._moveMatchToTab(ba,y.page_id,z.tab,z.newTab);}).bind(this))['catch']((function(ca){this._logError(z,ba.id,ca);}).bind(this)));}).bind(this));s.all(aa).done(function(){k.hide();});},addToReport:function(w,x){k.show();var y=n.ADD_TO_REPORT,z=this._getActionData(y),aa=w.map((function(ba){return (p.addToReport(ba.id,h.getAccessToken()).then((function(ca){if(ca.success){ba.match_status=z.status;this._moveMatchToTab(ba,x.page_id,z.tab,z.newTab);}else q.showError(ca.api_error);}).bind(this))['catch']((function(ca){this._logError(z,ba.id,ca);}).bind(this)));}).bind(this));s.all(aa).done(function(){k.hide();});},removeMatchFromReport:function(w,x){var y=n.REMOVE_FROM_REPORT,z=this._getActionData(y);p.getMatch(w,h.getAccessToken()).then((function(aa){this._moveMatchToTab(aa,x.page_id,z.tab,z.newTab);}).bind(this))['catch']((function(aa){this._logError(z,w,aa);}).bind(this));},setMatchReported:function(w,x){if(w.length==0)return s.resolve();k.show();var y=n.SET_REPORTED,z=this._getActionData(y),aa=[];while(w.length>0){var ba=w.splice(0,u);aa.push(p.getMatches(ba,h.getAccessToken()).then((function(ca){Object.keys(ca).map(function(da){ca[da].match_status=z.status;});this._moveMatchesToTab(ca,x,z.tab,z.newTab);}).bind(this))['catch']((function(ca){this._logError(z,ba[0],ca);}).bind(this)));}return s.all(aa).then(function(){return k.hide();});},removeFromReport:function(w,x){k.show();var y=n.REMOVE_FROM_REPORT,z=this._getActionData(y),aa=w.map((function(ba){return (p.removeFromReport(ba.id,h.getAccessToken()).then((function(ca){ba.match_status=z.status;this._moveMatchToTab(ba,x.page_id,z.tab,z.newTab);}).bind(this))['catch']((function(ca){this._logError(z,ba.id,ca);}).bind(this)));}).bind(this));s.all(aa).done(function(){k.hide();});},_moveMatchToTab:function(w,x,y,z){j.handlePostRemoved(x,w.id,y);j.handlePostCreated(z,w,x);},_moveMatchesToTab:function(w,x,y,z){var aa=Object.keys(w),ba=aa.map(function(ca){return w[ca];});j.handlePostsRemoved(x,aa,y);j.handlePostsCreated(z,ba,x);},setMatchIsViewed:function(w,x){var y=n.SET_VIEWED,z=this._getActionData(y);if(!w.is_viewed&&r[w.match_status]===r.NEW_MATCH)p.setMatchIsViewed(w.id,h.getAccessToken()).then(function(aa){w.is_viewed=true;j.handlePostChanged(w,z.tab,x.page_id);})['catch']((function(aa){this._logError(z,w.id,aa);}).bind(this));},_logError:function(w,x,y){l.log(m.API_ERROR,w.tab,{error:JSON.stringify(y),action:w.action,post_id:x});},_getActionData:function(w){var x,y,z,aa;switch(w){case n.ALLOW_MATCH:x=o.VERIFIED_ALLOWED;aa=r.ALLOWED;y=t.VIDEOS_COPYRIGHT;z=t.ALLOWED;break;case n.WRONG_MATCH:x=o.VERIFIED_WRONG_MATCH;aa=r.WRONG_MATCH;y=t.VIDEOS_COPYRIGHT;z=t.NON_MATCHES;break;case n.ADD_TO_REPORT:aa=r.ADDED_MATCH;y=t.VIDEOS_COPYRIGHT;z=t.UNSENT_REPORTS;break;case n.REMOVE_FROM_REPORT:aa=r.NEW_MATCH;y=t.UNSENT_REPORTS;z=t.VIDEOS_COPYRIGHT;break;case n.REMOVE_FROM_ALLOWED:x=o.UNVERIFIED;aa=r.NEW_MATCH;y=t.ALLOWED;z=t.VIDEOS_COPYRIGHT;break;case n.REMOVE_FROM_NON_MATCHES:x=o.UNVERIFIED;aa=r.NEW_MATCH;y=t.NON_MATCHES;z=t.VIDEOS_COPYRIGHT;break;case n.SET_REPORTED:aa=r.REPORTED_MATCH;y=t.UNSENT_REPORTS;z=t.REPORTED;break;case n.SET_VIEWED:y=t.VIDEOS_COPYRIGHT;break;}return {action:w,state:x,status:aa,tab:y||'',newTab:z||''};}};f.exports=v;},null);
__d('PageContentTabVideosCopyrightActionsConfig',['VideoCopyrightMatchActionTypes','PageContentTabCommonActionsConfig','PageContentTabVideosCopyrightActions','fbt'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=[{allowBatch:false,getLabel:function(m,n){return k._("Add to Report");},key:h.ADD_TO_REPORT,onClick:function(m,n){j.addToReport(m,n);}},{allowBatch:false,getLabel:function(m,n){return k._("\u0414\u043e\u0437\u0432\u043e\u043b\u0438\u0442\u0438");},key:h.ALLOW_MATCH,onClick:function(m,n){j.updateMatchState(m,h.ALLOW_MATCH,n);}},i.ACTIONS_MENU_SEPARATOR,{allowBatch:false,getLabel:function(m,n){return k._("Not a Match");},key:h.WRONG_MATCH,onClick:function(m,n){j.updateMatchState(m,h.WRONG_MATCH,n);}}];f.exports=l;},null);
__d('PageContentTabVideosCopyrightUnsentReportsActionsConfig',['PageContentTabVideosCopyrightActions','VideoCopyrightMatchActionTypes','fbt'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=[{allowBatch:true,getLabel:function(l,m){return j._("Remove from Unsent Reports");},key:i.REMOVE_FROM_REPORT,onClick:function(l,m){h.removeFromReport(l,m);}}];f.exports=k;},null);
__d('PageContentTabVideosCopyrightAllowedActionsConfig',['PageContentTabVideosCopyrightActions','VideoCopyrightMatchActionTypes','fbt'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=[{allowBatch:true,getLabel:function(l,m){return j._("Remove from Allowed Matches");},key:i.REMOVE_FROM_ALLOWED,onClick:function(l,m){h.updateMatchState(l,i.REMOVE_FROM_ALLOWED,m);}}];f.exports=k;},null);
__d('PageContentTabVideosCopyrightNonMatchActionsConfig',['PageContentTabVideosCopyrightActions','VideoCopyrightMatchActionTypes','fbt'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=[{allowBatch:true,getLabel:function(l,m){return j._("Remove from Non-Matches");},key:i.REMOVE_FROM_NON_MATCHES,onClick:function(l,m){h.updateMatchState(l,i.REMOVE_FROM_NON_MATCHES,m);}}];f.exports=k;},null);
__d('PageContentTabVideoCopyrightMatchComparisonDialog.react',['EmitterSubscription','React','PageContentTabConstants','PageContentTabDataLoader','PageContentTabLogger','PageContentTabLoggingEvents','PageContentTabQueryStore','PageContentTabPostsStore','PageContentTabStoresConfig','VideoCopyrightMatchComparisonSource','VideoCopyrightVideoAssetGraphFields','VideoCopyrightMatchComparisonDialog.react','VideoCopyrightMatchGraphFields','PageContentTabVideosCopyrightActionsConfig','PageContentTabVideosCopyrightUnsentReportsActionsConfig','PageContentTabVideosCopyrightAllowedActionsConfig','PageContentTabVideosCopyrightNonMatchActionsConfig','PageContentTabVideosCopyrightActions','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){if(c.__markCompiled)c.__markCompiled();var aa,ba,ca=j.TABS,da=5;aa=babelHelpers.inherits(ea,i.Component);ba=aa&&aa.prototype;function ea(fa){'use strict';ba.constructor.call(this,fa);var ga=p.getStore(this.props.page,this.props.tab);this.state={matchesStore:ga,matches:[],matchIndex:-1,matchesTotalCount:0,shown:true,queryKey:null};}ea.prototype.componentWillMount=function(){'use strict';this.$PageContentTabVideoCopyrightMatchComparisonDialog1();this.$PageContentTabVideoCopyrightMatchComparisonDialog2=this.state.matchesStore.addListener('postsChanged',this.$PageContentTabVideoCopyrightMatchComparisonDialog1.bind(this));};ea.prototype.componentWillUnmount=function(){'use strict';if(this.$PageContentTabVideoCopyrightMatchComparisonDialog2){this.$PageContentTabVideoCopyrightMatchComparisonDialog2.remove();this.$PageContentTabVideoCopyrightMatchComparisonDialog2=null;}};ea.prototype.componentWillReceiveProps=function(fa){'use strict';var ga=this.state.matches.indexOf(fa.match);if(ga<0)ga=0;this.setState({matchIndex:ga,shown:true});};ea.prototype.$PageContentTabVideoCopyrightMatchComparisonDialog1=function(){'use strict';var fa=this.state.matchesStore,ga=n.getQueryKey(this.props.page.page_id,this.props.tab.id),ha=fa.isInitialLoadComplete(ga);if(!ha)return;var ia=fa.getAllPosts(ga),ja=fa.getTotalCount(ga),ka=ia.indexOf(this.props.match);if(ja==0){this.setState({shown:false});return;}if(ka<0)if(this.state.matchIndex>=0&&this.state.matchIndex<ja){ka=this.state.matchIndex;}else ka=0;this.setState({matches:ia,matchesTotalCount:ja,matchIndex:ka,queryKey:ga});};ea.prototype.$PageContentTabVideoCopyrightMatchComparisonDialog3=function(fa){'use strict';var ga=this.state.matches.length;if(ga<this.state.matchesTotalCount&&fa+da>=ga)k.fetchNextPosts(this.props.tab.id,this.state.queryKey,this.props.page.page_id);this.setState({matchIndex:fa});};ea.prototype.$PageContentTabVideoCopyrightMatchComparisonDialog4=function(fa){'use strict';return {id:fa[r.ID],durationInSec:fa[r.DURATION_IN_SEC],width:fa[r.WIDTH],height:fa[r.HEIGHT],permalinkURL:'/'+fa[r.ID],thumbnailSrc:fa[r.THUMBNAIL_URL],ownerPictureSrc:fa[r.OWNER_PICTURE_URL],ownerPublicName:fa[r.OWNER_NAME]||'',ownerProfileURL:fa[r.OWNER_URL],publishedTime:fa[r.PUBLISHED_TIME],isPrivate:fa[r.IS_PRIVATE],description:fa[r.DESCRIPTION],viewsCount:fa[r.VIEW_COUNT],commentsCount:fa[r.COMMENT_COUNT],sharesCount:fa[r.SHARE_COUNT],likesCount:fa[r.LIKE_COUNT]};};ea.prototype.$PageContentTabVideoCopyrightMatchComparisonDialog5=function(fa){'use strict';var ga=fa[t.MATCHED_VIDEO_ASSET],ha=fa[t.LAST_MODIFIED_USER];return {matchID:fa[t.ID],status:fa[t.MATCH_STATUS],expirationInDays:fa[t.EXPIRATION_DAYS],referenceVideoAsset:this.$PageContentTabVideoCopyrightMatchComparisonDialog4(fa[t.REFERENCE_VIDEO_ASSET]),matchedVideoAsset:ga?this.$PageContentTabVideoCopyrightMatchComparisonDialog4(ga):null,segments:fa[t.VIDEO_MATCH_SEGMENTS],lastModifiedUserName:ha?ha.name:z._("\u041d\u0435\u0432\u0456\u0434\u043e\u043c\u0435"),lastModifiedTime:fa[t.LAST_MODIFIED_TIME]};};ea.prototype.$PageContentTabVideoCopyrightMatchComparisonDialog6=function(fa){'use strict';this.setState({shown:fa});};ea.prototype.setMatchIsViewed=function(fa){'use strict';y.setMatchIsViewed(fa,this.props.page);};ea.prototype.$PageContentTabVideoCopyrightMatchComparisonDialog7=function(fa){'use strict';var ga=this.state.matches[this.state.matchIndex];l.log(m.ACTION_TAKEN_OVERLAY,this.props.tab.id,{action:fa.key,post_id:ga.id,post_ids:[ga.id],num_posts:1,bulk_action:false});fa.onClick([ga],this.props.page);};ea.prototype.$PageContentTabVideoCopyrightMatchComparisonDialog8=function(){'use strict';switch(this.props.tab.id){case ca.VIDEOS_COPYRIGHT:return u;case ca.UNSENT_REPORTS:return v;case ca.ALLOWED:return w;case ca.NON_MATCHES:return x;default:return null;}};ea.prototype.render=function(){'use strict';var fa=this.state.matches[this.state.matchIndex];if(this.state.shown)this.setMatchIsViewed(fa);var ga=this.$PageContentTabVideoCopyrightMatchComparisonDialog5(fa),ha=this.state.matchesTotalCount;return (i.createElement(s,{shown:this.state.shown,showRedesign:this.props.page.show_copyright_tab_redesign,onToggle:this.$PageContentTabVideoCopyrightMatchComparisonDialog6.bind(this),match:ga,matchIndex:this.state.matchIndex,matchesCount:ha,onMatchNavigation:this.$PageContentTabVideoCopyrightMatchComparisonDialog3.bind(this),navigationLabel:this.props.label,source:q.DASHBOARD,actionsConfig:this.$PageContentTabVideoCopyrightMatchComparisonDialog8(),onActionSelected:this.$PageContentTabVideoCopyrightMatchComparisonDialog7.bind(this)}));};f.exports=ea;},null);
__d('PageContentTabVideosCopyrightCommonConfig',['AdsGenericFilterField','AdsGenericFilterFieldType','AdsGenericFilterOperator','FbtResult','GraphAPI','PageContentTabConstants','PageContentTabVideoCopyrightMatchComparisonDialog.react','Promise','React','VideoCopyrightVideoAssetGraphFields','VideoCopyrightMatchGraphFields','VideoCopyrightUtils','VideoCopyrightMatchGraphFilterFields','fbt','formatDate'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){if(c.__markCompiled)c.__markCompiled();var w=m.COLUMNS,x=1000,y={createOverlay:function(z,aa,ba,ca){if(z[r.REFERENCE_VIDEO_ASSET])return (p.createElement(n,{match:z,page:aa,tab:ba,label:ca}));},_createRow:function(z,aa){var ba={},ca=z[r.MATCHED_VIDEO_ASSET];if(!ca){ca=s.getDeletedVideoAsset();z[r.VIDEO_TOTAL_MATCH_DURATION]=0;z[r.EXPIRATION_DAYS]=-1;s.logDataError(z,'Cannot load matched video asset');}var da=z[r.REFERENCE_VIDEO_ASSET];if(!da){da=s.getDeletedVideoAsset();z[r.VIDEO_TOTAL_MATCH_DURATION]=0;z[r.EXPIRATION_DAYS]=-1;s.logDataError(z,'Cannot load reference video asset');}var ea=ca[q.ID],fa=ca[q.TITLE],ga=ca[q.DESCRIPTION],ha=ca[q.OWNER_NAME],ia=ca[q.THUMBNAIL_URL],ja=ca[q.DURATION_IN_SEC],ka=ca[q.PUBLISHED_TIME],la=ca[q.VIEW_COUNT],ma=ca[q.IS_PRIVATE],na=da[q.TITLE],oa=da[q.DESCRIPTION],pa=(fa?fa+' ':'')+(ga||''),qa=ka>0?v(new Date(ka*x),'M j, Y'):u._("\u041d\u0435\u0432\u0456\u0434\u043e\u043c\u0435"),ra=z[r.VIDEO_TOTAL_MATCH_DURATION];ba[w.VIDEO]={id:ea,title:pa,ownerName:ha,thumbnailSrc:ia,duration:ja,isPrivate:ma};ba[w.PUBLISHED_DATE]={published_date:qa};ba[w.VIDEO_VIEWS]={views:la||0};ba[w.OVERLAP]=ra;ba[w.REFERENCE_VIDEO]={title:na||'',description:oa||''};return ba;},createNewMatchesRow:function(z,aa){var ba=z[r.EXPIRATION_DAYS];if(ba===0){ba=u._("\u041d\u0456\u043a\u043e\u043b\u0438");}else if(ba===-1){ba='';}else ba=u._({"*":{"day":"{number} day","days":"{number} days"}},[u.param('number',ba,[0]),u['enum'](ba===1?'day':'days',{day:'day',days:'days'})]);var ca=y._createRow(z,aa);ca[w.EXPIRES_DAYS]={expires_days:ba};return ca;},createModifiedRow:function(z,aa){var ba=y._createRow(z,aa),ca=z[r.LAST_MODIFIED_USER],da=z[r.LAST_MODIFIED_TIME];ba[w.LAST_MODIFIED_BY]={lastModifiedDate:da?v(new Date(da*x),'M j, Y'):'',lastModifiedName:ca?ca.name:u._("\u041d\u0435\u0432\u0456\u0434\u043e\u043c\u0435")};return ba;},getDataLoadPromise:function(z,aa,ba,ca,da,ea){var fa=s.getGraphAPIFields();return l(s.GRAPH_API_VERSION).object('page',ca.page_id).edge('video_copyright_matches').get({match_status:z,fields:fa.concat(aa||[]),access_token:ba,filtering:da,summary:true,sort:ea,all_videos:true,date_format:'U'});},maxInsightValue:function(z,aa){var ba=0;z.forEach(function(ca){ba=Math.max(ba,parseInt(ca[aa],10));});return ba;},searchFilterField:{field:new h(t.SUMMARY,i.STRING),operator:j.CONTAIN}};f.exports=y;},null);
__d('PageContentTabGroupedColumnHeader.react',['React','CSS','FixedDataTableSortableHeader.react','PageContentTabConstants','XUISelector.react','XUISelectorButton.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=l.Option,p=k.COLUMNS,q=h.PropTypes,r=h.createClass({displayName:'PageContentTabGroupedColumnHeader',propTypes:{columns:q.arrayOf(q.shape({key:q.oneOf(Object.keys(p)).isRequired,label:q.string.isRequired})).isRequired,initiallySelectedColumn:q.oneOf(Object.keys(p)).isRequired,changeSelectedColumns:q.func.isRequired,onSortChanged:q.func.isRequired,sort:q.shape({key:q.oneOf(Object.keys(p)),order:q.oneOf([k.SORT_ORDER_ASC,k.SORT_ORDER_DESC])}).isRequired},render:function(){var s=this.props.sort.key===this.props.initiallySelectedColumn,t=[this._renderButton()];this.props.columns.forEach(function(u){return t.push(h.createElement(o,{value:u.key,key:u.key},u.label));});return (h.createElement(j,{className:"_4uby"+(!this.props.sort.key?' '+"_k7t":''),sorting:s?this.props.sort.order:null,onClick:this._onSort},h.createElement(l,{initialValue:this.props.initiallySelectedColumn,onChange:this._onSelect},t)));},_onSelect:function(s){this.props.changeSelectedColumns(s.value,this.props.initiallySelectedColumn);},_renderButton:function(){return (h.createElement(m,{className:"_4ubz",key:'page_content_tab_grouped_column_header_selector_button'}));},_onSort:function(s,t){if(!this.props.sort.key)return;var u=t.target,v=u.parentNode,w="_4uby";if(i.hasClass(u,w)||i.hasClass(v,w)){var x=this.props.sort.key===this.props.initiallySelectedColumn,y=k.SORT_ORDER_ASC;if(x&&this.props.sort.order===k.SORT_ORDER_ASC)y=k.SORT_ORDER_DESC;this.props.onSortChanged({key:this.props.initiallySelectedColumn,order:y});}}});f.exports=r;},null);
__d('PageContentTabLastModifiedColumn',['parseISODate'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={getLastEditorName:function(j){var k=this._getLastEditAction(j);return k.editor&&k.editor.name;},getLastEditDate:function(j){var k=this._getLastEditAction(j);if(k.edit_time)return h(k.edit_time);},_getLastEditAction:function(j){var k=0,l={};(j||[]).forEach(function(m){var n=h(m.edit_time);if(n.getTime()>k){l=m;k=n.getTime();}});return l;}};f.exports=i;},null);
__d('PageContentTabCellRenderers',['React','FixedDataTableSortableHeader.react','LineClamp.react','NumberFormat','PageContentTabConstants','PageContentTabGroupedColumnHeader.react','PageContentTabLastModifiedColumn','Image.react','Tooltip.react','cx','ix','emptyFunction','fbt','formatDate','parseISODate'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){'use strict';if(c.__markCompiled)c.__markCompiled();var w={renderGroupedColumnHeader:function(x,y,z){return (h.createElement(m,{columns:z.columnsInGroup,initiallySelectedColumn:y,changeSelectedColumns:z.changeSelectedColumns,onSortChanged:z.onSortChanged,sort:z.sort}));},renderSortableHeader:function(x,y,z){return w.renderHeaderWithTooltip(x,y,z,true);},renderHeaderWithTooltip:function(x,y,z,aa,ba){var ca=z.sort.key===y,da=z.initialSortOrder||l.SORT_ORDER_ASC,ea=z.sort.order||z.initialSortOrder,fa=null;if(ba)fa=h.createElement(p,{tooltip:ba},h.createElement(o,{src:r('images/components/HelpLink/info.png'),className:"_541d"}));return aa?h.createElement(i,{onClick:function(){var ga=da;if(ca&&ea===ga)ga=ea===l.SORT_ORDER_ASC?l.SORT_ORDER_DESC:l.SORT_ORDER_ASC;z.onSortChanged({key:y,order:ga});},sorting:ca?ea:null},x,fa):h.createElement('div',null,x,fa);},renderHeaderWithSortingArrow:function(x){return (h.createElement(i,{className:"_3i6j",onClick:s,sorting:l.SORT_ORDER_DESC},x));},renderLastModifiedCell:function(x){var y=null,z=null;if(!x.edit_actions||!x.edit_actions.length){z=v(x.modified_time);}else{y=n.getLastEditorName(x.edit_actions);z=n.getLastEditDate(x.edit_actions);}var aa=null,ba=null;if(z){ba=w._renderDateLabel(z.toISOString());aa=h.createElement('div',{className:"_477n"},h.createElement(j,{lines:1},ba));}return (h.createElement('div',{'aria-label':ba,'data-hover':'tooltip'},aa,h.createElement('div',{className:"_1rus"},y)));},renderDateCreatedCell:function(x){var y=v(x.time),z=null,aa=null;if(y){aa=w._renderDateLabel(x.time);z=h.createElement('div',{className:"_477n"},h.createElement(j,{lines:1},aa));}return (h.createElement('div',{'aria-label':aa,'data-hover':'tooltip'},h.createElement(j,{lines:2},z,h.createElement('div',{className:"_1rus"},x.admin))));},renderDateWithAdmin:function(x){if(!x.time)return h.createElement('div',null);var y=w._renderDateLabel(x.time);return (h.createElement('div',{'aria-label':y,'data-hover':'tooltip'},h.createElement(j,{lines:2},h.createElement('div',{className:"_477n"},h.createElement(j,{lines:1},y)),h.createElement('div',{className:"_1rus"},x.admin))));},renderCellWithNLinesOfText:function(x,y,z,aa){return (h.createElement('div',{'aria-label':z,'data-hover':'tooltip',className:"_1i32"},h.createElement(j,{lines:y,lineHeight:aa},h.createElement('div',null,' ',x,' '))));},renderCellWithNumber:function(x){var y=k.formatInteger(x);return h.createElement('span',null,y);},renderVideoLibraryViews:function(x){return h.createElement('div',{className:"_147g"},this.renderCellWithNumber(x));},renderDateCell:function(x){if(!x)return h.createElement('div',null);var y=w._renderDateLabel(x);return (h.createElement('div',{'aria-label':y,'data-hover':'tooltip'},h.createElement(j,{lines:1},y)));},_renderDateLabel:function(x){x=v(x);if(x.getFullYear()===new Date().getFullYear())return t._("{date} \u043e {time}",[t.param('date',u(x,'M j, Y')),t.param('time',u(x,'g:ia'))]);return t._("{date}",[t.param('date',u(x,'M j, Y'))]);}};f.exports=w;},null);
__d('PageContentTabVideosCopyrightOverlapCell.react',['React','InsightsBackgroundBar.react','SpectrumIntegerScale','VideoUtils'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes,m=h.createClass({displayName:'PageContentTabVideosCopyrightOverlapCell',propTypes:{matchedDuration:l.number.isRequired,maxDuration:l.number.isRequired},render:function(){return (h.createElement(i,{colors:['#9DACCB'],labelWidth:'34px',label:k.formatTime(this.props.matchedDuration),scale:j().domain([0,this.props.maxDuration]),tall:false,values:[this.props.matchedDuration]}));}});f.exports=m;},null);
__d('PageContentTabVideosCopyrightCommonColumnsConfig',['LineClamp.react','PageContentTabVideosCopyrightCommonConfig','PageContentTabCellRenderers','PageContentTabVideosCopyrightOverlapCell.react','PageContentTabVideosCopyrightCell.react','React','PageContentTabConstants','XUIGrayText.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r={VIDEO_COLUMN_WIDTH:192,getVideoColumn:function(s){return {key:'VIDEO',cellRenderer:function(t,u,v){return m.createElement(l,{video:t});},isShown:function(){return true;},label:s,getWidth:function(){return (r.VIDEO_COLUMN_WIDTH);}};},getPublishedDateColumn:function(s){return {key:'PUBLISHED_DATE',headerRenderer:s?j.renderSortableHeader:null,cellRenderer:function(t,u,v){return m.createElement('div',null,t.published_date);},isShown:function(){return true;},label:q._("Published"),getWidth:function(){return 100;}};},getVideoViewsColumn:function(s){return {key:'VIDEO_VIEWS',headerRenderer:s?j.renderSortableHeader:null,cellRenderer:function(t,u,v){return j.renderCellWithNumber(t.views);},isShown:function(){return true;},label:q._("Views"),getWidth:function(){return 65;},initialSortOrder:n.SORT_ORDER_DESC};},getOverlapColumn:function(s){return {key:'OVERLAP',cellRenderer:function(t,u,v){return (m.createElement(k,{matchedDuration:t,maxDuration:i.maxInsightValue(v.posts,'video_total_match_duration')}));},isShown:function(){return true;},label:q._("Overlap"),getWidth:function(){return 101;},headerRenderer:function(t,u,v){var w=q._("The overlapped duration of the matched video");return j.renderHeaderWithTooltip(t,u,v,s,w);},initialSortOrder:n.SORT_ORDER_DESC};},getExpiresColumn:function(s){return {key:'EXPIRES_DAYS',headerRenderer:s?j.renderSortableHeader:null,cellRenderer:function(t,u,v){return m.createElement('div',null,t.expires_days);},isShown:function(){return true;},label:q._("Expires"),getWidth:function(){return 81;}};},getReferenceVideoColumn:function(s){return {key:'REFERENCE_VIDEO',headerRenderer:s?j.renderSortableHeader:null,cellRenderer:function(t,u,v){return (m.createElement('div',{className:"_4p_m"},m.createElement(h,{lines:2,lineHeight:18},t.title,' ',t.description)));},isShown:function(){return true;},label:q._("Your Video"),getWidth:function(){return 100;}};},getLastModifiedColumn:function(s,t){return {key:'LAST_MODIFIED_BY',cellRenderer:function(u,v,w){return (m.createElement('div',null,m.createElement('div',null,u.lastModifiedDate),m.createElement(o,{className:"_1l_6",size:'small'},u.lastModifiedName)));},isShown:function(){return true;},label:s,getWidth:function(){return t;}};}};f.exports=r;},null);
__d('PageContentTabVideosCopyrightColumnsConfig',['PageContentTabVideosCopyrightCell.react','PageContentTabVideosCopyrightCommonColumnsConfig','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();function l(m){return [i.getVideoColumn(k._("Possible Match")),i.getPublishedDateColumn(m),i.getVideoViewsColumn(m),i.getOverlapColumn(m),i.getExpiresColumn(m),i.getReferenceVideoColumn(m)];}f.exports=l;},null);
__d('PageContentTabVideosCopyrightFilterGroups',['fbt'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={MATCHED_VIDEO:{key:'matched_video',text:h._("Possible Match")},REFERENCE_VIDEO:{key:'reference_video',text:h._("Your Video")}};f.exports=i;},null);
__d('PageContentTabVideosCopyrightFilterFieldConfig',['AdsCMAccountStore','AdsGenericFilterField','AdsGenericFilterFieldType','AdsGenericFilterOperatorConfig','FBDate','PageContentTabVideosCopyrightFilterGroups','VideoCopyrightMatchGraphFilterFields','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=0;function q(t){var u=new l(+t*1000,h.getTimezoneID()||p);return u.format('F j, Y');}function r(t){return Math.floor(+t/1000);}function s(t){var u={MATCHED_VIDEO_NAME:{text:o._("Page or Person"),field:new i(n.MATCHED_OWNER_NAME,j.STRING),operators:[k.CONTAIN,k.EQUAL,k.NOT_CONTAIN],group:m.MATCHED_VIDEO},MATCHED_VIDEO_TITLE:{text:o._("\u041d\u0430\u0437\u0432\u0430"),field:new i(n.MATCHED_VIDEO_TITLE,j.STRING),operators:[k.CONTAIN,k.EQUAL,k.NOT_CONTAIN],group:m.MATCHED_VIDEO},MATCHED_VIDEO_DESCRIPTION:{text:o._("\u041e\u043f\u0438\u0441"),field:new i(n.MATCHED_VIDEO_DESCRIPTION,j.STRING),operators:[k.CONTAIN,k.NOT_CONTAIN],group:m.MATCHED_VIDEO},MATCHED_VIDEO_DATE_PUBLISHED:{text:o._("Date Published"),field:new i(n.MATCHED_VIDEO_DATE_PUBLISHED,j.DATE_RANGE),operators:[k.IN_RANGE],valueRenderer:q,valueParser:r,group:m.MATCHED_VIDEO},MATCHED_VIDEO_VIEWS:{text:o._("Views"),field:new i(n.MATCHED_VIDEO_VIEWS,j.NUMBER),operators:[k.GREATER_THAN,k.LESS_THAN],group:m.MATCHED_VIDEO},MATCHED_VIDEO_OVERLAP_PERCENT:{text:o._("Overlap (\u0025)"),field:new i(n.OVERLAP_PERCENT,j.NUMBER),operators:[k.GREATER_THAN,k.LESS_THAN],group:m.MATCHED_VIDEO},MATCHED_VIDEO_OVERLAP_DURATION:{text:o._("Overlap (m:ss)"),field:new i(n.OVERLAP_DURATION,j.STRING),operators:[k.GREATER_THAN,k.LESS_THAN],group:m.MATCHED_VIDEO},MATCHED_VIDEO_EXPIRES:{text:o._("Expires"),field:new i(n.EXPIRES,j.STRING),operators:[k.GREATER_THAN,k.LESS_THAN],group:m.MATCHED_VIDEO},REFERENCE_VIDEO_TITLE:{text:o._("Title"),field:new i(n.REFERENCE_VIDEO_TITLE,j.STRING),operators:[k.CONTAIN,k.EQUAL,k.NOT_CONTAIN],group:m.REFERENCE_VIDEO},REFERENCE_VIDEO_DESCRIPTION:{text:o._("Description"),field:new i(n.REFERENCE_VIDEO_DESCRIPTION,j.STRING),operators:[k.CONTAIN,k.NOT_CONTAIN],group:m.REFERENCE_VIDEO},REFERENCE_VIDEO_DATE_PUBLISHED:{text:o._("Date Published"),field:new i(n.REFERENCE_VIDEO_DATE_PUBLISHED,j.DATE_RANGE),operators:[k.IN_RANGE],valueRenderer:q,valueParser:r,group:m.REFERENCE_VIDEO},REFERENCE_VIDEO_VIEWS:{text:o._("Views"),field:new i(n.REFERENCE_VIDEO_VIEWS,j.NUMBER),operators:[k.GREATER_THAN,k.LESS_THAN],group:m.REFERENCE_VIDEO}};return u;}f.exports=s;},null);
__d('PageContentTabVideosCopyrightFilterValueConfig',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={};f.exports=h;},null);
__d("XVideoCopyrightSendReportDialogController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video\/copyright\/report\/form\/",{page_id:{type:"Int",required:true},__asyncDialog:{type:"Int"}});},null,{});
__d("XVideoCopyrightCarouselChainingController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video\/copyright\/carousel\/chaining\/",{limit:{type:"Int",required:true},offset:{type:"Int"},match_ids:{type:"IntVector",required:true}});},null,{});
__d('VideoCopyrightCarouselChaining',['Arbiter','AsyncRequest','DOM','Event','SubscriptionsHandler','XVideoCopyrightCarouselChainingController','TimelineCollectionsInfiniteCarousel','csx','tidyEvent'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q={init:function(r,s,t,u){this._carousel=r;this._matchIDs=u;this._offset=t;this._limit=s;this._subscriptionsHandler=new l();this._subscriptionsHandler.addSubscriptions(r.subscribe('needsitems',this._loadMoreItems.bind(this)),r.subscribe('newitemsadded',this._addButtonsListener),r.subscribe('lastelementremoved',this._carouselEmpty.bind(this)),h.subscribe('CopyrightCarousel/removeitem',this._removeItem.bind(this)));},releaseSubscriptions:function(){this._subscriptionsHandler.release();this._subscriptionsHandler=null;},registerRemoveFromReport:function(r,s){p(k.listen(r,'click',function(){h.inform('CopyrightCarousel/removeitem',s);}));},_carouselEmpty:function(){h.inform('CopyrightCarousel/carouselempty');},_loadMoreItems:function(){var r=m.getURIBuilder().setInt('offset',this._offset).setInt('limit',this._limit).setIntVector('match_ids',this._matchIDs).getURI();new i().setURI(r).setHandler((function(s){var t=s.getPayload();if(t.last_match_id){this._offset=t.last_match_id;var u=t.elements.map(function(v){return j.create('li',{},v.element).firstChild;});this._carousel.addItems(u);}else this._carousel.endCarousel();}).bind(this)).send();},_addButtonsListener:function(r,s){s.forEach(function(t){var u=j.find(t,"._353g");q.registerRemoveFromReport(u,t);});},_removeItem:function(r,s){var t=s.getAttribute('data-id');delete this._matchIDs[t];this._carousel.removeItem(s);var u=j.find(document.body,"._353h");if(u){var v=Object.keys(this._matchIDs).length;j.setContent(u,v);}h.inform('CopyrightCarousel/matchremoved',t);}};f.exports=q;},null);
__d('PageContentTabSendReportButton.react',['Arbiter','AsyncDialog','AsyncRequest','Link.react','PageContentTabConstants','PageContentTabLogger','PageContentTabLoggingEvents','React','SubscriptionsHandler','URI','XUIButton.react','XVideoCopyrightSendReportDialogController','PageContentTabVideosCopyrightActions','VideoCopyrightCarouselChaining','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){'use strict';if(c.__markCompiled)c.__markCompiled();var w=o.PropTypes,x=l.TABS,y=o.createClass({displayName:'PageContentTabSendReportButton',_subscriptions:p,propTypes:{className:w.string,page:w.object.isRequired,useDialog:w.bool},getInitialState:function(){return {isDisabled:true};},componentDidMount:function(){this._subscriptions=new p();this._subscriptions.addSubscriptions(h.subscribe('VideoCopyright/updatereport',this._toggleSubmit));},componentWillUnmount:function(){this._subscriptions.release();},_toggleSubmit:function(z,aa){var ba=aa===0;if(this.state.isDisabled!==ba)this.setState({isDisabled:ba});},_logButtonClick:function(){m.log(n.COPYRIGHT_SEND_REPORT_CLICKED,x.VIDEOS_COPYRIGHT,{});},_removeMatch:function(z,aa){t.removeMatchFromReport(aa,this.props.page);},_onButtonClick:function(){var z=h.subscribe('CopyrightCarousel/matchremoved',this._removeMatch),aa=s.getURIBuilder().setInt('page_id',this.props.page.page_id).getURI();this._logButtonClick();i.send(new j().setURI(aa),function(ba){var ca=h.subscribe('CopyrightCarousel/carouselempty',function(){return ba.hide();});ba.subscribe('hide',function(){u.releaseSubscriptions();if(z){z.unsubscribe();z=null;}if(ca){ca.unsubscribe();ca=null;}});});},render:function(){var z=v._("\u041d\u0430\u0434\u0456\u0441\u043b\u0430\u0442\u0438 \u0441\u043a\u0430\u0440\u0433\u0443"),aa=v._("You don't yet have any reports. You can send reports after you add some matches.");if(this.props.useDialog){return (o.createElement(r,{className:this.props.className,label:z,use:'confirm',onClick:this._onButtonClick,disabled:this.state.isDisabled,'data-hover':'tooltip','aria-label':this.state.isDisabled?aa:null}));}else{var ba=new q('/help/contact/1595635760703466');return (o.createElement(k,{href:ba,target:'_blank',className:this.props.className},o.createElement(r,{className:this.props.className,label:z,use:'confirm',onClick:this._logButtonClick})));}}});f.exports=y;},null);
__d('PageContentTabVideosCopyrightOperations.react',['Link.react','PageContentTabSendReportButton.react','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=j.PropTypes,n=j.createClass({displayName:'PageContentTabVideosCopyrightOperations',propTypes:{showSendReportButton:m.bool,sendFeedbackURL:m.string},getDefaultProps:function(){return {showSendReportButton:false};},render:function(){var o;if(this.props.showSendReportButton)o=j.createElement(i,{className:"_3-9a",page:this.props.page,useDialog:this.props.page.show_copyright_tab_redesign});return (j.createElement('span',null,j.createElement(h,{className:"_s09",href:this.props.sendFeedbackURL,target:'_blank'},l._("\u041d\u0430\u0434\u0456\u0441\u043b\u0430\u0442\u0438 \u0432\u0456\u0434\u0433\u0443\u043a")),o));}});f.exports=n;},null);
__d('PageContentTabVideosCopyrightMainActionsConfig',['VideoCopyrightMatchActionTypes','PageContentTabVideosCopyrightActions','fbt'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=[{allowBatch:true,getLabel:function(l){return l<=1?j._("\u0414\u043e\u0437\u0432\u043e\u043b\u0438\u0442\u0438"):j._("Allow ({num_posts})",[j.param('num_posts',l)]);},key:h.ALLOW_MATCH,onClick:function(l,m){i.updateMatchState(l,h.ALLOW_MATCH,m);}},{allowBatch:true,getLabel:function(l){return l<=1?j._("Not a Match"):j._("Not a Match ({num_posts})",[j.param('num_posts',l)]);},key:h.WRONG_MATCH,onClick:function(l,m){i.updateMatchState(l,h.WRONG_MATCH,m);}}];f.exports=k;},null);
__d('PageContentTabVideosCopyrightConfig',['PageContentTabConstants','PageContentTabNullState.react','PageContentTabVideosCopyrightColumnsConfig','PageContentTabVideosCopyrightCommonConfig','PageContentTabVideosCopyrightFilterFieldConfig','PageContentTabVideosCopyrightFilterValueConfig','PageContentTabVideosCopyrightOperations.react','PageContentTabVideosCopyrightMainActionsConfig','React','VideoCopyrightMatchGraphFields','VideoCopyrightMatchStatus','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u=h.COLUMNS,v=h.LEFT_NAV_GROUPS;function w(x,y){var z={};return z={enabled:!!x.show_copyright_management_tab,actions:o,columns:j(x.allow_copyright_match_sorting),id:h.TABS.VIDEOS_COPYRIGHT,leftNavGroup:v.VIDEOS_COPYRIGHT,image:t('/images/ads/createflow/objectives/icons_mini/video.png'),createButtonComponent:n,createButtonProps:{page:x,showSendReportButton:true,sendFeedbackURL:x.copyright_management_config&&x.copyright_management_config.sendFeedbackURL},createOverlay:function(aa,ba,ca){return k.createOverlay(aa,ba,z,s._("New Matches"));},createTableRow:k.createNewMatchesRow,label:s._("New Matches"),renderErrorState:function(){return (p.createElement(i,{content:p.createElement('div',null,s._("Something went wrong and we couldn't load matched videos. Please try again later."))}));},renderNullState:function(){return (p.createElement(i,{content:p.createElement('div',null,s._("You don't have any new matched videos."))}));},highlightKey:q.IS_VIEWED,highlightValue:false,getDataLoadPromise:function(aa,ba,ca,da){return (k.getDataLoadPromise(r.NEW_MATCH,[q.IS_VIEWED],aa,ba,ca,da));},searchFilterField:k.searchFilterField,filterFieldsConfig:l(x),filterValuesConfig:m,defaultFilterField:l(x).MATCHED_VIDEO_NAME,showCheckboxColumn:true};}f.exports=w;},null);
__d('PageContentTabVideosCopyrightReportedColumnsConfig',['PageContentTabVideosCopyrightCommonColumnsConfig','fbt'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k){return [h.getVideoColumn(i._("Reported Video")),h.getPublishedDateColumn(k),h.getVideoViewsColumn(k),h.getOverlapColumn(k),h.getLastModifiedColumn(i._("Reported"),121),h.getReferenceVideoColumn(k)];}f.exports=j;},null);
__d('PageContentTabVideosCopyrightReportedConfig',['GraphAPIFieldUtils','PageContentTabConstants','PageContentTabNullState.react','PageContentTabVideosCopyrightFilterFieldConfig','PageContentTabVideosCopyrightFilterValueConfig','PageContentTabVideosCopyrightReportedColumnsConfig','PageContentTabVideosCopyrightOperations.react','PageContentTabVideosCopyrightCommonConfig','React','VideoCopyrightMatchGraphFields','VideoCopyrightMatchStatus','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u=i.LEFT_NAV_GROUPS;function v(w,x){var y={};return y={enabled:!!w.show_copyright_management_tab,columns:m(w.allow_copyright_match_sorting),id:i.TABS.REPORTED,leftNavGroup:u.VIDEOS_COPYRIGHT,image:t('/images/ads/createflow/objectives/icons_mini/video.png'),createButtonComponent:n,createButtonProps:{page:w,sendFeedbackURL:w.copyright_management_config&&w.copyright_management_config.sendFeedbackURL},createOverlay:function(z,aa,ba){return o.createOverlay(z,aa,y,s._("Reported"));},hasSearchSupport:false,createTableRow:o.createModifiedRow,label:s._("Reported"),renderErrorState:function(){return (p.createElement(j,{content:p.createElement('div',null,s._("Something went wrong and we couldn't load reported videos. Please try again later."))}));},renderNullState:function(){return (p.createElement(j,{content:p.createElement('div',null,s._("You don't have any reported videos."))}));},getDataLoadPromise:function(z,aa,ba,ca){return (o.getDataLoadPromise(r.REPORTED_MATCH,[],z,aa,ba,ca));},searchFilterField:o.searchFilterField,filterFieldsConfig:k(w),filterValuesConfig:l,defaultFilterField:k(w).MATCHED_VIDEO_NAME,showCheckboxColumn:false};}f.exports=v;},null);
__d('PageContentTabVideosCopyrightAllowedColumnConfig',['PageContentTabVideosCopyrightCell.react','PageContentTabVideosCopyrightCommonColumnsConfig','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();function l(m){return [i.getVideoColumn(k._("Allowed Video")),i.getPublishedDateColumn(m),i.getVideoViewsColumn(m),i.getOverlapColumn(m),i.getLastModifiedColumn(k._("Allowed"),83),i.getReferenceVideoColumn(m)];}f.exports=l;},null);
__d('PageContentTabVideosCopyrightAllowedConfig',['PageContentTabConstants','PageContentTabNullState.react','PageContentTabVideosCopyrightAllowedColumnConfig','PageContentTabVideosCopyrightCommonConfig','PageContentTabVideosCopyrightAllowedActionsConfig','React','PageContentTabVideosCopyrightFilterFieldConfig','PageContentTabVideosCopyrightFilterValueConfig','VideoCopyrightMatchStatus','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=h.LEFT_NAV_GROUPS;function t(u,v){var w={};return w={enabled:!!u.show_copyright_tab_redesign,actions:l,columns:j(u.allow_copyright_match_sorting),id:h.TABS.ALLOWED,leftNavGroup:s.VIDEOS_COPYRIGHT,image:r('/images/ads/createflow/objectives/icons_mini/video.png'),createOverlay:function(x,y,z){return k.createOverlay(x,y,w,q._("Allowed"));},createTableRow:k.createModifiedRow,label:q._("Allowed"),renderErrorState:function(){return (m.createElement(i,{content:m.createElement('div',null,q._("Something went wrong and we couldn't load allowed videos. Please try again later."))}));},renderNullState:function(){return (m.createElement(i,{content:m.createElement('div',null,q._("You don't have any allowed videos."))}));},getDataLoadPromise:function(x,y,z,aa){return (k.getDataLoadPromise(p.ALLOWED,[],x,y,z,aa));},showCheckboxColumn:true,searchFilterField:k.searchFilterField,filterFieldsConfig:n(u),filterValuesConfig:o,defaultFilterField:n(u).MATCHED_VIDEO_NAME};}f.exports=t;},null);
__d('PageContentTabVideosCopyrightNonMatchColumnConfig',['PageContentTabVideosCopyrightCell.react','PageContentTabVideosCopyrightCommonColumnsConfig','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();function l(m){return [i.getVideoColumn(k._("Non-Matches")),i.getPublishedDateColumn(m),i.getVideoViewsColumn(m),i.getOverlapColumn(m),i.getLastModifiedColumn(k._("Modified"),83),i.getReferenceVideoColumn(m)];}f.exports=l;},null);
__d('PageContentTabVideosCopyrightNonMatchConfig',['PageContentTabConstants','PageContentTabNullState.react','PageContentTabVideosCopyrightNonMatchColumnConfig','PageContentTabVideosCopyrightCommonConfig','PageContentTabVideosCopyrightNonMatchActionsConfig','React','PageContentTabVideosCopyrightFilterFieldConfig','PageContentTabVideosCopyrightFilterValueConfig','VideoCopyrightMatchStatus','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=h.LEFT_NAV_GROUPS;function t(u,v){var w={};return w={enabled:!!u.show_copyright_tab_redesign,actions:l,columns:j(u.allow_copyright_match_sorting),id:h.TABS.NON_MATCHES,leftNavGroup:s.VIDEOS_COPYRIGHT,image:r('/images/ads/createflow/objectives/icons_mini/video.png'),createOverlay:function(x,y,z){return k.createOverlay(x,y,w,q._("Non-Matches"));},createTableRow:k.createModifiedRow,label:q._("Non-Matches"),renderErrorState:function(){return (m.createElement(i,{content:m.createElement('div',null,q._("Something went wrong and we couldn't load non- matches. Please try again later."))}));},renderNullState:function(){return (m.createElement(i,{content:m.createElement('div',null,q._("You don't have any non-matches."))}));},getDataLoadPromise:function(x,y,z,aa){return (k.getDataLoadPromise(p.WRONG_MATCH,[],x,y,z,aa));},showCheckboxColumn:true,searchFilterField:k.searchFilterField,filterFieldsConfig:n(u),filterValuesConfig:o,defaultFilterField:n(u).MATCHED_VIDEO_NAME};}f.exports=t;},null);
__d('PageContentTabVideosCopyrightUnsentReportsColumnConfig',['PageContentTabVideosCopyrightCell.react','PageContentTabVideosCopyrightCommonColumnsConfig','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();function l(m){return [i.getVideoColumn(k._("Matching Video")),i.getPublishedDateColumn(m),i.getVideoViewsColumn(m),i.getOverlapColumn(m),i.getExpiresColumn(m),i.getReferenceVideoColumn(m)];}f.exports=l;},null);
__d('PageContentTabVideosCopyrightUnsentReportsConfig',['Arbiter','PageContentTabConstants','PageContentTabNullState.react','PageContentTabVideosCopyrightUnsentReportsColumnConfig','PageContentTabVideosCopyrightCommonConfig','React','PageContentTabVideosCopyrightUnsentReportsActionsConfig','PageContentTabVideosCopyrightOperations.react','PageContentTabVideosCopyrightFilterFieldConfig','PageContentTabVideosCopyrightFilterValueConfig','VideoCopyrightMatchStatus','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u=i.LEFT_NAV_GROUPS;function v(w,x){var y={};return y={enabled:!!w.show_copyright_tab_redesign,actions:n,columns:k(w.allow_copyright_match_sorting),id:i.TABS.UNSENT_REPORTS,leftNavGroup:u.VIDEOS_COPYRIGHT,image:t('/images/ads/createflow/objectives/icons_mini/video.png'),createButtonComponent:o,createButtonProps:{page:w,showSendReportButton:true,sendFeedbackURL:w.copyright_management_config&&w.copyright_management_config.sendFeedbackURL},showBadgeCount:true,createOverlay:function(z,aa,ba){return l.createOverlay(z,aa,y,s._("Unsent Reports"));},createTableRow:l.createNewMatchesRow,label:s._("Unsent Reports"),renderErrorState:function(){return (m.createElement(j,{content:m.createElement('div',null,s._("Something went wrong and we couldn't load your unsent reports. Please try again later."))}));},renderNullState:function(){return (m.createElement(j,{content:m.createElement('div',null,s._("You have not added any videos to this report."))}));},onUpdateCount:function(z){h.inform('VideoCopyright/updatereport',z);},getDataLoadPromise:function(z,aa,ba,ca){return (l.getDataLoadPromise(r.ADDED_MATCH,[],z,aa,ba,ca));},showCheckboxColumn:true,searchFilterField:l.searchFilterField,filterFieldsConfig:p(w),filterValuesConfig:q,defaultFilterField:p(w).MATCHED_VIDEO_NAME};}f.exports=v;},null);
__d("XCommerceOrderCancelController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/commerce\/merchant\/orders\/cancel\/",{});},null,{});
__d('PageOrderMerchantCancelDialog.react',['AsyncRequest','BOFCancellationReason','CommerceExceptionHandlerMixin.react','Layout.react','React','XCommerceErrorParam','XCommerceOrderCancelController','XCommerceSelfServeParam','XUIButton.react','XUIDialog.react','XUIDialogBody.react','XUIDialogTitle.react','XUIDialogFooter.react','XUIError.react','XUISingleSelector.react','XUIText.react','XUITextInput.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){'use strict';if(c.__markCompiled)c.__markCompiled();var aa=k.Column,ba=k.FillColumn,ca=v.Option,da=l.PropTypes,ea=500,fa=l.createClass({displayName:'PageOrderMerchantCancelDialog',mixins:[j],propTypes:{orderID:da.string.isRequired,shownInitially:da.bool},getInitialState:function(){return {dialogShown:this.props.shownInitially};},render:function(){if(!this.state.dialogShown)return null;var ga=[i.CUSTOMER_REQUESTED,i.OUT_OF_STOCK,i.INVALID_ADDRESS,i.SUSPICIOUS_ORDER,i.INCORRECT_PRODUCT_DESCRIPTION,i.CANCEL_REASON_OTHER],ha=z._("Reason for Cancellation"),ia=[],ja=i;for(var ka in ja)if(ga.indexOf(ja[ka])!==-1)ia.push(l.createElement(ca,{value:ja[ka],key:ka},this._getDisplayedCancelReason(ja[ka])));var la=l.createElement(v,{ref:'cancel_reason'},ia),ma=z._("\u041d\u043e\u0442\u0430\u0442\u043a\u0438"),na=l.createElement(x,{className:"_53sm",ref:o.EXPLANATION,xuiError:this.getFieldErrorMessage(o.EXPLANATION)});return (l.createElement(q,{width:ea,onToggle:(function(oa){return this.setState({dialogShown:oa});}).bind(this),shown:this.state.dialogShown},l.createElement(s,null,this._getTitle()),l.createElement(r,null,this._getFormRow(ha,la),this._getFormRow(ma,na)),l.createElement(t,null,l.createElement(p,{use:'confirm',label:z._("Cancel Order"),onClick:this._onClickCancelButton}))));},_getTitle:function(){return z._("Cancel Order");},_getFormRow:function(ga,ha){return (l.createElement(k,{className:"_3-95"},l.createElement(aa,null,l.createElement(w,{className:"_3-90"},ga)),l.createElement(ba,null,ha)));},_getDisplayedCancelReason:function(ga){switch(ga){case i.CUSTOMER_REQUESTED:return z._("Customer requested");case i.OUT_OF_STOCK:return z._("Out of stock");case i.INVALID_ADDRESS:return z._("Invalid address");case i.SUSPICIOUS_ORDER:return z._("Suspicious order");case i.INCORRECT_PRODUCT_DESCRIPTION:return z._("Product doesn't match description");default:return z._("\u0406\u043d\u0448\u0435");}},_handleSuccessResponse:function(){this.hide();},_handleErrorResponse:function(ga){this.refs.explanation.focusInput();},_onClickCancelButton:function(){var ga={order_id:this.props.orderID,cancel_reason_code:this.refs.cancel_reason.getValue(),reason:this.refs.explanation.refs.textInput.getValue()};this.sendAsync(n.getURIBuilder().getURI(),ga,this._handleSuccessResponse,this._handleErrorResponse);},show:function(){this.setState({dialogShown:true});},hide:function(){this.setState({dialogShown:false});}});f.exports=fa;},null);
__d("XCommerceOrderRefundController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/commerce\/merchant\/orders\/refund\/",{});},null,{});
__d('PageOrderRefundDialog.react',['AdsCurrencyFormatter','AdsCurrencyInput.react','AsyncRequest','BOFRefundReason','CommerceExceptionHandlerMixin.react','Layout.react','React','XCommerceOrderRefundController','XCommerceSelfServeParam','XUIButton.react','XUIDialog.react','XUIDialogBody.react','XUIDialogTitle.react','XUIDialogFooter.react','XUIError.react','XUISingleSelector.react','XUIText.react','XUITextInput.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){'use strict';if(c.__markCompiled)c.__markCompiled();var ba=m.Column,ca=m.FillColumn,da=w.Option,ea=n.PropTypes,fa=500,ga=n.createClass({displayName:'PageOrderRefundDialog',mixins:[l],propTypes:{orderID:ea.string.isRequired,currency:ea.string.isRequired,totalOrderAmount:ea.number.isRequired},getInitialState:function(){return {amountError:null,dialogShown:false,refundAmount:this.props.totalOrderAmount};},render:function(){if(!this.state.dialogShown)return null;var ha=[k.WRONG_ITEM,k.QUALITY_ISSUE,k.DAMAGED_GOODS,k.NOT_AS_DESCRIBED,k.BUYERS_REMORSE,k.REFUND_REASON_OTHER],ia=aa._("\u041f\u0440\u0438\u0447\u0438\u043d\u0430"),ja=aa._("Amount:"),ka=n.createElement(i,{ref:'amount',className:"_1sej",currency:'USD',xuiError:this.getFieldErrorMessage(p.AMOUNT)||this.state.amountError,eventType:'blur',nonnegative:true,onDataUpdate:this._onRefundAmountChange,value:this.state.refundAmount*100}),la=[],ma=k;for(var na in ma)if(ha.indexOf(ma[na])!=-1)la.push(n.createElement(da,{value:ma[na],key:na},this._getDisplayedReason(ma[na])));var oa=n.createElement(w,{ref:'refund_reason'},la),pa=aa._("Explanation:"),qa=n.createElement(y,{className:"_53sm",ref:p.EXPLANATION});return (n.createElement(r,{width:fa,onToggle:(function(ra){return this.setState({dialogShown:ra});}).bind(this),shown:this.state.dialogShown},n.createElement(t,null,this._getTitle()),n.createElement(s,null,this._getFormRow(ja,ka),this._getFormRow(ia,oa),this._getFormRow(pa,qa)),n.createElement(u,null,n.createElement(q,{use:'confirm',label:aa._("Refund"),disabled:this.state.amountError,onClick:this._onClickRefundButton}))));},_getTitle:function(){return aa._("Refund Order");},_getFormRow:function(ha,ia){return (n.createElement(m,{className:"_3-95"},n.createElement(ba,null,n.createElement(x,{className:"_3-90"},ha)),n.createElement(ca,null,ia)));},_getDisplayedReason:function(ha){switch(ha){case k.WRONG_ITEM:return aa._("Wrong item");case k.QUALITY_ISSUE:return aa._("Quality issue");case k.DAMAGED_GOODS:return aa._("Damaged goods");case k.NOT_AS_DESCRIBED:return aa._("Item not as described");case k.BUYERS_REMORSE:return aa._("Buyers remorse");default:return aa._("\u0406\u043d\u0448\u0435");}},_onRefundAmountChange:function(ha){var ia=ha/100,ja=null;if(ia<=0){ja=aa._("Must be a numerical value greater than 0");}else if(ia>this.props.totalOrderAmount){var ka=h.formatCurrency('USD',this.props.totalOrderAmount*100);ja=aa._("You cannot refund more than the total order amount of {Total Order Amount}",[aa.param('Total Order Amount',ka)]);}this.setState({refundAmount:ia,amountError:ja});},_handleSuccessResponse:function(){this.hide();},_handleErrorResponse:function(ha){this.refs.amount.focusInput();},_onClickRefundButton:function(){var ha={order_id:this.props.orderID,refund_reason_code:this.refs.refund_reason.getValue(),reason:this.refs.explanation.refs.textInput.getValue(),amount:this.state.refundAmount,currency:this.props.currency},ia=o.getURIBuilder().getURI();this.sendAsync(ia,ha,this._handleSuccessResponse,this._handleErrorResponse);},show:function(){this.setState({dialogShown:true});},hide:function(){this.setState({dialogShown:false});}});f.exports=ga;},null);
__d('PageContentTabCommerceOrdersActionsConfig',['PageContentTabConstants','DOM','PageOrderMerchantCancelDialog.react','PageOrderRefundDialog.react','PageOrderContactBuyerDialog.react','PageOrderShipDialog.react','React','ReactDOM','XPaymentReceiptDownloadController','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=h.ACTIONS,s=h.TABS;function t(u){return [{allowBatch:false,getLabel:function(v){return q._("Ship Order");},key:r.SHIP_ORDER,onClick:function(v,w){var x=v[0],y=n.createElement(m,{orderID:x.id,pageID:w.page_id});y=o.render(y,i.create('div'));y.show();},isAvailable:function(){return u===s.COMMERCE_PENDING_ORDERS;}},{allowBatch:false,getLabel:function(v){return q._("Print Packing Slip");},key:r.PRINT_INVOICE,onClick:function(v,w){var x=v[0],y=p.getURIBuilder().setInt('id',x.id).getURI();window.open(y,'_blank');}},{allowBatch:false,getLabel:function(v){return q._("Refund Order");},key:r.REFUND_ORDER,onClick:function(v,w){var x=v[0],y=n.createElement(k,{orderID:x.id,currency:x.total_amount.currency,totalOrderAmount:parseFloat(x.total_amount.amount)});y=o.render(y,i.create('div'));y.show();},isAvailable:function(){return u===s.COMMERCE_PAST_ORDERS;}},{allowBatch:false,getLabel:function(v){return q._("Cancel Order");},key:r.CANCEL_ORDER,onClick:function(v,w){var x=v[0],y=n.createElement(j,{orderID:x.id});y=o.render(y,i.create('div'));y.show();},isAvailable:function(){return u===s.COMMERCE_PENDING_ORDERS;}},{allowBatch:false,getLabel:function(v){return q._("Contact Customer");},key:r.CONTACT_BUYER,onClick:function(v,w){var x=v[0],y=n.createElement(l,{orderID:x.id,page:w});y=o.render(y,i.create('div'));}}];}f.exports=t;},null);
__d("XCommerceOrdersDownloadController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/commerce\/merchant\/orders\/download\/",{merchant_settings_id:{type:"String",required:true},order_states:{type:"EnumSet",required:true,enumType:null}});},null,{});
__d('PageContentTabSideCommerceOrdersButton.react',['BOFOrderState','React','XCommerceOrdersDownloadController','XUIButton.react','cx','fbt','PageContentTabConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=i.PropTypes,p=n.TABS,q=i.createClass({displayName:'PageContentTabSideCommerceOrdersButton',propTypes:{customTabState:o.object.isRequired,page:o.object.isRequired,tab:o.oneOf(Object.keys(p)).isRequired},render:function(){return (i.createElement(k,{className:"_3-9a",label:m._("Download CSV"),use:'default',onClick:this._onDownloadCSVClick}));},_onDownloadCSVClick:function(){var r=this._getOrderStates(),s=j.getURIBuilder().setString('merchant_settings_id',this.props.page.product_merchant_setting_id).setEnumSet('order_states',r).getURI();window.open(s,'_blank');},_getOrderStates:function(){switch(this.props.tab){case p.COMMERCE_PAST_ORDERS:return [h.BOF_ORDER_STATE_FULFILLED];case p.COMMERCE_PENDING_ORDERS:return [h.BOF_ORDER_STATE_NOT_FULFILLED];default:throw new Error('Unexpected this.props.tab value: '+this.props.tab);}}});f.exports=q;},null);
__d('CommerceOrderCellRenderers',['Currency.react','Image.react','ImageBlock.react','React','cx','fbt','formatDate','parseISODate'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p={renderDate:function(q){var r=o(q);return n(r,'M j, Y');},renderItems:function(q){q=q.slice(0,3);var r=[];q.forEach(function(s){r.push(k.createElement(i,{className:"mrs _ioh",src:s.image_url}));});return (k.createElement('div',null,r));},renderBuyer:function(q){if(!q)return null;return (k.createElement(j,{spacing:'medium'},k.createElement(i,{className:"_ioh",src:q.picture.data.url}),k.createElement('div',null,q.name)));},renderPrice:function(q){return (k.createElement('div',{className:"_4wa5"},k.createElement(h,{code:q.currency,value:Number(q.offsetted_amount),withIso:false})));}};f.exports=p;},null);
__d('PageContentTabCommerceOrdersColumnConfig',['CommerceOrderCellRenderers','React','PageContentTabConstants','fbt'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=j.COLUMNS,m=[{cellRenderer:h.renderDate,isShown:function(){return true;},key:l.ORDER_DATE,getWidth:function(){return 100;},label:k._("\u0414\u0430\u0442\u0430"),initiallySelected:true},{cellRenderer:h.renderBuyer,isShown:function(){return true;},key:l.ORDER_BUYER,label:k._("Buyer"),mainColumn:true,initiallySelected:true},{cellRenderer:h.renderPrice,isShown:function(){return true;},key:l.ORDER_PRICE,getWidth:function(){return 60;},label:k._("Price"),initiallySelected:true},{cellRenderer:h.renderItems,isShown:function(){return true;},key:l.ORDER_ITEMS,getWidth:function(){return 140;},label:k._("\u041f\u0440\u043e\u0434\u0443\u043a\u0446\u0456\u044f"),initiallySelected:true}];f.exports=m;},null);
__d('PageOrderDetailsDialog.react',['AsyncRequest','CommerceOrderDetails.react','React','ReactLayeredComponentMixin','XPagesManagerOrderViewController','XPaymentReceiptDownloadController','XUIButton.react','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogTitle.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u=j.PropTypes,v=820,w=j.createClass({displayName:'PageOrderDetailsDialog',mixins:[k],propTypes:{orderID:u.string.isRequired,page:u.object.isRequired,shownInitially:u.bool},getInitialState:function(){return {dialogShown:this.props.shownInitially,order:{}};},componentWillMount:function(){if(!this.props.orderID)return;this.setState({order:{}});this._fetchOrderDetails(this.props.orderID);},componentWillReceiveProps:function(x){if(this.props.orderID!==x.orderID){this.setState({order:{}});this._fetchOrderDetails(x.orderID);}},_fetchOrderDetails:function(x){var y=l.getURIBuilder().setInt('order_id',x).getURI();new h().setURI(y).setHandler(this._onOrderDetailsFetched).send();},_onOrderDetailsFetched:function(x){var y=x.payload;this.setState({dialogShown:true,order:y});},renderLayers:function(){if(!this.state.dialogShown)return {};return {dialog:j.createElement(o,{width:v,onToggle:(function(x){return this.setState({dialogShown:x});}).bind(this),shown:this.state.dialogShown},j.createElement(r,null,this._getTitle()),j.createElement(p,{className:"_2efv"},j.createElement(i,{order:this.state.order,page:this.props.page})),j.createElement(q,{fullBleedBorder:true},j.createElement(n,{onClick:this._onClickPrint,label:t._("Print Packing Slip")})))};},_onClickPrint:function(){var x=m.getURIBuilder().setInt('id',this.state.order.id).getURI();window.open(x,'_blank');},render:function(){return j.createElement('span',null);},_getTitle:function(){return t._("Order Details");},show:function(){this.setState({dialogShown:true});},hide:function(){this.setState({dialogShown:false});}});f.exports=w;},null);
__d('PageContentTabCommerceOrdersConfig',['GraphAPI','GraphAPIFieldUtils','PageContentTabCommerceOrdersActionsConfig','PageContentTabSideCommerceOrdersButton.react','PageContentTabCommerceOrdersColumnConfig','PageContentTabConfig','PageContentTabConstants','PageContentTabNullState.react','PageOrderDetailsDialog.react','React','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=n.LEFT_NAV_GROUPS,u=n.COLUMNS,v=m.graph_api_version||'2.2';function w(x,y,z){var aa=j(y);return {actions:aa,sideButtonComponent:k,columns:l,createOverlay:function(ba,ca){return (q.createElement(p,{orderID:ba.id,page:ca}));},createTableRow:function(ba,ca){var da={};da[u.ORDER_DATE]=ba.time_created;da[u.ORDER_ITEMS]=ba.items||[];da[u.ORDER_BUYER]=ba.customer;da[u.ORDER_PRICE]=ba.total_amount;return da;},enabled:x.show_orders_tab,hasSearchSupport:false,leftNavGroup:t.SHOP,image:s('/images/commerce/tag.png'),getDataLoadPromise:function(ba,ca,da,ea){return (h(v).object('commerce_merchant_settings',ca.product_merchant_setting_id).edge('orders').get({access_token:ba,fields:['id','time_created',i.getFieldWithSubfields('customer',['name','picture']),i.getFieldWithSubfields('items',['image_url']),'total_amount'],states:z,limit:1000,summary:true}));},renderErrorState:function(ba){return (q.createElement(o,{content:q.createElement('div',null,r._("Something went wrong and we couldn't load your orders. Please try again later. {error}",[r.param('error',ba.message)])),image:s('/images/pages/post_actions/www/empty_draft_66x66-2x.png')}));},renderNullState:function(){return (q.createElement(o,{content:q.createElement('div',null,r._("You do not have any orders")),image:s('/images/pages/post_actions/www/empty_draft_66x66-2x.png')}));}};}f.exports=w;},null);
__d('PageContentTabCommercePastOrdersConfig',['BOFOrderState','PageContentTabCommerceOrdersConfig','PageContentTabConstants','fbt'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.TABS;function m(n){var o=i(n,l.COMMERCE_PAST_ORDERS,[h.BOF_ORDER_STATE_FULFILLED]);o.label=k._("Past Orders");o.id=l.COMMERCE_PAST_ORDERS;return o;}f.exports=m;},null);
__d('PageContentTabCommercePendingOrdersConfig',['BOFOrderState','PageContentTabCommerceOrdersConfig','PageContentTabConstants','fbt'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.TABS;function m(n){var o=i(n,l.COMMERCE_PENDING_ORDERS,[h.BOF_ORDER_STATE_NOT_FULFILLED]);o.label=k._("Pending Orders");o.id=l.COMMERCE_PENDING_ORDERS;return o;}f.exports=m;},null);
__d("XPagesComposerDialogController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/composer\/dialog\/",{page_id:{type:"Int",required:true},entry_point:{type:"String",required:true},__asyncDialog:{type:"Int"}});},null,{});
__d('PageContentTabCreatePostButton.react',['ActorURI','AsyncRequest','Image.react','PageContentTabConstants','PageContentTabLoadingDialog','PageContentTabLogger','PageContentTabLoggingEvents','React','XPagesComposerDialogController','XUIButton.react','fbt','xuiglyph'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=o.PropTypes,u=k.TABS,v=o.createClass({displayName:'PageContentTabCreatePostButton',propTypes:{className:t.string,label:t.string,pageID:t.string.isRequired,tab:t.oneOf(Object.keys(u)).isRequired,entryPoint:t.string},getDefaultProps:function(){return {entryPoint:'pages_manager'};},getInitialState:function(){return {loading:false};},render:function(){var w=this.props.label||r._("\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438");return (o.createElement(q,{className:this.props.className,disabled:this.state.loading,label:w,image:o.createElement(j,{src:s({name:'plus',size:'small',shade:'white'})}),use:'confirm',onClick:this._onClick}));},_onClick:function(){m.log(n.CREATE_CLICKED,this.props.tab,{});this.setState({loading:true});l.show();var w=p.getURIBuilder().setInt('page_id',this.props.pageID).setString('entry_point',this.props.entryPoint).getURI(),x=h.create(w,this.props.pageID);new i().setURI(x).setHandler((function(){l.hide();this.setState({loading:false});}).bind(this)).send();}});f.exports=v;},null);
__d('PageContentTabActions',['GraphAPI','PageContentTabAccessToken','PageContentTabCommonConfig','PageContentTabConstants','PageContentTabConfig','PageContentTabDispatcher','PageContentTabLoadingDialog','PageContentTabLogger','PageContentTabLoggingEvents','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=k.ACTIONS,s=k.TABS,t=l.graph_api_version||'2.2',u={backdatePost:function(v,w,x,y,z,aa){n.show();var ba=new Date(y,z-1,aa);h(t).object('post',x.story_token).post({access_token:i.getAccessToken(),is_published:true,backdated_time:ba.getTime()/1000,backdated_time_granularity:'day'}).done(function(ca){m.handlePostRemoved(v,x.id);n.hide();},function(ca){var da=ca.error_user_msg?ca.error_user_msg:q._("Could not backdate post.");o.log(p.API_ERROR,w,{error:JSON.stringify(ca),action:r.BACKDATE,post_id:x.id});j.showErrorDialog(q._("\u041f\u043e\u043c\u0438\u043b\u043a\u0430"),da);});},deletePosts:function(v,w,x){n.show();var y=0;x.forEach(function(z){h(t).object('post',z.story_token).remove({access_token:i.getAccessToken()}).done(function(aa){m.handlePostRemoved(v,z.id);y++;if(y===x.length)n.hide();},function(aa){o.log(p.API_ERROR,w,{error:JSON.stringify(aa),action:r.DELETE,post_id:z.id});});},this);},deletePostsbyID:function(v,w,x){n.show();var y=0;x.forEach(function(z){h(t).object('post',z.id).remove({access_token:i.getAccessToken()}).done(function(aa){m.handlePostRemoved(v,z.id);y++;if(y===x.length)n.hide();},function(aa){o.log(p.API_ERROR,w,{error:JSON.stringify(aa),action:r.DELETE,post_id:z.id});});},this);},publishPosts:function(v,w,x){n.show();var y=0;x.forEach(function(z){h(t).object('post',z.story_token).post({access_token:i.getAccessToken(),is_published:true}).done(function(aa){m.handlePostRemoved(v,z.id);y++;if(y===x.length)n.hide();},function(aa){o.log(p.API_ERROR,w,{error:JSON.stringify(aa),action:r.PUBLISH,post_id:z.id});});});},scheduleDraftPost:function(v,w,x,y){n.show();h(t).object('post',x.story_token).post({access_token:i.getAccessToken(),scheduled_publish_time:Math.floor(y.getTime()/1000)}).done(function(z){m.handlePostRemoved(v,x.id);x.scheduled_publish_time=y.toISOString();m.handlePostCreated(s.SCHEDULED_POSTS,x,v);n.hide();},function(z){o.log(p.API_ERROR,w,{error:JSON.stringify(z),action:r.SCHEDULE,post_id:x.id});});},reschedulePost:function(v,w,x){n.show();h(t).object('post',w.story_token).post({access_token:i.getAccessToken(),scheduled_publish_time:Math.floor(x.getTime()/1000)}).done(function(y){m.handlePostChanged({scheduled_publish_time:x.toISOString(),id:w.id});n.hide();},function(y){o.log(p.API_ERROR,v,{error:JSON.stringify(y),action:r.RESCHEDULE,post_id:w.id});});},unschedulePosts:function(v,w,x){n.show();x.forEach(function(y){h(t).object('post',y.story_token).post({access_token:i.getAccessToken(),scheduled_publish_time:0}).done(function(z){m.handlePostRemoved(v,y.id);m.handlePostCreated(s.DRAFTS,y,v);n.hide();},function(z){o.log(p.API_ERROR,w,{error:JSON.stringify(z),action:r.UNSCHEDULE,post_id:y.id});});});},updateSinglePost:function(v){m.handlePostChanged(v);}};f.exports=u;},null);
__d('PageContentTabDraftsActionsConfig',['React','ReactDOM','DOM','PageContentTabActions','PageContentTabCommonConfig','PageContentTabConfig','PageContentTabConstants','PostBackdateDialog.react','PostScheduleDialog.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=n.ACTIONS,s=n.TABS,t=[{allowBatch:true,getLabel:function(u){return u<=1?q._("\u041e\u043f\u0443\u0431\u043b\u0456\u043a\u0443\u0432\u0430\u0442\u0438"):q._("Publish ({num_posts})",[q.param('num_posts',u)]);},key:r.PUBLISH,onClick:function(u,v){l.showConfirmationDialog(q._("Publish draft?"),q._({"draft?":"Are you sure you want to publish selected draft?","drafts?":"Are you sure you want to publish selected drafts?"},[q['enum'](u.length===1?'draft?':'drafts?',{'draft?':'draft?','drafts?':'drafts?'})]),q._("\u041e\u043f\u0443\u0431\u043b\u0456\u043a\u0443\u0432\u0430\u0442\u0438"),k.publishPosts.bind(k,v.page_id,s.DRAFTS,u));}},{allowBatch:false,getLabel:function(u){return q._("\u0420\u043e\u0437\u043a\u043b\u0430\u0434");},key:r.SCHEDULE,onClick:function(u,v){var w=h.createElement(p,{timezoneStr:m.timezone_str,onSubmit:k.scheduleDraftPost.bind(k,v.page_id,s.DRAFTS,u[0])});w=i.render(w,j.create('div'));w.show();}},{allowBatch:false,getLabel:function(u){return q._("Backdate");},key:r.BACKDATE,onClick:function(u,v){var w=v.page_create_time/1000,x=Date.now()/1000,y=h.createElement(o,{minTime:w,maxTime:x,onSubmit:k.backdatePost.bind(k,v.page_id,s.DRAFTS,u[0])});y=i.render(y,j.create('div'));y.show();}},{allowBatch:true,getLabel:function(u){return u<=1?q._("\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"):q._("Delete ({num_posts})",[q.param('num_posts',u)]);},key:r.DELETE,onClick:function(u,v){var w=q._({"Draft?":"Delete Draft?","Drafts?":"Delete Drafts?"},[q['enum'](u.length===1?'Draft?':'Drafts?',{'Draft?':'Draft?','Drafts?':'Drafts?'})]),x=u.length===1?q._("Draft will be permanently deleted."):q._("{numPosts} drafts will be permanently deleted.",[q.param('numPosts',u.length)]);l.showConfirmationDialog(w,x,q._("\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"),k.deletePosts.bind(k,v.page_id,s.DRAFTS,u));}}];f.exports=t;},null);
__d('DialogFitHeightToContent',['AbstractDialogFitHeight'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j;i=babelHelpers.inherits(k,h);j=i&&i.prototype;k.prototype.getHeightProperty=function(){'use strict';return 'max-height';};function k(){'use strict';i.apply(this,arguments);}f.exports=k;},null);
__d("XPagesPostPreviewController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/previews\/",{location:{type:"Enum",enumType:0},post_id:{type:"Int",required:true},preview_container_dom_id:{type:"String",required:true},site:{type:"String",required:true}});},null,{});
__d('PageContentTabPreviews.react',['React','Arbiter','AsyncRequest','BusinessURI.brands','FBFeedLocations','PageContentTabConstants','XPagesPostPreviewController','XUISpinner.react','XUIText.react','adsGKCheck','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t=h.PropTypes,u=m.PREVIEW_TABS,v='ready',w='loading',x='failed',y=h.createClass({displayName:'PageContentTabPreviews',propTypes:{permalinkURL:t.string,postID:t.string.isRequired,selectedTab:t.oneOf(Object.keys(u)).isRequired,renderID:t.string.isRequired},getInitialState:function(){return {desktopPreviewState:w,mobilePreviewState:w};},componentWillReceiveProps:function(z){if(z.renderID!==this.props.renderID)this.setState(this.getInitialState(),(function(){return this._fetchPreviews(z.postID);}).bind(this));},componentDidMount:function(){this._previewResizeListener=i.subscribe('page_post_previews_iframe_resize',(function(z,aa){if(this.state.mobilePreviewContainerHeight!==aa)this.setState({mobilePreviewContainerHeight:aa});}).bind(this));this._fetchPreviews(this.props.postID);},componentWillUnmount:function(){i.unsubscribe(this._previewResizeListener);},_constructDesktopContainerID:function(z){return 'DESKTOP_PREVIEW_'+this.props.renderID+'_'+z;},_constructMobileContainerID:function(z){return 'MOBILE_PREVIEW_'+this.props.renderID+'_'+z;},_fetchPreviews:function(z){var aa=n.getURIBuilder().setInt('post_id',z).setString('site','desktop').setString('preview_container_dom_id',this._constructDesktopContainerID(z)).setEnum('location',l.PAGES_CONTENT_TAB_PREVIEW).getURI();new j().setURI(aa).setHandler((function(ca){if(!ca.error)this.setState({desktopPreviewState:v});}).bind(this)).setErrorHandler((function(ca){this.setState({desktopPreviewState:x});}).bind(this)).send();var ba=n.getURIBuilder().setInt('post_id',z).setString('site','mobile').setString('preview_container_dom_id',this._constructMobileContainerID(z)).setEnum('location',l.PAGES_CONTENT_TAB_PREVIEW).getURI();new j().setURI(ba).setHandler((function(ca){if(!ca.error)this.setState({mobilePreviewState:v});}).bind(this)).setErrorHandler((function(ca){this.setState({mobilePreviewState:x});}).bind(this)).send();},render:function(){return (h.createElement('div',{className:"_4gd5"+(this.props.selectedTab===u.DESKTOP?' '+"_4gd6":'')+(this.props.selectedTab===u.MOBILE?' '+"_4gd7":'')},this._renderDesktopPreview(),this._renderMobilePreview()));},_renderDesktopPreview:function(){return (h.createElement('div',{className:"_4gd8"},h.createElement(o,{className:(this.state.desktopPreviewState!==w?"hidden_elem":'')+(' '+"_3dcc"),size:'large',background:'light'}),h.createElement('div',{className:(this.state.desktopPreviewState!==x?"hidden_elem":'')+(' '+"_50p-")},h.createElement(p,{size:'medium',weight:'bold',display:'block'},s._("\u041f\u043e\u043c\u0438\u043b\u043a\u0430")),h.createElement(p,{size:'small',display:'block'},s._("Desktop Preview Not Available"))),h.createElement('div',{className:(this.state.desktopPreviewState!==v?"hidden_elem":'')+(this.props.permalinkURL&&!q('bolt_composer_preview_unclickable')?' '+"_2h5v":''),id:this._constructDesktopContainerID(this.props.postID),onClick:this._openPermalink})));},_renderMobilePreview:function(){return (h.createElement('div',{className:"_4gd8"},h.createElement(o,{className:(this.state.mobilePreviewState!==w?"hidden_elem":'')+(' '+"_3dcc"),size:'large',background:'light'}),h.createElement('div',{className:(this.state.mobilePreviewState!==x?"hidden_elem":'')+(' '+"_50p-")},h.createElement(p,{size:'medium',weight:'bold',display:'block'},s._("\u041f\u043e\u043c\u0438\u043b\u043a\u0430")),h.createElement(p,{size:'small',display:'block'},s._("Mobile Preview Not Available"))),h.createElement('div',{className:(this.state.mobilePreviewState!==v?"hidden_elem":'')+(' '+"_2h5v"),height:this.state.mobilePreviewContainerHeight,id:this._constructMobileContainerID(this.props.postID),ref:'mobilePreviewContainer',onClick:this._openPermalink})));},_openPermalink:function(){if(!this.props.permalinkURL||q('bolt_composer_preview_unclickable'))return;window.open(k(this.props.permalinkURL),'_blank');}});f.exports=y;},null);
__d('PageContentTabPreviewsHeader.react',['PageContentTabConstants','React','TabBar.react','TabBarItem.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=i.PropTypes,o=h.PREVIEW_TABS,p=i.createClass({displayName:'PageContentTabPreviewsHeader',propTypes:{onSelect:n.func.isRequired,selected:n.oneOf(Object.keys(o)).isRequired,title:n.string},render:function(){return (i.createElement('div',{className:"_2hw3"},i.createElement('div',{className:"_4kzo"},this.props.title),i.createElement('div',{className:"_4kzp"},i.createElement('div',{className:"_2hw4"+(this.props.selected===o.DESKTOP?' '+"_2hw5":'')+(this.props.selected===o.MOBILE?' '+"_2hw6":'')}),i.createElement(j,{className:"_4kzq",defaultActiveTabKey:this.props.selected,onTabClick:this.props.onSelect},i.createElement(k,{className:"_4kzr"+(this.props.selected===o.DESKTOP?' '+"_4kzs":''),key:o.DESKTOP},m._("DESKTOP PREVIEW")),i.createElement(k,{className:"_4kzt"+(this.props.selected===o.MOBILE?' '+"_4kzs":''),key:o.MOBILE},m._("MOBILE PREVIEW"))))));}});f.exports=p;},null);
__d("XPagesManagerContentEditController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/your_posts\/post_edit\/",{post_id:{type:"Int",required:true},__asyncDialog:{type:"Int"}});},null,{});
__d('PageContentTabPostDetailsDialog.react',['React','ReactDOM','ReactLayeredComponentMixin','ActorURI','Arbiter','AsyncDialog','AsyncRequest','BoostedComponentAppID','BoostedPostPlacementOptions','ClientIDs','ContextualDialogArrow','DialogFitHeightToContent','DOM','LayerHideOnEscape','MenuSeparator.react','PageContentTabActions','PageContentTabConstants','PageContentTabConfig','PageContentTabCommonConfig','PageContentTabLocations','PageContentTabLogger','PageContentTabLoggingEvents','PageContentTabPreviews.react','PageContentTabPreviewsHeader.react','PostBackdateDialog.react','PostScheduleDialog.react','Image.react','ReactXUIMenu','PopoverMenu.react','XBoostedComponentFetchButtonDataController','XPagesManagerContentEditController','XUIButton.react','XUIButtonGroup.react','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogTitle.react','curry','cx','emptyFunction','fbt','formatDate','getOwnObjectValues','parseISODate','xuiglyph'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za){if(c.__markCompiled)c.__markCompiled();var ab=ia.Item,bb=h.PropTypes,cb=x.ACTIONS,db=540,eb=x.PREVIEW_TABS,fb=x.TABS,gb=h.createClass({displayName:'PageContentTabPostDetailsDialog',mixins:[j],propTypes:{location:bb.oneOf(xa(aa)),page:bb.object.isRequired,post:bb.object.isRequired},getInitialState:function(){return {dialogShown:false,selectedTab:eb.DESKTOP,renderID:q.getNewClientID()};},componentWillMount:function(){l.subscribe('page_post_previews_iframe_resize',(function(){if(this.refs.previewDialog)setTimeout(this.refs.previewDialog.layer.updatePosition.bind(this.refs.previewDialog.layer));}).bind(this));},componentDidMount:function(){this._renderBoostButton(this.props);},componentWillReceiveProps:function(hb){if(this.props.page.page_id!==hb.page.page_id||this.props.post.id!==hb.post.id){this._renderBoostButton(hb);this.setState({selectedTab:eb.DESKTOP});}},componentDidUpdate:function(hb,ib){if(this.props.page.page_id!==hb.page.page_id||this.props.post.id!==hb.post.id)this._renderBoostButton(this.props);},_shouldShowBoost:function(hb){return (hb.tab===fb.SCHEDULED_POSTS&&hb.location!==aa.ADS_PE);},_renderBoostButton:function(hb){if(!this._shouldShowBoost(hb))return;if(this.refs.boostButtonContainer)i.unmountComponentAtNode(i.findDOMNode(this.refs.boostButtonContainer));var ib=ka.getURIBuilder().setInt('app_id',o.BOOSTED_POST).setInt('page_id',hb.page.page_id).setInt('post_id',hb.post.id).setString('ref',p.PAGES_CONTENT_TAB_PREVIEW).getURI();new n(ib).setHandler((function(jb){var kb={data:{buttonID:jb.payload.buttonID,configData:jb.payload.configData,displaySection:jb.payload.displaySection},placement:jb.payload.placement};e(['BoostedPostDialogButtonWrapper.react'],(function(lb){i.render(h.createElement(lb,kb),i.findDOMNode(this.refs.boostButtonContainer));}).bind(this));}).bind(this)).send();},render:function(){return h.createElement('div',null);},renderLayers:function(){var hb=this.props.tab===fb.DRAFTS?va._("\u0427\u0435\u0440\u043d\u0435\u0442\u043a\u0430"):va._("\u0414\u043e\u043f\u0438\u0441");return {dialog:h.createElement(oa,{behaviors:{DialogFitHeightToContent:s,LayerHideOnEscape:u},destroyonhide:true,layerHideOnBlur:false,ref:'previewDialog',shown:this.state.dialogShown,width:db},h.createElement(ra,{className:"_2hw2"},h.createElement(ea,{onSelect:this._onTabSelected,selected:this.state.selectedTab,title:hb})),h.createElement(pa,{className:"_4gd4"},h.createElement(da,{permalinkURL:this.props.post.permalink_url,postID:this.props.post.id,renderID:this.state.renderID,selectedTab:this.state.selectedTab})),h.createElement(qa,{className:"_58xn",leftContent:this._renderEditOrCreatorInfo()},this._renderFooter()))};},_onTabSelected:function(hb){this.setState({selectedTab:hb});},show:function(){this.setState({dialogShown:true,renderID:q.getNewClientID()});},_onClickEditHistory:function(){m.send(new n(x.EDIT_HISTORY_ASYN_DIALOG).setData({content_token:this.props.post.id}),ua);},_renderEditOrCreatorInfo:function(){if(this.props.post.edit_actions&&this.props.post.edit_actions.data.length>1){return this._renderEditHistory();}else return this._renderCreatorInfo();},_renderEditHistory:function(){var hb=this.props.post.edit_actions.data.length;return (h.createElement('a',{className:"_4gg-",onClick:this._onClickEditHistory},va._("View Edit History {number of edits}",[va.param('number of edits','('.concat(hb,')'))])));},_renderCreatorInfo:function(){if(!this.props.post.admin_creator)return null;var hb=' ';if(this.props.post.creation_time){var ib=ya(this.props.post.creation_time);if(ib.getFullYear()===new Date().getFullYear()){hb=wa(ib,'M j',{skipPatternLocalization:true})+' '+va._("at")+' '+wa(ib,'g:ia',{skipPatternLocalization:true});}else hb=wa(ib,'M j Y',{skipPatternLocalization:true});hb+=' \u2022 ';}if(this.props.tab===fb.SCHEDULED_POSTS){return (h.createElement('div',{className:"_4gg_"},va._("Scheduled {creation time}{name of the creator}",[va.param('creation time',hb),va.param('name of the creator',this.props.post.admin_creator.name)])));}else if(this.props.tab===fb.DRAFTS){return (h.createElement('div',{className:"_4gg_"},va._("Created {creation time}{name of the creator}",[va.param('creation time',hb),va.param('name of the creator',this.props.post.admin_creator.name)])));}else return null;},_renderFooter:function(){var hb=h.createElement(ia,null,h.createElement(ab,{key:cb.PUBLISH,onclick:this._onPublishClicked},va._("\u041e\u043f\u0443\u0431\u043b\u0456\u043a\u0443\u0432\u0430\u0442\u0438")),this._getUnscheduleMenuItem(),h.createElement(ab,{key:cb.SCHEDULE,onclick:this._onScheduleClicked},this.props.tab===fb.DRAFTS?va._("\u0420\u043e\u0437\u043a\u043b\u0430\u0434"):va._("Reschedule")),h.createElement(ab,{key:cb.BACKDATE,onclick:this._onBackdateClicked},va._("Backdate")),h.createElement(v,null),h.createElement(ab,{key:cb.DELETE,onclick:this._onDeleteClicked},va._("\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438")));return (h.createElement('div',null,this._renderBoostButtonContainer(),h.createElement(na,null,h.createElement(ma,{onClick:this._onEditClicked,use:'confirm',label:va._("\u0420\u0435\u0434.")}),this.props.tab===fb.ADS_POSTS?null:h.createElement(ja,{alignh:'right',alignv:'middle',menu:hb,layerBehaviors:[r]},h.createElement(ma,{use:'confirm',label:'',image:h.createElement(ha,{src:za({name:'triangle-down',shade:'white',size:'small'})})})))));},_getUnscheduleMenuItem:function(){if(this.props.tab!==fb.SCHEDULED_POSTS)return null;return h.createElement(ab,{key:cb.UNSCHEDULE,onclick:this._onUnscheduleClicked},va._("Remove Schedule"));},_renderBoostButtonContainer:function(){if(!this._shouldShowBoost(this.props))return;return (h.createElement('div',{className:"_2l3z",ref:'boostButtonContainer'}));},_onEditClicked:function(){ba.log(ca.ACTION_TAKEN_OVERLAY,this.props.tab,{action:cb.EDIT,post_id:this.props.post.id});var hb=this.props.post,ib=la.getURIBuilder().setInt('post_id',hb.id).getURI();ib=k.create(ib,this.props.page.page_id);m.send(new n(ib));this.setState({dialogShown:false});},_onScheduleClicked:function(){ba.log(ca.ACTION_TAKEN_OVERLAY,this.props.tab,{action:this.props.tab===fb.DRAFTS?cb.SCHEDULE:cb.RESCHEDULE,post_id:this.props.post.id});var hb=this.props.tab,ib=h.createElement(ga,{initialDate:hb===fb.SCHEDULED_POSTS?ya(this.props.post.scheduled_publish_time):undefined,isReschedule:hb===fb.SCHEDULED_POSTS,timezoneStr:y.timezone_str,onSubmit:hb===fb.SCHEDULED_POSTS?w.reschedulePost.bind(w,this.props.tab,this.props.post):w.scheduleDraftPost.bind(w,this.props.page.page_id,this.props.tab,this.props.post)});ib=i.render(ib,t.create('div'));ib.show();this.setState({dialogShown:false});},_onBackdateClicked:function(){ba.log(ca.ACTION_TAKEN_OVERLAY,this.props.tab,{action:cb.BACKDATE,post_id:this.props.post.id});var hb=this.props.page.page_create_time/1000,ib=Date.now()/1000,jb=h.createElement(fa,{minTime:hb,maxTime:ib,onSubmit:w.backdatePost.bind(w,this.props.page.page_id,this.props.tab,this.props.post)});jb=i.render(jb,t.create('div'));jb.show();this.setState({dialogShown:false});},_onPublishClicked:function(){ba.log(ca.ACTION_TAKEN_OVERLAY,this.props.tab,{action:cb.PUBLISH,post_id:this.props.post.id});z.showConfirmationDialog(va._("\u041e\u043f\u0443\u0431\u043b\u0456\u043a\u0443\u0432\u0430\u0442\u0438 \u0437\u0430\u0440\u0430\u0437"),va._({"draft?":"Are you sure you want to publish this draft?","scheduled post?":"Are you sure you want to publish this scheduled post?"},[va['enum'](this.props.tab===fb.DRAFTS?'draft?':'scheduled post?',{'draft?':'draft?','scheduled post?':'scheduled post?'})]),va._("\u041e\u043f\u0443\u0431\u043b\u0456\u043a\u0443\u0432\u0430\u0442\u0438"),sa(this._onConfirm,w.publishPosts.bind(w,this.props.page.page_id,this.props.tab,[this.props.post])));},_onDeleteClicked:function(){ba.log(ca.ACTION_TAKEN_OVERLAY,this.props.tab,{action:cb.DELETE,post_id:this.props.post.id});z.showConfirmationDialog(va._("\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"),va._({"draft?":"Are you sure you want to delete this draft?","scheduled post?":"Are you sure you want to delete this scheduled post?"},[va['enum'](this.props.tab===fb.DRAFTS?'draft?':'scheduled post?',{'draft?':'draft?','scheduled post?':'scheduled post?'})]),va._("\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"),sa(this._onConfirm,w.deletePosts.bind(w,this.props.page.page_id,this.props.tab,[this.props.post])));},_onUnscheduleClicked:function(){ba.log(ca.ACTION_TAKEN_OVERLAY,this.props.tab,{action:cb.UNSCHEDULE,post_id:this.props.post.id});z.showConfirmationDialog(va._("Remove Schedule"),va._("If you remove the schedule from this post, it will move to Drafts until you publish it."),va._("Remove Schedule"),sa(this._onConfirm,w.unschedulePosts.bind(w,this.props.page.page_id,this.props.tab,[this.props.post])));},_onConfirm:function(hb){hb(),this.setState({dialogShown:false});}});f.exports=gb;},null);
__d('PageContentTabPostCell.react',['LineClamp.react','Link.react','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=j.PropTypes,n=j.createClass({displayName:'PageContentTabPostCell',propTypes:{post:m.shape({id:m.string,img:m.string,og_action_summary:m.string,owner:m.string.isRequired,place:m.object,text:m.string,url:m.string}).isRequired,query:m.string.isRequired},render:function(){var o=this.props.post,p=this._formatSearchResults(o.text||'',this.props.query);if(o.og_action_summary){p=l._("{Main post text} -- {Action and location of the post}",[l.param('Main post text',p),l.param('Action and location of the post',o.og_action_summary)]);}else if(o.place)p=l._("{Main post text} -- at {Location of the post}",[l.param('Main post text',p),l.param('Location of the post',o.place.name)]);return (j.createElement(i,{className:"_2pir"},j.createElement('img',{src:o.img,className:"_1drw"}),j.createElement('div',{className:"_1drx"},j.createElement(h,{lines:2},j.createElement('div',{className:"_1dry"},p)))));},_formatSearchResults:function(o,p){if(!p||!p.length)return o;var q=o.toLowerCase();p=p.trim().toLowerCase();var r=[],s=0;while(true){var t=q.indexOf(p,s);if(t<0){r.push(o.substring(s));break;}r.push(o.substring(s,t));r.push(j.createElement('span',{className:"_2agc",key:t},o.substring(t,t+p.length)));s=t+p.length;}return r;}});f.exports=n;},null);
__d('PageContentTabDraftsColumnConfig',['React','PageContentTabCellRenderers','PageContentTabConstants','PageContentTabPostCell.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=j.COLUMNS,n=[{cellRenderer:function(o,p,q){return h.createElement(k,{post:o,query:q.query});},isShown:function(){return true;},key:m.POST,label:l._("\u0414\u043e\u043f\u0438\u0441\u0438"),mainColumn:true},{cellRenderer:i.renderLastModifiedCell,isShown:function(){return true;},headerRenderer:function(){return i.renderHeaderWithSortingArrow(l._("Date Updated"));},label:l._("Date Updated"),key:m.DATE_LAST_MODIFIED}];f.exports=n;},null);
__d('PageContentTabDraftsConfig',['React','ComposerEntryPointRef','GraphAPI','GraphAPIFieldUtils','Link.react','PageContentTabConfig','PageContentTabConstants','PageContentTabCommonConfig','PageContentTabCreatePostButton.react','PageContentTabDraftsActionsConfig','PageContentTabNullState.react','PageContentTabPostDetailsDialog.react','PageContentTabDraftsColumnConfig','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){if(c.__markCompiled)c.__markCompiled();var w=n.COLUMNS,x=n.LEFT_NAV_GROUPS,y=n.TABS,z=m.graph_api_version||'2.2';function aa(ba){return {actions:ba.can_publish_posts?q:null,createButtonComponent:p,createButtonProps:{entryPoint:i.PAGE_CONTENT_TAB_DRAFTS},createOverlay:function(ca,da,ea){return (h.createElement(s,{location:ea,page:da,post:ca,tab:y.DRAFTS}));},columns:t,createTableRow:o.createDraftPostRow,enabled:true,id:y.DRAFTS,leftNavGroup:x.POSTS,initialSortColumn:w.DATE_LAST_MODIFIED,initialSortOrder:n.SORT_ORDER_DESC,image:v('/images/pages/finch/glyph-drafts-bg70-16px.png'),label:u._("\u0427\u0435\u0440\u043d\u0435\u0442\u043a\u0438"),getDataLoadPromise:function(ca,da,ea,fa){return (j(z).object('page',da.page_id).edge('draft_posts').get({access_token:ca,force_framework:'ent',fields:['message','modified_time','creation_time',k.getFieldWithSubfields('admin_creator',['name']),'story_token','permalink_url',k.getFieldWithSubfields('place',['name']),k.getFieldWithSubfields('edit_actions',['edit_time','editor']),'thumbnail','og_action_summary'],filtering:ea,sort:fa,summary:true}));},renderErrorState:function(ca){return (h.createElement(r,{content:h.createElement('div',null,u._("Something went wrong and we couldn't load your posts. Please try again later. {error}",[u.param('error',ca.message)]))}));},renderNullState:function(){var ca=h.createElement('div',null,u._("You have no draft posts. {link}",[u.param('link',h.createElement(l,{href:'/help/642707099175171'},u._("\u0414\u0456\u0437\u043d\u0430\u0442\u0438\u0441\u044c \u0431\u0456\u043b\u044c\u0448\u0435")))]));return (h.createElement(r,{image:v('/images/pages/post_actions/www/empty_draft_66x66-2x.png'),content:ca}));}};}f.exports=aa;},null);
__d('PageContentTabExpirablePostsCommonConfig',['GraphAPI','GraphAPIFieldUtils','PageContentTabConstants','PageContentTabConfig'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=j.COLUMNS,m=k.graph_api_version||'2.2',n={createExpirablePostRow:function(o,p){var q={};q[l.POST]={id:o.id,text:o.message,owner:p.page_id,url:o.permalink_url,img:o.thumbnail||p.picture&&p.picture.url};q[l.DATE_LAST_MODIFIED]={modified_time:o.modified_time};q[l.DATE_CREATED]={admin:o.admin_creator&&o.admin_creator.name,time:o.creation_time};q[l.EXPIRATION_INFO]={expiration:o.expiration};return q;},getExpirablePostsDataLoadPromise:function(o,p,q){return h(m).object('page',q.page_id).edge(p).get({access_token:o,fields:['admin_creator','id','message','modified_time','story_token','creation_time','thumbnail','permalink_url',i.getFieldWithSubfields('expiration',['time','type'])]});}};f.exports=n;},null);
__d('PageContentTabExpiredPostsActions',['ExpirationTypeToExpirationTypeApiMap','GraphAPI','PageContentTabConstants','PageContentTabConfig','PageContentTabDispatcher','PageContentTabLoadingDialog','PageContentTabLogger','PageContentTabLoggingEvents'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=j.ACTIONS,q=j.TABS,r=k.graph_api_version||'2.2',s={republishPost:function(t,u,v,w,x){var y={};if(v!==null)y.time=v;if(w!==null){w=w.toString();w=h[w];y.type=w;}m.show();i(r).object('post',u.story_token).post({access_token:t,expiration:y}).done(function(z){if(v===0){l.handlePostRemoved(x,u.id);}else{l.handlePostRemoved(x,u.id);u.expiration={time:new Date(v*1000).toISOString(),type:w};l.handlePostCreated(q.EXPIRING_POSTS,u,x);}m.hide();},function(z){n.log(o.API_ERROR,q.EXPIRED_POSTS,{error:JSON.stringify(z),action:p.REPUBLISH,post_id:u.id});});}};f.exports=s;},null);
__d('PostExpireDialog.react',['PostExpireDialogBody.react','React','ReactLayeredComponentMixin','XUIDialog.react','XUIDialogBody.react','XUIDialogTitle.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=i.PropTypes,p=343,q=i.createClass({displayName:'PostExpireDialog',mixins:[j],propTypes:{originalExpirationTimestamp:o.number,originalExpirationType:o.number,timezone:o.string.isRequired,postID:o.number,pageID:o.number,onSubmit:o.func.isRequired,isRepublish:o.bool,submitLabel:o.string},getInitialState:function(){return {shown:false};},render:function(){return (i.createElement('div',null));},renderLayers:function(){var r=this.props.isRepublish?n._("Republish"):n._("Edit Expiration");return (i.createElement(k,{width:p,shown:this.state.shown},i.createElement(m,null,r),i.createElement(l,null,i.createElement(h,this.props))));},show:function(){this.setState({shown:true});},hide:function(){this.setState({shown:false});}});f.exports=q;},null);
__d('PageContentTabExpiredPostsActionsConfig',['DOM','React','ReactDOM','PageContentTabAccessToken','PageContentTabDataLoader','PageContentTabExpiredPostsActions','PageContentTabConfig','PageContentTabConstants','PostExpireDialog.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=o.ACTIONS,s=[{allowBatch:false,getLabel:function(){return q._("Republish");},key:r.REPUBLISH,onClick:function(t,u){var v=t[0];if(!v.expiration||!v.expiration.time)return;var w=i.createElement(p,{timezone:n.timezone_str,postID:Number(v.id),pageID:Number(u.page_id),isRepublish:true,onSubmit:function(x,y){m.republishPost(k.getAccessToken(),v,x,y,u.page_id);w.hide();}});w=j.render(w,h.create('div'));w.show();}}];f.exports=s;},null);
__d('PageContentTabExpirablePostsCellRenderers',['ExpirationTypeApi','PageContentTabCellRenderers','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m={renderExpirationInfoCell:function(n){if(!n.expiration||!n.expiration.time||!n.expiration.type)return j.createElement('div',null);var o=n.expiration.type===h.DELETE?l._("Delete on expiration"):null;return (j.createElement('div',null,i.renderDateCell(n.expiration.time),j.createElement('div',{className:"_1rus"},o)));}};f.exports=m;},null);
__d('PageContentTabExpiringPostsColumnConfig',['React','PageContentTabCellRenderers','PageContentTabExpirablePostsCellRenderers','PageContentTabConstants','PageContentTabPostCell.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=k.COLUMNS,o=k.COLUMN_GROUPS,p=[{cellRenderer:function(q,r,s){return h.createElement(l,{post:q,query:s.query});},isShown:function(){return true;},key:n.POST,label:m._("\u0414\u043e\u043f\u0438\u0441\u0438"),mainColumn:true},{cellRenderer:j.renderExpirationInfoCell,isShown:function(){return true;},group:o.DATES,headerRenderer:i.renderGroupedColumnHeader,key:n.EXPIRATION_INFO,label:m._("Expiration")},{cellRenderer:i.renderLastModifiedCell,isShown:function(){return false;},group:o.DATES,headerRenderer:i.renderGroupedColumnHeader,key:n.DATE_LAST_MODIFIED,label:m._("Date Updated")},{cellRenderer:i.renderDateCreatedCell,isShown:function(){return false;},group:o.DATES,headerRenderer:i.renderGroupedColumnHeader,key:n.DATE_CREATED,label:m._("\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u0430")}];f.exports=p;},null);
__d('PageContentTabInsightsDialog.react',['FBFeedLocations','HubbleApiWrapper','HubbleContext','HubbleDefaultPostDrillDown','HubblePostsDataLayer','PageContentTabLocations','PageInsightsPostFields','PageContentTabTextUtils','React','ReactLayeredComponentMixin','XUIDialog.react','XUIDialogBody.react','XUIDialogTitle.react','XUISpinner.react','cx','fbt','getOwnObjectValues'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){if(c.__markCompiled)c.__markCompiled();var y=p.PropTypes,z=960,aa=p.createClass({displayName:'PageContentTabInsightsDialog',mixins:[q],propTypes:{location:y.oneOf(x(m)).isRequired,page:y.object.isRequired,post:y.object.isRequired},componentWillReceiveProps:function(ba){this._fetchPostInsights(ba.post,ba.page);},componentWillMount:function(){this._fetchPostInsights(this.props.post,this.props.page);},getInitialState:function(){return {dialogShown:false,postWithInsights:{}};},render:function(){return p.createElement('div',null);},renderLayers:function(){return {dialog:p.createElement(r,{ref:'previewDialog',shown:this.state.dialogShown,width:z},p.createElement(t,null,p.createElement('div',null,w._("Post Details"),p.createElement('span',{className:(this.props.location!==m.ADS_PE?"hidden_elem":'')+(' '+"_55f8")},o.getPostID(this.props.post.id))),p.createElement('span',{className:"_32vg"},w._("Reported stats may be delayed from what appears on posts"))),p.createElement(s,null,this._renderBody()))};},_renderBody:function(){var ba=this.state.postWithInsights;if(!ba[n.IDENTIFIER])return (p.createElement('div',{className:"_32vh"},p.createElement(u,{background:'light',className:"_32vj",size:'large'})));return (p.createElement(k,{feedLocation:this.props.location===m.ADS_PE?h.ADS_PE_CONTENT_TAB_INSIGHTS:h.PAGES_CONTENT_TAB_INSIGHTS,postCreatedTime:ba[n.CREATION_TIME],postID:ba[n.ID],postIdentifier:ba[n.IDENTIFIER],postStatusType:ba[n.STATUS_TYPE],postType:ba[n.TYPE]}));},show:function(){this.setState({dialogShown:true});},_updateDialogVerticalPosition:function(){if(this.refs.previewDialog)setTimeout(this.refs.previewDialog.layer.updatePosition.bind(this.refs.previewDialog.layer));},_fetchPostInsights:function(ba,ca){this.setState({postWithInsights:{}});j.setKey('page',{id:ca.page_id});var da=(function(ea){this.setState({postWithInsights:Object.assign(this.state.postWithInsights,ea)},this._updateDialogVerticalPosition);}).bind(this);i.getPostsByIDs({ids:ba.id},function(ea){return (ea.posts||[]).map(da);});l.getPostMetricsByID(ba.id,ba.type,da,da);}});f.exports=aa;},null);
__d('PageContentTabExpiredPostsConfig',['Link.react','PageContentTabExpirablePostsCommonConfig','PageContentTabConstants','PageContentTabExpiredPostsActionsConfig','PageContentTabExpiringPostsColumnConfig','PageContentTabInsightsDialog.react','PageContentTabNullState.react','React','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=j.LEFT_NAV_GROUPS;function s(t){var u=!!t.show_expired_posts_tab;return {actions:k,columns:l,createOverlay:function(v,w,x){v.id=v.story_token;return o.createElement(m,{post:v,page:w,location:x});},createTableRow:i.createExpirablePostRow,enabled:u,id:j.TABS.EXPIRED_POSTS,leftNavGroup:r.POSTS,image:q('/images/pages/finch/glyph-scheduledposts-bg70-16px.png'),label:p._("Expired Posts"),hasSearchSupport:false,getDataLoadPromise:function(v,w){return i.getExpirablePostsDataLoadPromise(v,'expired_posts',w);},renderErrorState:function(v){return (o.createElement(n,{content:o.createElement('div',null,p._("Something went wrong and we couldn't load your expired posts. Please try again later. {error}",[p.param('error',v.message)]))}));},renderNullState:function(){return (o.createElement(n,{content:o.createElement('div',null,p._("You don't have any expired posts. {link}",[p.param('link',o.createElement(h,{href:'/help/1590463861209138'},p._("\u0414\u0456\u0437\u043d\u0430\u0442\u0438\u0441\u044c \u0431\u0456\u043b\u044c\u0448\u0435")))])),image:q('/images/pages/post_actions/www/empty_scheduled_66x66-2x.png')}));}};}f.exports=s;},null);
__d('PageContentTabExpiringPostsActions',['ExpirationTypeToExpirationTypeApiMap','GraphAPI','PageContentTabConstants','PageContentTabConfig','PageContentTabDispatcher','PageContentTabLoadingDialog','PageContentTabLogger','PageContentTabLoggingEvents'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=j.ACTIONS,q=j.TABS,r=k.graph_api_version||'2.2',s={editExpiration:function(t,u,v,w,x){var y={};if(v!==null)y.time=v;if(w!==null){w=w.toString();w=h[w];y.type=w;}m.show();i(r).object('post',u.story_token).post({access_token:t,expiration:y}).done(function(z){if(v===0){l.handlePostRemoved(x,u.id);}else l.handlePostChanged({expiration:{time:v!==null?new Date(v*1000).toISOString():u.expiration.time,type:w!==null?w:u.expiration.type},id:u.id});m.hide();},function(z){n.log(o.API_ERROR,q.EXPIRING_POSTS,{error:JSON.stringify(z),action:p.EDIT_EXPIRATION,post_id:u.id});});}};f.exports=s;},null);
__d('PageContentTabExpiringPostsActionsConfig',['DOM','ExpirationTypeApiToExpirationTypeMap','React','ReactDOM','PageContentTabAccessToken','PageContentTabExpiringPostsActions','PageContentTabConfig','PageContentTabConstants','PostExpireDialog.react','fbt','parseISODate'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=o.ACTIONS,t=[{allowBatch:false,getLabel:function(){return q._("Edit Expiration");},key:s.EDIT_EXPIRATION,onClick:function(u,v){var w=null,x=null,y=u[0];if(y.expiration&&y.expiration.time){w=r(y.expiration.time);w=w.getTime();x=y.expiration.type;x=i[x];}var z=j.createElement(p,{timezone:n.timezone_str,originalExpirationTimestamp:w,originalExpirationType:x,postID:Number(y.id),pageID:Number(v.page_id),onSubmit:function(aa,ba){m.editExpiration(l.getAccessToken(),y,aa,ba,v.page_id);z.hide();}});z=k.render(z,h.create('div'));z.show();}}];f.exports=t;},null);
__d('PageContentTabExpiringPostsConfig',['Link.react','PageContentTabExpirablePostsCommonConfig','PageContentTabConstants','PageContentTabExpiringPostsActionsConfig','PageContentTabExpiringPostsColumnConfig','PageContentTabInsightsDialog.react','PageContentTabNullState.react','React','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=j.LEFT_NAV_GROUPS;function s(t){var u=t.supports_expiring_posts;return {actions:k,columns:l,createOverlay:function(v,w,x){v.id=v.story_token;return o.createElement(m,{post:v,page:w,location:x});},createTableRow:i.createExpirablePostRow,enabled:u,id:j.TABS.EXPIRING_POSTS,leftNavGroup:r.POSTS,image:q('/images/pages/finch/glyph-scheduledposts-bg70-16px.png'),label:p._(["Expiring Posts","29fcbdf934b151b427c47f8036db5ae4"]),getDataLoadPromise:function(v,w){return i.getExpirablePostsDataLoadPromise(v,'expiring_posts',w);},renderErrorState:function(v){return (o.createElement(n,{content:o.createElement('div',null,p._("Something went wrong and we couldn't load your expiring posts. Please try again later. {error}",[p.param('error',v.message)]))}));},renderNullState:function(){return (o.createElement(n,{content:o.createElement('div',null,p._("You haven't created any expiring posts yet. {link}",[p.param('link',o.createElement(h,{href:'/help/1590463861209138'},p._("\u0414\u0456\u0437\u043d\u0430\u0442\u0438\u0441\u044c \u0431\u0456\u043b\u044c\u0448\u0435")))])),image:q('/images/pages/post_actions/www/empty_scheduled_66x66-2x.png')}));},hasSearchSupport:false};}f.exports=s;},null);
__d('PageContentTabFundraisersStatusCell.react',['AdsXUIProgressBar.react','AdsCurrencyFormatter','cx','LineClamp.react','React'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=l.PropTypes,n=4,o=l.createClass({displayName:'PageContentTabFundraisersStatusCell',propTypes:{fundraiser:m.shape({total_raised:m.object.isRequired,goal_amount:m.object.isRequired}).isRequired,width:m.number.isRequired},render:function(){var p=i.formatCurrencyWithOptionalDecimals(this.props.fundraiser.total_raised.currency,Number(this.props.fundraiser.total_raised.offsetted_amount),true),q=null,r=null,s=null;if(this.props.fundraiser.goal_amount!==undefined&&this.props.fundraiser.goal_amount.offsetted_amount!=='0'){r=i.formatCurrencyWithOptionalDecimals(this.props.fundraiser.goal_amount.currency,Number(this.props.fundraiser.goal_amount.offsetted_amount),true);q=' / ';var t=Number(this.props.fundraiser.total_raised.offsetted_amount)/Number(this.props.fundraiser.goal_amount.offsetted_amount)*100;if(t<n)t=n;s=l.createElement('div',{className:"_23pa"},l.createElement(h,{value:t}));}return (l.createElement('div',null,l.createElement(k,{lines:2},s,l.createElement('div',null,' ',p,' ',q,' ',r,' '))));}});f.exports=o;},null);
__d("XFundraiserCharityToUserCampaignPageController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/donate\/{campaign_id}\/{?post_id}\/",{campaign_id:{type:"Int",required:true},post_id:{type:"FBID"}});},null,{});
__d('PageContentTabActiveMainFundraisersCell.react',['FBDate','LineClamp.react','Link.react','XFundraiserCharityToUserCampaignPageController','cx','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=m.PropTypes,p=m.createClass({displayName:'PageContentTabActiveMainFundraisersCell',propTypes:{fundraiser:o.shape({text:o.string,start_time:o.number,end_time:o.number,campaign_id:o.string}).isRequired},_renderDateLabel:function(q){return n._("{date} \u043e {time}",[n.param('date',q.format('M j, Y')),n.param('time',q.format('g:ia'))]);},render:function(){var q=k.getURIBuilder().setInt('campaign_id',this.props.fundraiser.campaign_id).getURI(),r=null,s=Number(this.props.fundraiser.start_time);if(s>0){var t=h.localCreate(s*1000);r=this._renderDateLabel(t);}else r=n._("Not Scheduled");var u=null,v=null;if(this.props.fundraiser.end_time){u=' - ';var w=h.localCreate(this.props.fundraiser.end_time*1000);v=this._renderDateLabel(w);}return (m.createElement('div',null,m.createElement(i,{lines:2},m.createElement(i,{lines:1},m.createElement(j,{href:q,target:'_blank',className:"_1dry"},this.props.fundraiser.text)),m.createElement('div',{className:"_1rus"},r,u,v))));}});f.exports=p;},null);
__d('PageContentTabFundraisersCommonColumnsConfig',['fbt','PageContentTabConstants','PageContentTabFundraisersStatusCell.react','PageContentTabActiveMainFundraisersCell.react','React'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=i.COLUMNS,n=80,o=120,p=[{key:m.FUNDRAISER,label:h._("Fundraisers"),isShown:function(){return true;},cellRenderer:function(q,r,s){return l.createElement(k,{fundraiser:q});},mainColumn:true},{key:m.FUNDRAISER_STATUS,label:h._("Amount Raised"),isShown:function(){return true;},cellRenderer:function(q,r,s){return l.createElement(j,{fundraiser:q,width:o});},getWidth:function(){return o;}},{key:m.FUNDRAISER_DONORS,label:h._("Donors"),isShown:function(){return true;},cellRenderer:function(q,r,s){return l.createElement('div',null,' ',q.num_donors,' ');},getWidth:function(){return n;}},{key:m.FUNDRAISER_LIKES,label:h._("\u0414\u043e\u0434\u0430\u043d\u043e"),isShown:function(){return true;},cellRenderer:function(q,r,s){return l.createElement('div',null,' ',q.joined_count,' ');},getWidth:function(){return n;}}];f.exports=p;},null);
__d('PageContentTabActiveFundraisersColumnConfig',['PageContentTabFundraisersCommonColumnsConfig'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h;f.exports=i;},null);
__d("XFundraiserCreationForCharityController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/sg\/fundraiser\/external\/create\/dialog\/",{charity_id:{type:"FBID",required:true},__asyncDialog:{type:"Int"}});},null,{});
__d('PageContentTabCreateFundraiserButton.react',['ActorURI','AsyncDialog','AsyncRequest','Image.react','React','XFundraiserCreationForCharityController','XUIButton.react','xuiglyph','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=l.PropTypes,r=l.createClass({displayName:'PageContentTabCreateFundraiserButton',propTypes:{className:q.string,charityID:q.string,pageID:q.string},_launchDialog:function(){var s=m.getURIBuilder().setFBID('charity_id',this.props.charityID).getURI();s=h.create(s,this.props.pageID);i.send(new j(s));},render:function(){var s=p._("Create New Fundraiser");return (l.createElement(n,{className:this.props.className,label:s,use:'confirm',onClick:this._launchDialog,image:l.createElement(k,{src:o({name:'plus',size:'small',shade:'white'})})}));}});f.exports=r;},null);
__d('PageContentTabFundraisersCommonConfig',['FundraiserCampaignFields','FundraiserPageFields','PageContentTabConstants','PageContentTabCreateFundraiserButton.react','PageContentTabFundraisersCommonColumnsConfig','PageContentTabNullState.react','fbt','GraphAPI','GraphAPIFieldUtils','ix','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=j.COLUMNS,t=j.LEFT_NAV_GROUPS,u='2.3',v={createFundraiserRow:function(w,x){var y={},z=w.fundraiser_page.name?w.fundraiser_page.name+' ':'',aa=w.num_donors?w.num_donors:'0';y[s.FUNDRAISER]={text:z,start_time:w.start_time,end_time:w.end_time,campaign_id:w.id};y[s.FUNDRAISER_STATUS]={total_raised:w.total_raised,goal_amount:w.goal_amount};y[s.FUNDRAISER_DONORS]={num_donors:aa};y[s.FUNDRAISER_LIKES]={joined_count:w.fundraiser_page.joined_count};y[s.FUNDRAISER_ACTIONS]={campaign_id:w.id};return y;},createCommonProperties:function(w,x,y,z,aa,ba){var ca=arguments.length<=6||arguments[6]===undefined?l:arguments[6];return {columns:ca,createButtonComponent:k,createButtonProps:{charityID:ba.charity_id},createOverlay:function(da,ea,fa){return r.createElement('div',null);},createTableRow:this.createFundraiserRow,enabled:ba.show_fundraiser_management,id:w,hasSearchSupport:false,leftNavGroup:t.FUNDRAISERS,image:q('/images/discovery/entity_card_actions/custom_cta/donate.png'),getDataLoadPromise:function(da,ea,fa,ga){ga=aa;return o(u).object('charity',ea.charity_id.toString()).edge(x).get({access_token:da,fields:[p.getFieldWithSubfields(h.FUNDRAISER_PAGE,[i.ID,i.COVER_PHOTO,i.JOINED_COUNT,i.NAME]),h.ID,h.TOTAL_RAISED,h.GOAL_AMOUNT,h.START_TIME,h.END_TIME,h.NUM_DONORS],sort:ga});},label:y,renderErrorState:function(da){return (r.createElement(m,{content:r.createElement('div',null,n._("Something went wrong and we couldn't load your fundraisers. Please try again later. {error}",[n.param('error',da.message)]))}));},renderNullState:function(){var da=r.createElement('div',null,z);return (r.createElement(m,{image:q('/images/pages/post_actions/www/empty_draft_66x66-2x.png'),content:da}));}};}};f.exports=v;},null);
__d('PageContentTabActiveFundraisersConfig',['PageContentTabActiveFundraisersColumnConfig','PageContentTabConstants','PageContentTabFundraisersCommonConfig','fbt'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=i.TABS,m=['end_time_descending'];function n(o){return j.createCommonProperties(l.ACTIVE_FUNDRAISERS,'active_fundraisers',k._("Active Fundraisers"),k._("You don't have any active fundraisers right now."),m,o,h);}f.exports=n;},null);
__d("XFundraiserPublishingToolsPublishController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/fundraiser\/actions\/publish\/",{campaign_id:{type:"String",required:true},publish:{type:"Bool",defaultValue:false}});},null,{});
__d("XFundraiserPublishingToolsDeleteController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/fundraiser\/actions\/delete\/",{campaign_id:{type:"String",required:true}});},null,{});
__d('PageContentTabFundraisersCommonActions',['ActorURI','AsyncRequest','PageContentTabConstants','PageContentTabDispatcher','PageContentTabLoadingDialog','PageContentTabLogger','PageContentTabLoggingEvents','XFundraiserPublishingToolsPublishController','XFundraiserPublishingToolsDeleteController'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=j.ACTIONS,r={publishCampaigns:function(s,t,u){l.show();s.forEach(function(v){var w=o.getURIBuilder().setString('campaign_id',v.id).setBool('publish',true).getURI();w=h.create(w,t);new i().setURI(w).setMethod('POST').setHandler(function(x){if(x.payload.status){k.handlePostRemoved(t,v.id);k.handlePostCreated(x.payload.tab,v,t);l.hide();}else m.log(n.API_ERROR,u,{error:x.payload.error,action:q.PUBLISH_FUNDRAISER,page_id:v.id});}).send();},this);},unpublishCampaigns:function(s,t,u){l.show();s.forEach(function(v){var w=o.getURIBuilder().setString('campaign_id',v.id).setBool('publish',false).getURI();w=h.create(w,t);new i().setURI(w).setMethod('POST').setHandler(function(x){if(x.payload.status){k.handlePostRemoved(t,v.id);k.handlePostCreated(x.payload.tab,v,t);l.hide();}else m.log(n.API_ERROR,u,{error:x.payload.error,action:q.UNPUBLISH_FUNDRAISER,page_id:v.id});}).send();},this);},deleteCampaigns:function(s,t,u){l.show();s.forEach(function(v){var w=p.getURIBuilder().setString('campaign_id',v.id).getURI();w=h.create(w,t);new i().setURI(w).setMethod('POST').setHandler(function(x){if(x.payload.status){k.handlePostRemoved(t,v.id);l.hide();}else m.log(n.API_ERROR,u,{error:x.payload.error,action:q.DELETE_FUNDRAISER,page_id:v.id});}).send();},this);}};f.exports=r;},null);
__d('PageContentFundraiserCommonActionsConfig',['PageContentTabFundraisersCommonActions','PageContentTabCommonConfig','PageContentTabConstants','fbt'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=j.ACTIONS,m={createUnpublishActionConfig:function(n){return {allowBatch:true,getLabel:function(o){return o<=1?k._("Unpublish"):k._("Unpublish ({num_campaigns})",[k.param('num_campaigns',o)]);},key:l.UNPUBLISH_FUNDRAISER,onClick:function(o,p){i.showConfirmationDialog(k._("Unpublish fundraiser?"),k._({"fundraiser?":"Are you sure you want to unpublish selected fundraiser?","fundraisers?":"Are you sure you want to unpublish selected fundraisers?"},[k['enum'](o.length===1?'fundraiser?':'fundraisers?',{'fundraiser?':'fundraiser?','fundraisers?':'fundraisers?'})]),k._("Unpublish"),h.unpublishCampaigns.bind(h,o,p.page_id,n),null);}};},createPublishActionConfig:function(n){return {allowBatch:true,getLabel:function(o){return o<=1?k._("\u041e\u043f\u0443\u0431\u043b\u0456\u043a\u0443\u0432\u0430\u0442\u0438"):k._("Publish ({num_campaigns})",[k.param('num_campaigns',o)]);},key:l.PUBLISH_FUNDRAISER,onClick:function(o,p){i.showConfirmationDialog(k._("Publish fundraiser draft?"),k._({"fundraiser?":"Are you sure you want to publish selected fundraiser?","fundraisers?":"Are you sure you want to publish selected fundraisers?"},[k['enum'](o.length===1?'fundraiser?':'fundraisers?',{'fundraiser?':'fundraiser?','fundraisers?':'fundraisers?'})]),k._("\u041e\u043f\u0443\u0431\u043b\u0456\u043a\u0443\u0432\u0430\u0442\u0438"),h.publishCampaigns.bind(h,o,p.page_id,n),null);}};},createDeleteActionConfig:function(n){return {allowBatch:true,getLabel:function(o){return o<=1?k._("\u0412\u0438\u043b\u0443\u0447\u0438\u0442\u0438"):k._("Delete ({num_campaigns})",[k.param('num_campaigns',o)]);},key:l.DELETE_FUNDRAISER,onClick:function(o,p){i.showConfirmationDialog(k._("Delete fundraiser draft?"),k._({"fundraiser?":"Are you sure you want to delete selected fundraiser?","fundraisers?":"Are you sure you want to delete selected fundraisers?"},[k['enum'](o.length===1?'fundraiser?':'fundraisers?',{'fundraiser?':'fundraiser?','fundraisers?':'fundraisers?'})]),k._("\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"),h.deleteCampaigns.bind(h,o,p.page_id,n),null);}};}};f.exports=m;},null);
__d('PageContentTabDraftFundraisersConfig',['PageContentTabConstants','PageContentFundraiserCommonActionsConfig','PageContentTabFundraisersCommonConfig','fbt'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=h.TABS,m=['start_time_descending'];function n(o){return Object.assign({},j.createCommonProperties(l.DRAFT_FUNDRAISERS,'draft_fundraisers',k._("Draft Fundraisers"),k._("You don't have any draft fundraisers saved."),m,o),{actions:[i.createPublishActionConfig(l.DRAFT_FUNDRAISERS),i.createDeleteActionConfig(l.DRAFT_FUNDRAISERS)]});}f.exports=n;},null);
__d('PageContentTabEndedFundraisersConfig',['PageContentTabConstants','PageContentTabFundraisersCommonConfig','fbt'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=h.TABS,l=['end_time_ascending'];function m(n){return i.createCommonProperties(k.ENDED_FUNDRAISERS,'ended_fundraisers',j._("Ended Fundraisers"),j._("You don't have any past fundraisers that have ended."),l,n);}f.exports=m;},null);
__d('PageContentTabReadyFundraisersConfig',['PageContentTabConstants','PageContentFundraiserCommonActionsConfig','PageContentTabFundraisersCommonConfig','fbt'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=h.TABS,m=['start_time_descending'];function n(o){return Object.assign({},j.createCommonProperties(l.READY_FUNDRAISERS,'ready_fundraisers',k._("Scheduled Fundraisers"),k._("You don't have any scheduled fundraisers coming up."),m,o),{actions:[i.createUnpublishActionConfig(l.READY_FUNDRAISERS)]});}f.exports=n;},null);
__d('PageContentTabDonationsSettingsConfig',['XPagesManagerSettingsController','fbt','ix','PageContentTabConstants'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=k.LEFT_NAV_GROUPS,m=k.TABS;function n(o){return {enabled:o.show_donations_settings,externalURI:h.getURIBuilder().setString('page_token',o.page_id).setString('tab','donations').getURI(),leftNavGroup:l.FUNDRAISERS,id:m.DONATIONS_SETTINGS,image:j('/images/ui/xhp/image/glyph/settings.png'),label:i._("Donations Settings")};}f.exports=n;},null);
__d('LeadDownloadDatePicker.react',['AdsReportDatePresetType','BUIDateRangePicker.react','React'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=j.PropTypes,l=j.createClass({displayName:'LeadDownloadDatePicker',propTypes:{formID:k.string.isRequired,formCreationTime:k.number.isRequired,onRangeChange:k.func.isRequired},getInitialState:function(){return {lifetimeDateRange:{since:this.props.formCreationTime,until:Date.now()},selectedPreset:h.LIFETIME};},componentWillReceiveProps:function(m){var n={lifetimeDateRange:{since:m.formCreationTime,until:Date.now()}};if(this.props.formID!==m.formID)n.selectedPreset=h.LIFETIME;this.setState(n);},_OnRangeChange:function(m){this.props.onRangeChange(m);var n={selectedDateRange:null,selectedPreset:null};if(m.preset){n.selectedPreset=m.preset;}else n.selectedDateRange=babelHelpers._extends({},m);this.setState(n);},render:function(){return (j.createElement('div',null,j.createElement(i,babelHelpers._extends({key:this.props.formID},this.state,{onRangeChange:this._OnRangeChange}))));}});f.exports=l;},null);
__d('LeadsCSVDownloadFilterDialog.react',['AdsReportDatePresetType','LeadDownloadDatePicker.react','PageContentTabConstants','PageContentTabLocations','PageContentTabLogger','PageContentTabLoggingEvents','React','ReactLayeredComponentMixin','XUIDialog.react','XUIDialogBody.react','XUIDialogTitle.react','XUIDialogFooter.react','XUIDialogButton.react','XUIDialogCancelButton.react','goURI','fbt','sprintf','getOwnObjectValues','d3/time/day','d3/time/month'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){'use strict';if(c.__markCompiled)c.__markCompiled();var z=c('d3/time/day').utc,aa=c('d3/time/month').utc,ba=n.PropTypes,ca=j.TABS,da=480,ea=n.createClass({displayName:'LeadsCSVDownloadFilterDialog',mixins:[o],propTypes:{location:ba.oneOf(y(k)).isRequired,page:ba.object.isRequired,post:ba.object.isRequired},getInitialState:function(){return {dialogShown:false,fromDate:null,toDate:null};},render:function(){return n.createElement('div',null);},_updateDownloadURI:function(fa){var ga=fa.since/1000,ha=fa.until/1000;if(fa.preset)ha=fa.preset===h.YESTERDAY?ha+3600*24:null;this.setState({fromDate:ga,toDate:ha});},componentWillMount:function(){l.log(m.LEADS_DOWNLOAD_DIALOG_OPENED,ca.LEAD_ADS_FORMS,{lead_ad_form_id:this.props.post.id,page_id:this.props.page.page_id});},_loadDownloadURI:function(){this.setState({dialogShown:false});var fa=x('%s&from_date=%s&to_date=%s',this.props.post.leadgen_export_csv_url,this.state.fromDate?this.state.fromDate:'',this.state.toDate?this.state.toDate:'');l.log(m.LEADS_DOWNLOAD_DIALOG_BUTTON_CLICKED,ca.LEAD_ADS_FORMS,{lead_ad_form_id:this.props.post.id,page_id:this.props.page.page_id,lead_ad_min_date:this.state.fromDate,lead_ad_max_date:this.state.toDate});v(fa);},renderLayers:function(){var fa=new Date(this.props.post.created_time).getTime(),ga=this.props.post.name;return {dialog:n.createElement(p,{ref:'previewDialog',shown:this.state.dialogShown,width:da},n.createElement(r,null,n.createElement('div',null,w._("Download Leads: {Name of form whose leads we can download}",[w.param('Name of form whose leads we can download',ga)]))),n.createElement(q,null,n.createElement('div',null,w._("Download all of your leads or choose a custom date range.")),n.createElement(i,{formID:this.props.post.id,formCreationTime:fa,onRangeChange:this._updateDownloadURI}),n.createElement('div',null,w._("Your leads will be available in .csv format."))),n.createElement(s,null,n.createElement(u,null),n.createElement(t,{label:w._("\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438"),use:'confirm',onClick:this._loadDownloadURI})))};},show:function(){this.setState({dialogShown:true});}});f.exports=ea;},null);
__d('PageContentTabLeadAdsFormsColumnConfig',['Link.react','React','AdsLeadGenLocale','LeadAdsFrontendConfig','PageContentTabCellRenderers','PageContentTabConstants','PageContentTabLocations','PageContentTabLogger','PageContentTabLoggingEvents','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=m.COLUMNS,s=100,t=function(){o.log(p.FORM_DOWNLOAD,n.ADS_PE,{});},u=[{cellRenderer:function(v){v=v?v:"No Form Name specified";return l.renderCellWithNLinesOfText(v,2);},isShown:function(){return true;},label:q._("\u0406\u043c'\u044f"),key:r.FORM_NAME},{cellRenderer:function(v){v=v?j[v]:"No Locale specified";return l.renderCellWithNLinesOfText(v,2);},isShown:function(){return true;},label:q._("Locale"),key:r.FORM_LOCALE},{cellRenderer:function(v){return l.renderDateCell(v);},isShown:function(){return true;},key:r.FORM_DATE_CREATED,label:q._("\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e"),headerRenderer:l.renderSortableHeader},{cellRenderer:function(v){return l.renderCellWithNLinesOfText(v,2);},isShown:function(){return true;},label:q._("Leads Count"),key:r.FORM_LEADS_COUNT,getWidth:function(){return s;}},{cellRenderer:function(v){var w=k.dateFilterEnabled?'#':v;return i.createElement(h,{href:w,onClick:t},'Download');},isShown:function(){return true;},label:q._("Leads"),key:r.FORM_DOWNLOAD_CSV_URL}];f.exports=u;},null);
__d('PageContentTabLeadAdsFormsSearchFieldConfig',['AdsGenericFilterField','AdsGenericFilterFieldType','AdsGenericFilterOperator'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();function k(l){var m={NAME:{field:new h('name',i.STRING),operator:j.CONTAIN}};return m;}f.exports=k;},null);
__d('PageContentTabLeadAdsFormsConfig',['React','GraphAPI','LeadAdsFrontendConfig','LeadsCSVDownloadFilterDialog.react','Link.react','PageContentTabConstants','PageContentTabNullState.react','PageContentTabLeadAdsFormsColumnConfig','PageContentTabLeadAdsFormsSearchFieldConfig','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=m.COLUMNS,t=m.LEFT_NAV_GROUPS,u=m.TABS,v=function(x,y,z){return h.createElement(k,{location:z,post:x,page:y});};function w(x,y){var z=!!x.show_lead_ads_form_tab;return {columns:o,createTableRow:function(aa,ba){var ca={};ca[s.FORM_DOWNLOAD_CSV_URL]=aa.leadgen_export_csv_url;ca[s.FORM_DATE_CREATED]=aa.created_time;ca[s.FORM_NAME]=aa.name;ca[s.FORM_LEADS_COUNT]=aa.leads_count;ca[s.FORM_LOCALE]=aa.locale;ca[s.ID]=aa.id;return ca;},createOverlay:j.dateFilterEnabled?v:null,enabled:z,id:u.LEAD_ADS_FORMS,leftNavGroup:t.LEAD_ADS_FORMS,image:r('/images/ads/createflow/objectives/icons_mini/lead_generation.png'),label:q._("Forms Library"),getDataLoadPromise:function(aa,ba,ca,da){return i('2.3').object('page',ba.page_id).edge('leadgen_forms').get({access_token:aa,fields:['created_time','leads_count','leadgen_export_csv_url','name','locale'],filtering:ca});},renderErrorState:function(aa){return (h.createElement(n,{content:h.createElement('div',null,q._("Something went wrong and we couldn't load your Lead Ads Forms. Please try again later. {error}",[q.param('error',aa.message)]))}));},renderNullState:function(){var aa=h.createElement('div',null,q._("You haven't created any Lead Ads yet. {link}",[q.param('link',h.createElement(l,{href:'/help/lead_ads'},'Learn more'))]));return (h.createElement(n,{image:r('/images/pages/post_actions/www/empty_draft_66x66-2x.png'),content:aa}));},showCheckboxColumn:false,searchFilterField:p(x).NAME};}f.exports=w;},null);
__d('IAFilterValueConfig',['InstantArticlePublishStatus'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={PUBLISH_STATUS_DRAFT:{value:h.DRAFT},PUBLISH_STATUS_LIVE:{value:h.LIVE},TRUE:{value:'1'},FALSE:{value:'0'}};f.exports=i;},null);
__d('IAFilterFieldConfig',['AdsGenericFilterField','AdsGenericFilterFieldType','AdsGenericFilterOperatorConfig','IAFilterValueConfig','InstantArticlePublishStatus','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n={TITLE:{text:m._("Title"),field:new h('title',i.STRING),operators:[j.CONTAIN]},PUBLISH_STATUS:{text:m._("Status"),field:new h('publish_status',i.STRING_SET),operators:[j.IN],values:[k.PUBLISH_STATUS_DRAFT,k.PUBLISH_STATUS_LIVE],valueRenderer:function(o){switch(o){case l.LIVE:return m._("Live");case l.DRAFT:return m._("Draft");}}},HAS_ERRORS:{text:m._("Contains Errors"),field:new h('has_errors',i.STRING_SET),operators:[j.EQUAL],values:[k.TRUE,k.FALSE],valueRenderer:function(o){return o===k.TRUE.value?m._("Yes"):m._("No");}},URL:{text:m._("Canonical URL"),field:new h('url',i.STRING),operators:[j.EQUAL]}};f.exports=n;},null);
__d('InstantArticleViewsChart.react',['SpectrumChart','SpectrumComparableColumns','SpectrumIntegerScale','d3/scale/ordinal','SpectrumStyle','SpectrumXAxis','SpectrumYAxis','React','XUISpinner.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=o.PropTypes,t=o.createClass({displayName:'InstantArticleViewsChart',propTypes:{data:s.object},render:function(){var u=this.props.data;if(!u)return (o.createElement('div',{className:"_1s0a"},o.createElement(p,{size:'large'})));var v=[],w=[],x=0;for(var y in u){v.push(y);w.push(u[y]);x+=u[y];}if(x===0)return (o.createElement('p',{className:"_cq3"},r._("There was insufficient data to render this chart.")));var z={columns:{colors:[l.BLUE,l.BLUE]}},aa=babelHelpers._extends({},z,{rangeBands:{outerPadding:.15,padding:.15}});return (o.createElement('div',{className:"_1s0a"},o.createElement(h,{domain:k().domain(v),height:120,width:680,scaleY:j(),theme:aa},o.createElement(i,{data:[w]}),o.createElement(m,null),o.createElement(n,null))));}});f.exports=t;},null);
__d('InstantArticleTimeSpentChart.react',['SpectrumChart','d3/scale/ordinal','SpectrumLines','SpectrumXAxis','SpectrumYAxis','SpectrumPercentageScale','React','SpectrumStyle','XUISpinner.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=n.PropTypes,t=n.createClass({displayName:'InstantArticleTimeSpentChart',propTypes:{data:s.object},render:function(){var u=this.props.data;if(!u)return (n.createElement('div',{className:"_1s0a"},n.createElement(p,{size:'large'})));var v=[],w=[];for(var x in u){var y=parseInt(x,10)/60+'m';if(y==='6m')y='6m+';v.push(y);w.push(u[x]);}var z=0;w.forEach(function(ca){z+=ca;});w=w.map(function(ca){return ca/z;});if(z===0)return (n.createElement('p',{className:"_cq3"},r._("There was insufficient data to render this chart.")));var aa={columns:{colors:[o.BLUE,o.BLUE]}},ba=babelHelpers._extends({},aa,{rangeBands:{outerPadding:.15,padding:.15}});return (n.createElement('div',{className:"_1s0a"},n.createElement(h,{height:120,width:680,scaleX:i().domain(v),scaleY:m(),theme:ba},n.createElement(j,{data:[w]}),n.createElement(k,null),n.createElement(l,null))));}});f.exports=t;},null);
__d('InstantArticleScrollDepthChart.react',['SpectrumChart','SpectrumLines','SpectrumXAxis','SpectrumYAxis','d3/scale/ordinal','SpectrumPercentageScale','SpectrumStyle','React','XUISpinner.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=o.PropTypes,t=o.createClass({displayName:'InstantArticleScrollDepthChart',propTypes:{data:s.object},render:function(){var u=this.props.data;if(!u)return (o.createElement('div',{className:"_1s0a"},o.createElement(p,{size:'large'})));var v=[],w=[];for(var x in u){v.push(x+'%');w.push(u[x]);}var y=0;w.forEach(function(ba){y+=ba;});w=w.map(function(ba){return ba/y;});if(y===0)return (o.createElement('p',{className:"_cq3"},r._("There was insufficient data to render this chart.")));var z={columns:{colors:[n.BLUE,n.BLUE]}},aa=babelHelpers._extends({},z,{rangeBands:{outerPadding:.15,padding:.15}});return (o.createElement('div',{className:"_1s0a"},o.createElement(h,{height:120,width:680,scaleX:l().domain(v),scaleY:m(),theme:aa},o.createElement(i,{data:[w]}),o.createElement(j,null),o.createElement(k,null))));}});f.exports=t;},null);
__d('InstantArticleInsightsContainer.react',['GraphAPI','InstantArticleViewsChart.react','InstantArticleTimeSpentChart.react','InstantArticleScrollDepthChart.react','PageContentTabAccessToken','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=m.PropTypes,q=m.createClass({displayName:'InstantArticleInsightsContainer',propTypes:{article:p.object.isRequired,pageID:p.string.isRequired},getInitialState:function(){return {views:null,viewDurations:null,scrollDepths:null,totalViews:0,averageViewDuration:0,averageScrollDepth:0};},componentDidMount:function(){this._fetchData();},render:function(){return (m.createElement('div',{className:"_1cmc"},m.createElement('h3',{className:"_1cmd"},o._("Views: {Total number of views} Total",[o.param('Total number of views',this.state.totalViews)])),m.createElement(i,{data:this.state.views}),m.createElement('h3',{className:"_1cmd"},o._("Time Spent: {Average view duration in minutes and seconds} on average",[o.param('Average view duration in minutes and seconds',this.state.averageViewDuration)])),m.createElement(j,{data:this.state.viewDurations}),m.createElement('h3',{className:"_1cmd"},o._("Scroll Depth: {Average scroll depth percentage} percent on average",[o.param('Average scroll depth percentage',this.state.averageScrollDepth)])),m.createElement(k,{data:this.state.scrollDepths})));},_fetchData:function(){this._fetchDataForMetric('views','day',this._handleViews);this._fetchDataForMetric('view_durations','week',this._handleViewDurations);this._fetchDataForMetric('scrolls','week',this._handleScrolls);},_fetchDataForMetric:function(r,s,t){h('2.5').object('instant_article',this.props.article.id).edge('insights/').get({metric:r,period:s,since:'2 weeks ago',until:'now',access_token:l.getAccessToken()}).done(t);},_handleViews:function(r){var s={},t=0;r.data.forEach(function(u){var v=Date.parse(u.time),w=new Date(v),x=[w.getMonth()+1,w.getDate()].join('/'),y=+u.value;s[x]=y;t+=y;});this.setState({views:s,totalViews:t});},_handleViewDurations:function(r){var s=60,t={},u=0,v=0;while(s<=60*6){t[s]=0;s+=60;}r.data.forEach(function(aa){var ba=+aa.breakdowns.bucket,ca=+aa.value;v+=ca;u+=ca*ba;ba=Math.min(ba,60*6);var da=ba%60;if(da===0){t[ba]+=ca;}else t[ba-da+60]+=ca;});var w=Math.floor(u/v),x=Math.floor(w/60),y=w%60,z=x?[x,y].join(':'):y+'secs';this.setState({averageViewDuration:z,viewDurations:t});},_handleScrolls:function(r){var s=10,t={},u=0,v=0;while(s<=100){t[s]=0;s+=10;}r.data.forEach(function(x){var y=+x.breakdowns.bucket,z=+x.value;v+=z;u+=z*y;var aa=y%10;if(aa===0){t[y]+=z;}else t[y-aa+10]+=z;});var w=Math.floor(u/v)+'%';this.setState({averageScrollDepth:w,scrollDepths:t});}});f.exports=q;},null);
__d('InstantArticleInsightsDialog.react',['InstantArticleInsightsContainer.react','LayerFadeOnHide','React','ReactLayeredComponentMixin','XUIDialog.react','XUIDialogBody.react','XUIDialogTitle.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=j.PropTypes,r=j.createClass({displayName:'InstantArticleInsightsDialog',mixins:[k],propTypes:{article:q.object.isRequired,pageID:q.string.isRequired,shownInitially:q.bool},getInitialState:function(){return {data:[],dialogShown:this.props.shownInitially};},renderLayers:function(){if(!this.state.dialogShown)return {};return {dialog:j.createElement(l,{behaviors:{LayerFadeOnHide:i},onToggle:(function(s){return this.setDialogShown(s);}).bind(this),shown:true,width:720},j.createElement(n,null,p._("Instant Article Insights")),j.createElement(m,null,j.createElement(h,{article:this.props.article,pageID:this.props.pageID})))};},render:function(){return j.createElement('span',null);},setDialogShown:function(s){this.setState({dialogShown:s});},show:function(){this.setDialogShown(true);},hide:function(){this.setDialogShown(false);}});f.exports=r;},null);
__d('InstantArticlesDispatcher',['ReactDispatcher'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=new h();},null);
__d('InstantArticlesFluxActions',['InstantArticlesDispatcher'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h.dispatch.bind(h);function j(t,u){this.articleID=t;this.article=u;}function k(t,u){this.articleList=u;this.pageID=t;}function l(t,u){this.fontList=u;this.pageID=t;}function m(t,u){this.pageID=t;this.font=u;}function n(t,u){this.pageID=t;this.fontID=u;}function o(t,u){this.pageID=t;this.style=u;}function p(t,u){this.styleID=t;this.style=u;}function q(t,u){this.pageID=t;this.styleID=u;}function r(t,u){this.styleID=t;this.style=u;}function s(t,u){this.styleList=u;this.pageID=t;}f.exports={ArticleHandleLoad:j,ArticleListHandleLoad:k,FontListHandleLoad:l,FontCreated:m,FontDeleted:n,StyleCreated:o,StyleDeleted:q,StyleHandleLoad:r,StyleUpdated:p,StyleListHandleLoad:s,dispatch:i};},null);
__d('IAArticleStore',['FluxLoadObjectStore','GraphAPI','GraphAPIFieldUtils','InstantArticlesConfig','InstantArticlesDispatcher','InstantArticlesFluxActions','InstantArticlesFluxActions'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o,p;'use strict';var q=n.dispatch,r=n.ArticleHandleLoad,s=m,t=['html_source',j.getFieldWithSubfields('most_recent_version',[j.getFieldWithSubfields('title',['text']),'creation_time','has_errors','errors','modified_timestamp','publish_status','is_media_ingested','source','modified_by'])];o=babelHelpers.inherits(u,h);p=o&&o.prototype;u.prototype.reduce=function(v,w){if(w instanceof s.ArticleHandleLoad){return this.__handleOne(v,w.articleID,w.article);}else return v;};u.prototype.__load=function(v){i('2.3').object('instant_article',v).get({access_token:k.accessToken,fields:t,summary:true}).done(function(w){q(new r(v,w));},function(w){q(new r(v,w));});};function u(){o.apply(this,arguments);}f.exports=new u(l);},null);
__d('IALiveArticleConfirmDialog.react',['LayerHideOnEscape','LayerFadeOnHide','React','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=j.PropTypes,r=j.createClass({displayName:'IALiveArticleConfirmDialog',propTypes:{onConfirm:q.func.isRequired},render:function(){return (j.createElement(k,{behaviors:{LayerHideOnEscape:h,LayerFadeOnHide:i},shown:true,width:450},j.createElement(o,null,p._("Save and Unpublish")),j.createElement(l,null,p._("This Instant Article is currently published. If you save it, the article will be unpublished so you can review your changes. To re-publish your article, use the Actions drop-down at the top of your articles list. Are you sure you want to save this article?")),j.createElement(n,null,j.createElement(m,{action:'cancel',label:p._("\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"),use:'default'}),j.createElement(m,{action:'cancel',label:p._("\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"),onClick:this.props.onConfirm,use:'confirm'}))));}});f.exports=r;},null);
__d('InstantArticlePreviewErrorItem.react',['React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;k=babelHelpers.inherits(m,h.Component);l=k&&k.prototype;m.prototype.shouldComponentUpdate=function(n){'use strict';return this.props.error!==n.error;};m.prototype.render=function(){'use strict';var n=this.props.error.message.trim(),o=(this.props.error.urgent?"_5vjg":'')+(' '+"_oys");return (h.createElement('div',{key:this.props.key,className:o},j._("General {level of the error (warning, error, fatal)}",[j.param('level of the error (warning, error, fatal)',this.props.label)]),': '+n));};function m(){'use strict';k.apply(this,arguments);}f.exports=m;},null);
__d('InstantArticlePreviewErrorSection.react',['Image.react','immutable','InstantArticlePreviewErrorItem.react','LeftRight.react','React','cx','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o,p,q=l.PropTypes,r={WARNING:1,ERROR:2,FATAL:3};o=babelHelpers.inherits(s,l.Component);p=o&&o.prototype;s.getErrorLevels=function(){'use strict';return r;};s.prototype.render=function(){'use strict';var t=!!this.props.errorList.size;if(!t)return l.createElement('noscript',null);var u="_4iyn"+(' '+"_4iyo")+(this.props.level===r.ERROR?' '+"_3b7p":'')+(this.props.level===r.WARNING?' '+"_3b7r":''),v=this.props.errorList.map((function(x,y){return (l.createElement(j,{error:x,key:'error'+y,label:this.props.label}));}).bind(this)),w=l.createElement(h,{src:this.props.level==r.WARNING?n('/images/ads/createflow/orange-alert.png'):n('/images/ads/createflow/red-alert.png')});return (l.createElement(k,{className:u},l.createElement('div',{className:"_3b7s"},w),l.createElement('div',null,v)));};function s(){'use strict';o.apply(this,arguments);}s.propTypes={level:q.number,label:q.string,errorList:q.instanceOf(i.List)};f.exports=s;},null);
__d('InstantArticlePreviewErrors.react',['immutable','InstantArticlePreviewErrorSection.react','React','ReactDOM','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n,o,p=j.PropTypes,q=i.getErrorLevels(),r=200;n=babelHelpers.inherits(s,j.Component);o=n&&n.prototype;s.prototype.shouldComponentUpdate=function(t){'use strict';return (t.errorList!==this.props.errorList||t.height!==this.props.height);};s.prototype.componentDidMount=function(){'use strict';setTimeout(this.$InstantArticlePreviewErrors1.bind(this));};s.prototype.componentDidUpdate=function(t){'use strict';if(!this.props.errorList.equals(t.errorList))setTimeout(this.$InstantArticlePreviewErrors1.bind(this));};s.prototype.$InstantArticlePreviewErrors1=function(){'use strict';if(this.props.errorList.size===0){this.props.onHeightChange(0);return;}var t=k.findDOMNode(this.refs.inner),u=Math.min(t.offsetHeight,r);this.props.onHeightChange(u);};s.prototype.render=function(){'use strict';var t=this.props.errorList,u="_4xqo"+(t.size?' '+"_4iyo":''),v=[{level:q.FATAL,label:m._("Fatals")},{level:q.ERROR,label:m._("Errors")},{level:q.WARNING,label:m._("Warnings")}],w={height:this.props.height};return (j.createElement('div',{className:u,ref:'outer',style:w},j.createElement('div',{className:"_3smv",ref:'inner'},v.map(function(x,y){return (j.createElement(i,{key:'errorSection'+y,level:x.level,errorList:t.filter(function(z){return z.level===x.level;}),label:x.label}));}))));};function s(){'use strict';n.apply(this,arguments);}s.propTypes={errorList:p.instanceOf(h.List)};f.exports=s;},null);
__d("XInstantArticleStatusController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/articles\/status\/",{parser_context_id:{type:"String",required:true}});},null,{});
__d("XPubcontentInstantArticleGenerationController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/articles\/generatepreview\/",{});},null,{});
__d('InstantArticlePreview.react',['ActorURI','AsyncRequest','AsyncResponse','CodeMirror4.react','immutable','DOM','IALiveArticleConfirmDialog.react','InstantArticlePublishStatus','InstantArticlePreviewErrors.react','InstantArticlePreviewErrorSection.react','Poller','React','ReactDOM','XInstantArticleStatusController','XPubcontentInstantArticleGenerationController','cx','fbt','keyMirror','rebound'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){if(c.__markCompiled)c.__markCompiled();var aa,ba;'use strict';var ca=s.PropTypes,da=z.MathUtil,ea=z.SpringSystem,fa=da.mapValueInRange,ga=y({Generating:true,Ready:true}),ha=y({Loading:true,Waiting:true,Success:true,Error:true}),ia=2000,ja=44,ka=64,la=o,ma=q.getErrorLevels();aa=babelHelpers.inherits(na,s.Component);ba=aa&&aa.prototype;function na(oa){ba.constructor.call(this,oa);this.state={cursorPos:{line:0,ch:0},markup:this.props.markup,lastPreviewedContent:null,previewState:ga.Ready,errorList:this.props.errorList||[],errorHeight:0,progressState:null,progressResult:null,cursor:{line:0,ch:0}};this.$InstantArticlePreview1=null;this.$InstantArticlePreview2=null;this.$InstantArticlePreview3=0;this.$InstantArticlePreview4=0;}na.prototype.onChange=function(oa){this.setState({markup:oa.value});this.setState({cursor:oa.cursor});};na.prototype.$InstantArticlePreview5=function(oa){if(this.props.currentPublishStatus===la.LIVE){t.render(s.createElement(n,{onConfirm:(function(){return this.$InstantArticlePreview6(oa);}).bind(this)}),m.create('div'));return;}this.$InstantArticlePreview6(oa);};na.prototype.$InstantArticlePreview6=function(oa){if(this.state.previewState===ga.Generating){oa.preventDefault();return;}this.setState({previewState:ga.Generating,progressState:ha.Loading,progressResult:null});var pa=h.create(v.getURIBuilder().getURI(),this.props.pageID);new i(pa).setMethod('POST').setData({markup:this.state.markup}).setHandler((function(qa){var ra=qa.getPayload();if(ra.parser_context_id){this.$InstantArticlePreview7(ra.parser_context_id);}else this.$InstantArticlePreview8(qa);}).bind(this)).setErrorHandler((function(qa){return this.$InstantArticlePreview9(qa);}).bind(this)).send();};na.prototype.$InstantArticlePreview7=function(oa){var pa=h.create(u.getURIBuilder().setString('parser_context_id',oa).getURI(),this.props.pageID),qa=new r({interval:ia,setupRequest:(function(ra,sa){ra.setURI(pa).setMethod('GET').setReadOnly(true).setHandler((function(ta){var ua=ta.getPayload();if(ua.done){sa.stop();this.$InstantArticlePreview8(ta);}}).bind(this)).setErrorHandler((function(ta){var ua=ta.getPayload();if(ua.done){sa.stop();this.$InstantArticlePreview9(ta);}}).bind(this));}).bind(this)});qa.start();};na.prototype.$InstantArticlePreview8=function(oa){var pa=this.state.progressState,qa=pa===ha.Waiting,ra=oa.getPayload();this.setState({lastPreviewedContent:this.state.markup,errorList:ra.errors,progressState:qa?ha.Success:pa,progressResult:ha.Ready,previewState:ga.Ready});if(this.props.onSubmitSuccess)this.props.onSubmitSuccess(ra.article_id.toString());};na.prototype.$InstantArticlePreview9=function(oa){var pa=this.state.progressState,qa=pa===ha.Waiting,ra=oa.getPayload(),sa=this.state.lastPreviewedContent;if(!ra){this.setState({lastPreviewedContent:sa,progressState:qa?ha.Error:pa,progressResult:ha.Error,previewState:ga.Ready});j.defaultErrorHandler(oa);}else{var ta=this.state.markup,ua=!!ra.success;this.setState({lastPreviewedContent:ua?ta:sa,errorList:ra.errors,progressState:qa?ha.Error:pa,progressResult:ha.Error,previewState:ga.Ready});}};na.prototype.componentWillMount=function(){this.$InstantArticlePreview1=new ea();this.$InstantArticlePreview2=this.$InstantArticlePreview1.createSpring();this.$InstantArticlePreview3=0;this.$InstantArticlePreview4=0;this.$InstantArticlePreview2.addListener({onSpringUpdate:(function(oa){var pa=fa(oa.getCurrentValue(),0,1,this.$InstantArticlePreview3,this.$InstantArticlePreview4);this.setState({errorHeight:pa});}).bind(this)});};na.prototype.componentWillUnmount=function(){if(this.$InstantArticlePreview1)this.$InstantArticlePreview1.deregisterSpring(this.$InstantArticlePreview2);this.$InstantArticlePreview1=this.$InstantArticlePreview2=null;};na.prototype.$InstantArticlePreview10=function(){if(this.props.readOnly)return null;return (s.createElement('div',{className:"_4xqe"},'Column '+this.state.cursor.ch));};na.prototype.$InstantArticlePreview11=function(oa){if(this.state.errorHeight>oa){this.$InstantArticlePreview3=oa;this.$InstantArticlePreview4=this.state.errorHeight;if(this.$InstantArticlePreview2)this.$InstantArticlePreview2.setCurrentValue(1).setAtRest().setEndValue(0);}else if(oa>this.state.errorHeight){this.$InstantArticlePreview3=this.state.errorHeight;this.$InstantArticlePreview4=oa;if(this.$InstantArticlePreview2)this.$InstantArticlePreview2.setCurrentValue(0).setAtRest().setEndValue(1);}};na.prototype.$InstantArticlePreview12=function(){if(this.state.previewState!==ga.Generating)return null;return s.createElement('div',{className:"_3smh"});};na.prototype.$InstantArticlePreview13=function(){var oa=this.state.markup,pa=this.state.previewState===ga.Ready&&this.state.lastPreviewedContent===oa,qa=this.state.previewState===ga.Generating,ra='Save';if(qa){ra='Saving...';}else if(pa)ra='Saved';var sa="_3sms"+(' '+"_pzf")+(!qa&&!pa?' '+"_70a":'');return (s.createElement('a',{href:'#',onClick:this.$InstantArticlePreview5.bind(this),className:sa},ra));};na.prototype.$InstantArticlePreview14=function(){if(!this.props.inDialog)return null;var oa="_3sms"+(' '+"_pzf")+(' '+"_70a");return (s.createElement('a',{href:'#',onClick:this.props.onClose,className:oa},'Done'));};na.prototype.$InstantArticlePreview15=function(){if(this.props.readOnly||!this.props.inDialog)return null;var oa="_3sms"+(' '+"_70a");return (s.createElement('a',{href:'#',onClick:this.props.onClose,className:oa},'Cancel'));};na.prototype.render=function(){var oa=this.state.errorHeight?this.state.errorHeight+1:0,pa={top:oa},qa=this.props.height-oa;if(this.props.inDialog){qa-=ka;}else qa-=ja;pa=babelHelpers._extends({},pa,{height:qa});var ra="_4xqf"+(this.state.previewState===ga.Generating?' '+"_3smm":'')+(this.props.inDialog?' '+"_32o6":'')+(this.props.readOnly?' '+"_pzg":''),sa=x._("Paste some markup..."),ta=l.List(this.state.errorList.filter(function(wa){return wa.line>0&&wa.message;})),ua=[];ua[ma.WARNING]="_5fnu";ua[ma.ERROR]="_32o7";var va={lineWrapping:true,expands:true,styleActiveLine:true,styleSelectedText:true,autofocus:!this.props.readOnly,readOnly:this.props.readOnly,shouldFoldCode:!!ta.size};if(this.props.readOnly)va=babelHelpers._extends({},va,{cursorBlinkRate:-1});return (s.createElement('div',{className:ra},s.createElement('div',{className:"_3smq clearfix"},this.$InstantArticlePreview15(),s.createElement('h2',{className:"_3smr"},this.props.title),this.props.readOnly?this.$InstantArticlePreview14():this.$InstantArticlePreview13()),s.createElement('div',{className:"_3smu"},s.createElement(p,{height:this.state.errorHeight,errorList:l.List(this.state.errorList.filter(function(wa){return wa.line<=0&&wa.message;})),onHeightChange:this.$InstantArticlePreview11.bind(this)}),s.createElement('div',{className:"_4xqg",style:pa},s.createElement(k,{mode:'text/html',value:this.state.markup,codeMirrorOpts:va,height:this.props.height?qa:null,codeMirrorAddonOpts:{placeholder:sa,markupErrors:ta,markupErrorStyleNames:ua,markupErrorFoldStyleName:"_2r7e"},onChange:this.onChange.bind(this)}),this.$InstantArticlePreview12()),this.$InstantArticlePreview10())));};na.propTypes={author:ca.object,markup:ca.string,onSubmitSuccess:ca.func,onClose:ca.func,pageID:ca.string.isRequired,errorList:ca.arrayOf(ca.shape({level:ca.oneOf(Object.keys(ma).map(function(oa){return ma[oa];})).isRequired,message:ca.string,column:ca.number,line:ca.number})),currentPublishStatus:ca.oneOf(Object.keys(o)),inDialog:ca.bool,readOnly:ca.bool,height:ca.number};f.exports=na;},null);
__d('InstantArticlePreviewContainer.react',['FluxContainer','IAArticleStore','InstantArticlePreview.react','React','XUINotice.react','XUISpinner.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p,q;'use strict';var r=k.PropTypes;p=babelHelpers.inherits(s,k.Component);q=p&&p.prototype;s.getStores=function(){return [i];};s.calculateState=function(t,u){if(!u.articleID)return null;return {article:i.get(u.articleID)};};s.prototype.render=function(){if(!this.props.articleID){var t=o._("New Instant Article");return (k.createElement(j,babelHelpers._extends({},this.props,{currentPublishStatus:'DRAFT',errorList:[],markup:'',title:t})));}if(!this.state.article.hasValue())return (k.createElement('div',{className:"_339-"},k.createElement(m,{size:'large'})));if(this.state.article.hasError())return (k.createElement('div',{className:"_339_"},k.createElement(l,{use:'warn'},o._("Something broke! Please reload the browser window."))));var u=this.state.article.getValue();return (k.createElement(j,babelHelpers._extends({},this.props,{currentPublishStatus:u.most_recent_version.publish_status,errorList:u.most_recent_version.errors,markup:u.html_source,title:u.most_recent_version.title.text})));};function s(){p.apply(this,arguments);}s.propTypes={onSubmitSuccess:r.func,onClose:r.func,articleID:r.string,pageID:r.string.isRequired,inDialog:r.bool,readOnly:r.bool};f.exports=h.create(s,{withProps:true});},null);
__d('InstantArticlesDataUtils',['GraphAPIFieldUtils','InstantArticleSource'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={getFields:function(){var k=['id',h.getFieldWithSubfields('most_recent_version',[h.getFieldWithSubfields('title',['text']),'creation_time','has_errors','modified_timestamp','publish_status','is_media_ingested','source','modified_by'])];return k;},canEditArticle:function(k,l){var m=k.most_recent_version;if(m.source!==i.FEED)return true;return !l.is_ia_feed_under_review;}};f.exports=j;},null);
__d('InstantArticleComposerDialog.react',['DOMDimensions','GraphAPI','InstantArticlePreviewContainer.react','InstantArticlesDataUtils','LayerPage.react','LayerPageContent.react','PageContentTabAccessToken','PageContentTabConstants','PageContentTabDispatcher','React','ReactLayeredComponentMixin','XUIButton.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){'use strict';if(c.__markCompiled)c.__markCompiled();var v=q.PropTypes,w=q.createClass({displayName:'InstantArticleComposerDialog',mixins:[r],propTypes:{article:v.shape({id:v.string.isRequired}),pageID:v.string.isRequired,shownInitially:v.bool,readOnly:v.bool},getInitialState:function(){return {dialogShown:this.props.shownInitially};},renderLayers:function(){if(!this.state.dialogShown)return {};var x=this.props.article?{articleID:this.props.article.id,key:this.props.article.id}:{};return {dialog:q.createElement(l,{layerRootClass:"_1vvq",onToggle:(function(y){return this.setDialogShown(y);}).bind(this),shown:true},q.createElement(m,{useCustomPadding:true,padding:0,className:"_1-ij"},q.createElement('div',{className:"_1-ik"},q.createElement(j,babelHelpers._extends({},x,{onSubmitSuccess:this._onSubmitSuccess,onClose:this._onClose,pageID:this.props.pageID,inDialog:true,readOnly:this.props.readOnly,height:h.getViewportDimensions().height})))))};},render:function(){return (q.createElement(s,{label:'< />',onClick:this._clickHandler}));},_clickHandler:function(x){x.stopPropagation();this.show();},_getTitle:function(){return this.props.article?u._("Edit Instant Article"):u._("Create Instant Article");},setDialogShown:function(x){var y=this.props.article?this.props.article.id:null;if(x&&y){document.location.hash='edit_'+y;}else document.location.hash='';this.setState({dialogShown:x});},show:function(){this.setDialogShown(true);},_onSubmitSuccess:function(x){i('2.2').object('instant_article',x).get({access_token:n.getAccessToken(),fields:k.getFields(),summary:true}).done((function(y){if(this.props.article){p.handlePostChanged(y);}else p.handlePostCreated(o.TABS.INSTANT_ARTICLES,y,this.props.pageID);}).bind(this));},_onClose:function(){this.setDialogShown(false);}});f.exports=w;},null);
__d('InstantArticleCreateButton.react',['DOM','Image.react','InstantArticleComposerDialog.react','React','ReactDOM','URI','XUIButton.react','fbt','xuiglyph','XPagesManagerSettingsController'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=k.PropTypes,s=k.createClass({displayName:'InstantArticleCreateButton',propTypes:{pageID:r.string.isRequired},_getSettingsURI:function(){return q.getURIBuilder().setString('page_token',this.props.pageID).setString('tab','instant_articles').getURI();},render:function(){return (k.createElement('span',null,k.createElement(n,{label:o._("Set Up"),href:this._getSettingsURI()}),k.createElement(n,{label:o._("Create"),image:k.createElement(i,{src:p({name:'plus',size:'small',shade:'white'})}),use:'confirm',onClick:this._showComposer})));},_showComposer:function(){l.render(k.createElement(j,{pageID:this.props.pageID,shownInitially:true}),h.create('div'));}});f.exports=s;},null);
__d("XInstantArticleDeleteController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/async\/articles\/delete\/",{ids:{type:"StringVector",required:true}});},null,{});
__d('InstantArticlesActions',['AsyncRequest','GraphAPI','PageContentTabAccessToken','PageContentTabConfig','PageContentTabDispatcher','PageContentTabLoadingDialog','XInstantArticleDeleteController'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=k.graph_api_version||'2.2',p={deleteInstantArticles:function(q,r){m.show();var s=r.map(function(u){return u.id;}),t=n.getURIBuilder().setStringVector('ids',s).getURI();new h(t).setMethod('POST').setHandler(function(u){s.forEach(function(v){return l.handlePostRemoved(q,v);});}).setFinallyHandler(function(u){m.hide();}).send();},setPublishStatus:function(q,r){m.show();var s=0;q.forEach(function(t){var u=t.most_recent_version;i(o).object('instant_article_version',u.id).post({access_token:j.getAccessToken(),publish_status:r}).done(function(v){l.handlePostChanged({id:t.id,most_recent_version:babelHelpers._extends({},u,{publish_status:r})});s++;if(s===q.length)m.hide();});});}};f.exports=p;},null);
__d('PageContentTabInstantArticlesActionsConfig',['DOM','InstantArticleComposerDialog.react','InstantArticlePublishStatus','InstantArticlesActions','InstantArticlesDataUtils','PageContentTabCommonConfig','PageContentTabConstants','React','ReactDOM','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=n.ACTIONS;function s(u,v){return u.filter(function(w){if(!w.most_recent_version.is_media_ingested)return false;return w.most_recent_version.publish_status===v;});}function t(u){var v=[{allowBatch:false,getLabel:function(){return q._("Edit");},key:r.EDIT,onClick:function(w){p.render(o.createElement(i,{article:w[0],pageID:u.page_id,readOnly:!l.canEditArticle(w[0],u),shownInitially:true}),h.create('div'));}},{allowBatch:true,getLabel:function(w){return w<=1?q._("Delete"):q._("Delete ({Number of articles})",[q.param('Number of articles',w)]);},key:r.DELETE,onClick:function(w,x){m.showConfirmationDialog(q._("Delete Instant Article?"),q._({"instant article":"Are you sure you want to delete selected instant article?","instant articles":"Are you sure you want to delete selected instant articles?"},[q['enum'](w.length===1?'instant article':'instant articles',{'instant article':'instant article','instant articles':'instant articles'})]),q._("Delete"),k.deleteInstantArticles.bind(k,x.page_id,w),null);},isDisabled:function(w){return w.some(function(x){return !l.canEditArticle(x,u);});}},{allowBatch:true,getLabel:function(w,x){return q._("Publish ({Number of articles})",[q.param('Number of articles',s(x,j.DRAFT).length)]);},key:r.EDIT,onClick:function(w){var x=s(w,j.DRAFT);k.setPublishStatus(x,j.LIVE);},isAvailable:function(w){return s(w,j.DRAFT).length>0;},isDisabled:function(){return !u.can_publish_instant_articles;}},{allowBatch:true,getLabel:function(w,x){return q._("Unpublish ({Number of articles})",[q.param('Number of articles',s(x,j.LIVE).length)]);},key:r.EDIT,onClick:function(w){var x=s(w,j.LIVE);k.setPublishStatus(x,j.DRAFT);},isAvailable:function(w){return s(w,j.LIVE).length>0;},isDisabled:function(){return !u.can_publish_instant_articles;}}];return v;}f.exports=t;},null);
__d('InstantArticleCellRenderers',['Image.react','InstantArticlePublishStatus','InstantArticleSource','PageContentTabConstants','React','XUIGrayText.react','cx','fbt','formatDate','ix','parseISODate'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=k.COLUMNS,t=i.DRAFT,u=i.LIVE,v={renderTitle:function(w,x,y){var z;if(y[s.HAS_ERRORS])z=l.createElement('div',{className:"_1qg5"},l.createElement(h,{alt:o._("This article contains errors."),src:q('/images/pages/content_tab/orange-alert.png'),className:"_3-8h"}));return (l.createElement('div',null,l.createElement('div',{className:"_1qg4"},w),z));},renderLastUpdated:function(w,x,y){var z=r(w),aa=y.source===j.FEED?o._("RSS Feed"):y.modifiedBy;return (l.createElement('div',null,l.createElement('div',null,o._("{date} at {time}",[o.param('date',p(z,'m/d/Y')),o.param('time',p(z,'g:ia'))])),l.createElement(m,null,aa)));},renderPublishStatus:function(w,x,y){switch(w){case u:return o._("Live");case t:return o._("Draft");}}};f.exports=v;},null);
__d('PageContentTabInstantArticlesColumnConfig',['InstantArticleCellRenderers','InstantArticleComposerDialog.react','InstantArticlesDataUtils','PageContentTabConstants','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=k.COLUMNS,o=k.COLUMN_GROUPS;function p(q){var r=[{alwaysSelected:true,cellRenderer:h.renderTitle,initiallySelected:true,isShown:function(){return true;},key:n.POST,label:m._("Title"),mainColumn:true},{cellRenderer:h.renderLastUpdated,group:o.DATES,initiallySelected:true,isShown:function(){return true;},key:n.DATE_LAST_MODIFIED,label:m._("Last Updated")},{cellRenderer:h.renderPublishStatus,getWidth:function(){return 120;},initiallySelected:true,isShown:function(){return true;},key:n.PUBLISH_STATUS,label:m._("Status")}];if(q.can_see_article_insights)r.push({cellRenderer:function(s){var t=s[0],u=s[1];return (l.createElement(i,{article:t,pageID:u.page_id,readOnly:!j.canEditArticle(t,u)}));},getWidth:function(){return 70;},group:o.BUTTONS,initiallySelected:true,isShown:function(){return true;},key:n.MARKUP_EDITOR,label:m._("Edit")});return r;}f.exports=p;},null);
__d('PageContentTabInstantArticlesConfig',['DOM','GraphAPI','IAFilterFieldConfig','IAFilterValueConfig','InstantArticleInsightsDialog.react','InstantArticleComposerDialog.react','InstantArticleCreateButton.react','InstantArticlesConfig','InstantArticlesDataUtils','PageContentTabConstants','PageContentTabConfig','PageContentTabInstantArticlesActionsConfig','PageContentTabInstantArticlesColumnConfig','PageContentTabNullState.react','React','ReactDOM','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){'use strict';if(c.__markCompiled)c.__markCompiled();var z=q.COLUMNS,aa=r.graph_api_version||'2.2';function ba(ca){var da=ca.supports_instant_articles&&o.hasPublisherToolsAccess;return {actions:s(ca),columns:t(ca),createOverlay:function(ea,fa){if(fa.can_see_article_insights){return (v.createElement(l,{article:ea,pageID:fa.page_id}));}else return (v.createElement(m,{article:ea,pageID:fa.page_id,readOnly:!p.canEditArticle(ea,fa)}));},createTableRow:function(ea,fa){var ga=ea.most_recent_version,ha={};ha[z.POST]=ga.title?ga.title.text:'';ha[z.DATE_LAST_MODIFIED]=ga.creation_time;ha[z.PUBLISH_STATUS]=ga.publish_status;ha[z.HAS_ERRORS]=ga.has_errors;if(fa.can_see_article_insights)ha[z.MARKUP_EDITOR]=[ea,fa];ha.source=ga.source;ha.modifiedBy=ga.modified_by.name;return ha;},enabled:da,id:q.TABS.INSTANT_ARTICLES,image:y('/images/pages/finch/glyph-instantarticles-16px.png'),label:x._("Instant Articles"),getDataLoadPromise:function(ea,fa,ga,ha){var ia=ga.length===0?'instant_articles':'instant_articles_cms_search';return i(aa).object('page',fa.page_id).edge(ia).get({access_token:ea,fields:p.getFields(),filtering:ga,summary:true});},onMount:function(){var ea=document.location.hash.substr(1).split('_');if(ea[0]==='edit')w.render(v.createElement(m,{article:{id:ea[1]},pageID:ca.page_id,shownInitially:true}),h.create('div'));},renderErrorState:function(ea){return (v.createElement(u,{content:v.createElement('div',null,x._("Something went wrong and we couldn't load your instant articles. Please try again later. {error}",[x.param('error',ea.message)])),image:y('/images/pages/post_actions/www/empty_instant_articles_66x66.png')}));},renderNullState:function(){return (v.createElement(u,{content:v.createElement('div',null,x._("You haven't created any instant articles yet.")),image:y('/images/pages/post_actions/www/empty_instant_articles_66x66.png')}));},createButtonComponent:n,hasSearchSupport:false,rowHeight:75,filterFieldsConfig:j,filterValuesConfig:k,defaultFilterField:j.TITLE};}f.exports=ba;},null);
__d('PageContentTabPublishedPostsActionsConfig',['PageContentTabCommonActionsConfig','PageContentTabCommonConfig','PageContentTabConstants','PageContentTabActions','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=j.ACTIONS,n=j.TABS,o=[{allowBatch:true,getLabel:function(p){return p<=1?l._("\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"):l._("Delete ({num_posts})",[l.param('num_posts',p)]);},key:m.DELETE,onClick:function(p,q){var r=l._({"Post?":"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0434\u043e\u043f\u0438\u0441?","Posts?":"Delete Posts?"},[l['enum'](p.length===1?'Post?':'Posts?',{'Post?':'Post?','Posts?':'Posts?'})]),s=p.length===1?l._("Post will be permanently deleted."):l._("{numPosts} posts will be permanently deleted.",[l.param('numPosts',p.length)]);i.showConfirmationDialog(r,s,l._("\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"),k.deletePostsbyID.bind(k,q.page_id,n.PUBLISHED_POSTS,p));}},h.CREATE_ADS_FROM_POSTS];f.exports=o;},null);
__d('PageContentTabPublishedPostsColumnConfig',['React','PageContentTabCellRenderers','PageContentTabCommonConfig','PageContentTabConstants','PageContentTabInsightsCell.react','PageContentTabLocations','PageContentTabPostCell.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=k.COLUMNS,q=128,r=16,s=[{key:p.POST,label:o._("\u0414\u043e\u043f\u0438\u0441\u0438"),isShown:function(){return true;},cellRenderer:function(t,u,v){return h.createElement(n,{post:t,query:v.query});},mainColumn:true},{key:p.LOCATION_LANGUAGE,label:o._("\u041a\u043e\u043d\u0444\u0456\u0434\u0435\u043d\u0446\u0456\u0439\u043d\u0456\u0441\u0442\u044c"),isShown:function(t){return t===m.ADS_PE;},cellRenderer:function(t,u,v){return i.renderCellWithNLinesOfText(t,2,null);}},{cellRenderer:function(t,u,v){return (h.createElement(l,{colors:['#FFCA87'],values:[t],maxValue:j.maxInsightValue(v.posts,'post_impressions_unique')}));},isShown:function(t,u){return true;},label:o._("\u041e\u0445\u043e\u043f\u043b\u0435\u043d\u043d\u044f"),key:p.REACH},{cellRenderer:function(t,u,v){return (h.createElement(l,{colors:['#D094AB'],values:[t],maxValue:j.maxInsightValue(v.posts,'post_engaged_users')}));},isShown:function(t,u){return true;},label:o._("\u0412\u043f\u043e\u0434\u043e\u0431\u0430\u043d\u043d\u044f, \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0456, \u043f\u043e\u0448\u0438\u0440\u0435\u043d\u043d\u044f"),key:p.ENGAGEMENT,getWidth:function(){return q;},headerRenderer:function(t){return i.renderCellWithNLinesOfText(t,1,o._("\u0412\u043f\u043e\u0434\u043e\u0431\u0430\u043d\u043d\u044f, \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0456, \u043f\u043e\u0448\u0438\u0440\u0435\u043d\u043d\u044f"),r);}},{cellRenderer:function(t,u,v){return (h.createElement(l,{colors:['#9DACCB'],values:[t],maxValue:j.maxInsightValue(v.posts,'post_story_adds_unique')}));},isShown:function(t,u){return t===m.ADS_PE;},label:o._("PPTP"),key:p.PPTP},{key:p.DATE_CREATED,label:o._("Published"),isShown:function(){return true;},cellRenderer:i.renderDateCreatedCell,headerRenderer:function(){return i.renderHeaderWithSortingArrow(o._("Published"));}}];f.exports=s;},null);
__d('PageContentTabPublishedPostsConfig',['AdsGenericFilterOperatorConfig','BootloadedComponent.react','ComposerEntryPointRef','JSResource','GraphAPI','GraphAPIFieldUtils','Link.react','React','PageContentTabCommonConfig','PageContentTabConfig','PageContentTabConstants','PageContentTabCreatePostButton.react','PageContentTabInsightsDialog.react','PageContentTabLocations','PageContentTabPublishedPostsActionsConfig','PageContentTabPublishedPostsColumnConfig','PageContentTabNullState.react','fbt','invariant','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){if(c.__markCompiled)c.__markCompiled();var ba=r.COLUMNS,ca=r.LEFT_NAV_GROUPS,da=r.TABS;function ea(fa,ga){return {actions:v,columns:w,createButtonComponent:ga===u.ADS_PE&&!q.force_new_composer?i:s,createButtonProps:ga===u.ADS_PE&&!q.force_new_composer?{bootloadLoader:k('PageContentTabOldComposerDialog.react'),bootloadPlaceholder:o.createElement('span',null),pageID:fa.page_id,entryPoint:j.PAGE_CONTENT_TAB_PUBLISHED_POSTS,label:y._("\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0434\u043e\u043f\u0438\u0441")}:{entryPoint:j.PAGE_CONTENT_TAB_PUBLISHED_POSTS,label:ga===u.ADS_PE?y._("\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0434\u043e\u043f\u0438\u0441"):null},createOverlay:function(ha,ia,ja){return (o.createElement(t,{location:ja,post:ha,page:ia}));},createTableRow:function(ha,ia){var ja={};ja[ba.POST]={id:ha.id,text:ha.message,img:ha.picture||ia.picture&&ia.picture.url,owner:ia.page_id};ja[ba.DATE_CREATED]={admin:ha.admin_creator&&ha.admin_creator.name,time:ha.created_time};var ka=[];if(ha.edit_actions)ka=ha.edit_actions.data||[];ja[ba.DATE_LAST_MODIFIED]={edit_actions:ka,modified_time:ha.updated_time};ja[ba.LOCATION_LANGUAGE]=ha.privacy?ha.privacy.description||'':'';if(ha.insights&&ha.insights.data)ha.insights.data.forEach(function(la){if(la.name==='post_impressions_unique'){ja[ba.REACH]=p.getValueFromInsight(la);}else if(la.name==='post_engaged_users'){ja[ba.ENGAGEMENT]=p.getValueFromInsight(la);}else if(la.name==='post_story_adds_unique')ja[ba.PPTP]=p.getValueFromInsight(la);});return ja;},enabled:true,id:da.PUBLISHED_POSTS,leftNavGroup:ca.POSTS,image:aa('/images/pages/finch/glyph-pagesfeed-bg70-16px.png'),getDataLoadPromise:function(ha,ia,ja,ka){var la=null;if(ja&&ja.length){!(ja.length===1)?z(0):undefined;var ma=ja[0];!(ma.field==='message'&&ma.operator===h.CONTAIN.operator)?z(0):undefined;la=ma.value;}return l('2.3').object('page',ia.page_id).edge('posts').get({access_token:ha,fields:['admin_creator',m.getFieldWithSubfields('edit_actions',['edit_time','editor']),'picture','created_time','message','updated_time','insights','privacy'],q:la});},label:y._("Published Posts"),renderErrorState:function(ha){return (o.createElement(x,{content:o.createElement('div',null,y._("Something went wrong and we couldn't load your posts. Please try again later. {error}",[y.param('error',ha.message)]))}));},renderNullState:function(){var ha=o.createElement('div',null,y._("You haven't published any posts yet. {link}",[y.param('link',o.createElement(n,{href:'/help/333140160100643'},y._("\u0414\u0456\u0437\u043d\u0430\u0442\u0438\u0441\u044c \u0431\u0456\u043b\u044c\u0448\u0435")))]));return (o.createElement(x,{image:aa('/images/pages/post_actions/www/empty_draft_66x66-2x.png'),content:ha}));}};}f.exports=ea;},null);
__d('PageContentTabScheduledPostsActionsConfig',['React','ReactDOM','DOM','PageContentTabActions','PageContentTabCommonActionsConfig','PageContentTabCommonConfig','PageContentTabConfig','PageContentTabConstants','PostBackdateDialog.react','PostScheduleDialog.react','fbt','parseISODate'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t=o.ACTIONS,u=o.TABS,v=[{allowBatch:true,getLabel:function(w){return w<=1?r._("\u041e\u043f\u0443\u0431\u043b\u0456\u043a\u0443\u0432\u0430\u0442\u0438"):r._("Publish ({num_posts})",[r.param('num_posts',w)]);},key:t.PUBLISH,onClick:function(w,x){m.showConfirmationDialog(r._("Publish Schedule Post?"),r._({"scheduled post?":"Are you sure you want to publish selected scheduled post?","scheduled posts?":"Are you sure you want to publish selected scheduled posts?"},[r['enum'](w.length===1?'scheduled post?':'scheduled posts?',{'scheduled post?':'scheduled post?','scheduled posts?':'scheduled posts?'})]),r._("\u041e\u043f\u0443\u0431\u043b\u0456\u043a\u0443\u0432\u0430\u0442\u0438"),k.publishPosts.bind(k,x.page_id,u.SCHEDULED_POSTS,w));}},{allowBatch:false,getLabel:function(w){return r._("Reschedule");},key:t.RESCHEDULE,onClick:function(w){var x=h.createElement(q,{initialDate:s(w[0].scheduled_publish_time),isReschedule:true,timezoneStr:n.timezone_str,onSubmit:k.reschedulePost.bind(k,u.SCHEDULED_POSTS,w[0])});x=i.render(x,j.create('div'));x.show();}},{allowBatch:true,getLabel:function(w){return w<=1?r._("Cancel Schedule"):r._("Cancel Schedule ({num_posts})",[r.param('num_posts',w)]);},key:t.UNSCHEDULE,onClick:function(w,x){var y=r._("Cancel Scheduled Publish Date?"),z=w.length===1?r._("If you cancel, your post will move to Drafts and won't be published."):r._("If you cancel, your posts will move to Drafts and won't be published."),aa=r._("\u041d\u0430\u0437\u0430\u0434");m.showConfirmationDialog(y,z,r._("Cancel Schedule"),k.unschedulePosts.bind(k,x.page_id,u.SCHEDULED_POSTS,w),aa);}},{allowBatch:false,getLabel:function(w){return r._("Backdate");},key:t.BACKDATE,onClick:function(w,x){var y=x.page_create_time/1000,z=Date.now()/1000,aa=h.createElement(p,{minTime:y,maxTime:z,onSubmit:k.backdatePost.bind(k,x.page_id,u.SCHEDULED_POSTS,w[0])});aa=i.render(aa,j.create('div'));aa.show();}},{allowBatch:true,getLabel:function(w){return w<=1?r._("\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"):r._("Delete ({num_posts})",[r.param('num_posts',w)]);},key:t.DELETE,onClick:function(w,x){var y=r._({"Post?":"Delete Scheduled Post?","Posts?":"Delete Scheduled Posts?"},[r['enum'](w.length===1?'Post?':'Posts?',{'Post?':'Post?','Posts?':'Posts?'})]),z=w.length===1?r._("Post will be permanently deleted."):r._("{numPosts} posts will be permanently deleted.",[r.param('numPosts',w.length)]);m.showConfirmationDialog(y,z,r._("\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"),k.deletePosts.bind(k,x.page_id,u.SCHEDULED_POSTS,w));}},l.CREATE_ADS_FROM_POSTS];f.exports=v;},null);
__d('PageContentTabScheduledPostsColumnsConfig',['React','PageContentTabCellRenderers','PageContentTabConstants','PageContentTabLocations','PageContentTabPostCell.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=j.COLUMNS,o=[{cellRenderer:function(p,q,r){return (h.createElement(l,{post:p,query:r.query}));},isShown:function(){return true;},key:n.POST,label:m._("\u0414\u043e\u043f\u0438\u0441\u0438"),mainColumn:true},{cellRenderer:function(p){return i.renderCellWithNLinesOfText(p,2,null);},isShown:function(p,q){return p===k.ADS_PE;},label:m._("ID"),key:n.ID},{key:n.LOCATION_LANGUAGE,label:m._("\u041a\u043e\u043d\u0444\u0456\u0434\u0435\u043d\u0446\u0456\u0439\u043d\u0456\u0441\u0442\u044c"),isShown:function(p){return p===k.ADS_PE;},cellRenderer:function(p,q,r){return i.renderCellWithNLinesOfText(p,2,null);}},{cellRenderer:i.renderDateWithAdmin,isShown:function(){return true;},key:n.SCHEDULED_PUBLISH_TIME,label:m._("Scheduled"),headerRenderer:function(){return i.renderHeaderWithSortingArrow(m._("Scheduled"));}}];f.exports=o;},null);
__d('PageContentTabScheduledPostsConfig',['React','ComposerEntryPointRef','GraphAPI','GraphAPIFieldUtils','Link.react','PageContentTabConfig','PageContentTabConstants','PageContentTabCreatePostButton.react','PageContentTabCommonConfig','PageContentTabLocations','PageContentTabPostDetailsDialog.react','PageContentTabNullState.react','PageContentTabScheduledPostsActionsConfig','PageContentTabScheduledPostsColumnsConfig','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){if(c.__markCompiled)c.__markCompiled();var x=n.COLUMNS,y=n.LEFT_NAV_GROUPS,z=n.TABS;function aa(ba,ca){return {actions:ca.can_publish_posts?t:null,createOverlay:function(da,ea,fa){return (h.createElement(r,{location:fa,page:ea,post:da,tab:z.SCHEDULED_POSTS}));},columns:u,createTableRow:p.createScheduledPostRow,enabled:true,id:z.SCHEDULED_POSTS,leftNavGroup:y.POSTS,initialSortColumn:x.SCHEDULED_PUBLISH_TIME,initialSortOrder:n.SORT_ORDER_ASC,image:w('/images/pages/finch/glyph-scheduledposts-bg70-16px.png'),label:v._("Scheduled Posts"),getDataLoadPromise:function(da,ea,fa,ga){return (j('2.2').object('page',ea.page_id).edge('scheduled_posts').get({access_token:da,fields:['message','modified_time','creation_time',k.getFieldWithSubfields('admin_creator',['name']),'story_token','permalink_url',k.getFieldWithSubfields('place',['name']),k.getFieldWithSubfields('edit_actions',['edit_time','editor']),'scheduled_publish_time','thumbnail','privacy_description',k.getFieldWithSubfields('promotion_info',['budget','currency']),'og_action_summary'],filtering:fa,sort:ga,summary:true}));},renderErrorState:function(da){return (h.createElement(s,{content:h.createElement('div',null,v._("Something went wrong and we couldn't load your posts. Please try again later. {error}",[v.param('error',da.message)]))}));},createButtonComponent:o,createButtonProps:{entryPoint:i.PAGE_CONTENT_TAB_SCHEDULED_POSTS,label:ba===q.ADS_PE?v._("\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0434\u043e\u043f\u0438\u0441"):null},renderNullState:function(){var da=h.createElement('div',null,v._("You have no scheduled posts. {link}",[v.param('link',h.createElement(l,{href:'/help/389849807718635'},v._("\u0414\u0456\u0437\u043d\u0430\u0442\u0438\u0441\u044c \u0431\u0456\u043b\u044c\u0448\u0435")))]));return (h.createElement(s,{image:w('/images/pages/post_actions/www/empty_scheduled_66x66-2x.png'),content:da}));}};}f.exports=aa;},null);
__d('PageContentTabAdsPostsActionsConfig',['React','ReactDOM','DOM','PageContentTabActions','PageContentTabCommonActionsConfig','PageContentTabCommonConfig','PageContentTabConfig','PageContentTabConstants','PostScheduleDialog.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=o.ACTIONS,s=o.TABS,t=[{allowBatch:true,getLabel:function(u){return u<=1?q._("\u041e\u043f\u0443\u0431\u043b\u0456\u043a\u0443\u0432\u0430\u0442\u0438"):q._("Publish ({num_posts})",[q.param('num_posts',u)]);},key:r.PUBLISH,onClick:function(u,v){m.showConfirmationDialog(q._("Publish Post?"),q._({"post?":"Are you sure you want to publish the selected post?","posts?":"Are you sure you want to publish the selected posts?"},[q['enum'](u.length===1?'post?':'posts?',{'post?':'post?','posts?':'posts?'})]),q._("\u041e\u043f\u0443\u0431\u043b\u0456\u043a\u0443\u0432\u0430\u0442\u0438"),k.publishPosts.bind(k,v.page_id,s.ADS_POSTS,u),null);}},{allowBatch:false,getLabel:function(u){return q._("\u0420\u043e\u0437\u043a\u043b\u0430\u0434");},key:r.SCHEDULE,onClick:function(u,v){var w=h.createElement(p,{timezoneStr:n.timezone_str,onSubmit:k.scheduleDraftPost.bind(k,v.page_id,s.ADS_POSTS,u[0])});w=i.render(w,j.create('div'));w.show();}},{allowBatch:true,getLabel:function(u){return u<=1?q._("\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"):q._("Delete ({num_posts})",[q.param('num_posts',u)]);},key:r.DELETE,onClick:function(u,v){var w=q._({"Post?":"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0434\u043e\u043f\u0438\u0441?","Posts?":"Delete Posts?"},[q['enum'](u.length===1?'Post?':'Posts?',{'Post?':'Post?','Posts?':'Posts?'})]),x=u.length===1?q._("Post will be permanently deleted."):q._("{numPosts} posts will be permanently deleted.",[q.param('numPosts',u.length)]);m.showConfirmationDialog(w,x,q._("\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"),k.deletePosts.bind(k,v.page_id,s.ADS_POSTS,u),null);}},l.CREATE_ADS_FROM_POSTS];f.exports=t;},null);
__d('PageContentTabAdsPostsColumnConfig',['React','PageContentTabCellRenderers','PageContentTabCommonConfig','PageContentTabConstants','PageContentTabInsightsCell.react','PageContentTabLocations','PageContentTabPostCell.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=k.COLUMNS,q=70,r=[{cellRenderer:function(s,t,u){return h.createElement(n,{post:s,query:u.query});},isShown:function(){return true;},key:p.POST,label:o._("\u0414\u043e\u043f\u0438\u0441\u0438"),mainColumn:true},{cellRenderer:function(s){return i.renderCellWithNLinesOfText(s,2,null);},isShown:function(){return true;},label:o._("ID"),key:p.ID},{key:p.LOCATION_LANGUAGE,label:o._("\u041a\u043e\u043d\u0444\u0456\u0434\u0435\u043d\u0446\u0456\u0439\u043d\u0456\u0441\u0442\u044c"),isShown:function(s){return s===m.ADS_PE;},cellRenderer:function(s,t,u){return i.renderCellWithNLinesOfText(s,2,null);}},{cellRenderer:function(s,t,u){return (h.createElement(l,{colors:['#FFCA87'],values:[s],maxValue:j.maxInsightValue(u.posts,'post_impressions_unique')}));},isShown:function(s,t){return s===m.ADS_PE;},getWidth:function(){return q;},label:o._("\u041e\u0445\u043e\u043f\u043b\u0435\u043d\u043d\u044f"),key:p.REACH},{cellRenderer:function(s,t,u){return (h.createElement(l,{colors:['#D094AB'],values:[s],maxValue:j.maxInsightValue(u.posts,'post_engaged_users')}));},isShown:function(s,t){return s===m.ADS_PE;},getWidth:function(){return q;},label:o._("Engagement"),headerRenderer:function(s){return i.renderCellWithNLinesOfText(s,1,o._("Engagement"));},key:p.ENGAGEMENT},{cellRenderer:function(s,t,u){return (h.createElement(l,{colors:['#9DACCB'],values:[s],maxValue:j.maxInsightValue(u.posts,'post_story_adds_unique')}));},isShown:function(s,t){return s===m.ADS_PE;},getWidth:function(){return q;},label:o._("Lifetime Talking About This (Post)"),key:p.PPTP,headerRenderer:function(s){return i.renderCellWithNLinesOfText(s,1,o._("Lifetime Talking About This Post"));}},{cellRenderer:i.renderDateCreatedCell,isShown:function(){return true;},headerRenderer:function(){return i.renderHeaderWithSortingArrow(o._("Date Updated"));},key:p.DATE_CREATED,label:o._("\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e")}];f.exports=r;},null);
__d('PageContentTabAdsPostsConfig',['React','BootloadedComponent.react','ComposerEntryPointRef','GraphAPI','GraphAPIFieldUtils','Link.react','JSResource','PageContentTabConstants','PageContentTabConfig','PageContentTabCommonConfig','PageContentTabCreatePostButton.react','PageContentTabAdsPostsActionsConfig','PageContentTabLocations','PageContentTabNullState.react','PageContentTabAdsPostsColumnConfig','PageContentTabPostDetailsDialog.react','PageContentTabTextUtils','adsGKCheck','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){'use strict';if(c.__markCompiled)c.__markCompiled();var ba=o.COLUMNS,ca=o.LEFT_NAV_GROUPS,da=o.TABS,ea=p.graph_api_version||'2.2';function fa(ga,ha){var ia=!!ga.show_ads_posts;return {actions:s,createButtonComponent:ha===t.ADS_PE?p.force_new_composer?r:i:null,createButtonProps:p.force_new_composer?{entryPoint:j.PAGE_CONTENT_TAB_ADS_POSTS,label:ha===t.ADS_PE?z._("\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0434\u043e\u043f\u0438\u0441"):null}:{bootloadLoader:n('PageContentTabOldComposerDialog.react'),bootloadPlaceholder:h.createElement('span',null),pageID:ga.page_id,entryPoint:j.PAGE_CONTENT_TAB_ADS_POSTS,label:ha===t.ADS_PE?z._("\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0434\u043e\u043f\u0438\u0441"):null},createOverlay:function(ja,ka,la){return (h.createElement(w,{location:la,page:ka,post:ja,tab:da.ADS_POSTS}));},columns:v,createTableRow:function(ja,ka){var la=q._createUnpublishedPostRowBase(ja,ka);la[ba.ID]=x.getPostID(ja.id);if(ja.insights&&ja.insights.data)ja.insights.data.forEach(function(ma){if(ma.name==='post_impressions_unique'){la[ba.REACH]=q.getValueFromInsight(ma);}else if(ma.name==='post_engaged_users'){la[ba.ENGAGEMENT]=q.getValueFromInsight(ma);}else if(ma.name==='post_story_adds_unique')la[ba.PPTP]=q.getValueFromInsight(ma);});return la;},enabled:ia,id:da.ADS_POSTS,leftNavGroup:ca.POSTS,initialSortColumn:ba.DATE_LAST_MODIFIED,initialSortOrder:o.SORT_ORDER_DESC,image:aa('/images/pages/finch/glyph-drafts-bg70-16px.png'),label:z._("Ads Posts"),getDataLoadPromise:function(ja,ka,la,ma){return k(ea).object('page',ka.page_id).edge('ads_posts').get({access_token:ja,fields:['message','modified_time','creation_time',l.getFieldWithSubfields('admin_creator',['name']),'story_token','permalink_url',l.getFieldWithSubfields('place',['name']),l.getFieldWithSubfields('edit_actions',['edit_time','editor']),'privacy_description','thumbnail','og_action_summary','insights'],filtering:la,sort:ma,summary:true});},renderErrorState:function(ja){return (h.createElement(u,{content:h.createElement('div',null,z._("Something went wrong and we couldn't load your posts. Please try again later. {error}",[z.param('error',ja.message)]))}));},renderNullState:function(){var ja=h.createElement('div',null,z._("You haven't created any ads posts yet. {link}",[z.param('link',h.createElement(m,{href:'/help/242107315937441'},'Learn more'))]));return (h.createElement(u,{image:aa('/images/pages/post_actions/www/empty_draft_66x66-2x.png'),content:ja}));}};}f.exports=fa;},null);
__d('BulkVideoUploadDialog.react',['AdsProgressBar.react','AdsPEServerBulkImportFileInput.react','ComposerEntryPointRef','CenteredContainer.react','AccessibleTableParts.react','Image.react','React','FBTableWithStickyHeader.react','VideoUploadFile','XUIButton.react','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogTitle.react','XUIGrayText.react','ix','cx','fbt','keyMirror','immutable'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){if(c.__markCompiled)c.__markCompiled();var ba=l.HeadRow,ca=l.BodyRow,da=n.PropTypes,ea=z({FILE_SELECT:null,UPLOADING:null,FINISH:null}),fa=n.createClass({displayName:'BulkVideoUploadDialog',propTypes:{videoUploader:da.object.isRequired},getInitialState:function(){this.props.videoUploader.subscribe('upload-finished',this.handleUploaded);this.props.videoUploader.subscribe('upload-failed',this.onUploadFailure);this.props.videoUploader.subscribe('post-failed',this.onPostFailure);this.props.videoUploader.subscribe('post-finished',this.onPostSuccess);return {files:[],uploadedList:[],uploadState:ea.FILE_SELECT,totalToUpload:0,numberUploaded:0};},render:function(){var ga=null,ha=null;if(this.state.uploadState===ea.FILE_SELECT){ga=this._renderFileSelector();ha=this._renderFooter();}else if(this.state.uploadState===ea.UPLOADING){ga=this._renderProgressbar();ha=this._renderFooter();}else{ga=this._renderFinishPage();ha=this._renderFinishFooter();}return (n.createElement(r,{shown:true,width:600,fixedTopPosition:50},n.createElement(u,null,y._("Bulk Upload")),n.createElement(s,{fontSize:'inherit'},n.createElement('div',{className:"_3-8j"},ga)),n.createElement(t,null,ha)));},_renderFileSelector:function(){return (n.createElement('div',null,n.createElement('div',{className:"_3-96"},n.createElement(v,{size:'large',display:'block',shade:'dark'},y._("\u0412\u0456\u0434\u0435\u043e\u0437\u0430\u043f\u0438\u0441\u0438")),n.createElement(v,{size:'small',display:'block'},y._("Select one or more videos to import"))),n.createElement(i,{onFilesChange:this.onVideoFileChange,onFileRemove:this.onVideoFileRemove,selectedFiles:this.state.files,multiple:true,hideDialogOnConfirm:false,buttonLabel:y._("Choose Videos"),dropLabel:y._("Drop videos here")})));},_renderProgressbar:function(){var ga=this.state.numberUploaded/this.state.totalToUpload*100;return (n.createElement('div',null,n.createElement(h,{animated:true,value:ga,label:y._("Uploading")})));},_renderFinishPage:function(){return (n.createElement('div',null,n.createElement(k,null,n.createElement(m,{src:w('/images/deprecated/glyphs/flat/big_checkmark.png')}),n.createElement('h1',null,y._("Your upload is complete"))),n.createElement('div',null,n.createElement(o,{outerBorder:true,header:n.createElement(ba,null,n.createElement('th',{style:{width:'40%'}},y._("Filename")),n.createElement('th',{style:{width:'20%'}},y._("\u0421\u0442\u0430\u0442\u0443\u0441")),n.createElement('th',{style:{width:'40%'}},y._("\u041f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f")))},n.createElement('tbody',null,this.state.uploadedList.map(function(ga,ha){return (n.createElement(ca,{key:ha},n.createElement('td',null,ga.filename),n.createElement('td',null,ga.status),n.createElement('td',null,ga.message)));}))))));},_renderFooter:function(){return (n.createElement(q,{className:this.props.className,use:'confirm',href:'#',label:y._("\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438"),onClick:this.onUpload,disabled:this.state.uploadState!==ea.FILE_SELECT}));},_renderFinishFooter:function(){return (n.createElement('div',null,n.createElement(q,{className:this.props.className,use:'confirm',href:'#',label:y._("Upload More"),onClick:this.onUploadMore})));},onVideoFileRemove:function(ga){this.setState({files:this.state.files.filter(function(ha,ia){return ia!==ga;})});},onVideoFileChange:function(ga){this.setState({files:this.state.files.concat(ga)});},handleUploaded:function(event,ga){ga.composerEntryPointRef=j.BULK_UPLOAD;ga.draft=true;this.props.videoUploader.post(ga);},onUploadFailure:function(ga,ha){this.finishedVideoUpload(y._("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0432\u0438\u043a\u043b\u0430\u0434\u0435\u043d\u043d\u044f"),ha.error_summary);},onPostFailure:function(ga,ha){this.finishedVideoUpload(y._("Post Failed"),ha.error_summary);},onPostSuccess:function(ga,ha){this.finishedVideoUpload(y._("\u0423\u0441\u043f\u0456\u0445!"),y._("Video in Drafts"));},finishedVideoUpload:function(ga,ha){this.setState({uploadedList:this.state.uploadedList.concat([{filename:this.getFirstFile().name,status:ga,message:ha}])});this.removeNextVideoFileFromQueue();this.uploadNextVideo();},uploadNextVideo:function(){if(this.state.files.length>0){this.setState({numberUploaded:this.calculateNumberOfVideosUploaded()});var ga=p.fromFile(this.getFirstFile());this.props.videoUploader.upload(ga);}else this.setState({uploadState:ea.FINISH});},removeNextVideoFileFromQueue:function(){this.setState({files:this.state.files.splice(1,this.state.files.length)});},onUpload:function(){this.setState({uploadState:ea.UPLOADING,totalToUpload:this.state.files.length});this.uploadNextVideo();},onUploadMore:function(){this.setState({files:[],uploadedList:[],uploadState:ea.FILE_SELECT,totalToUpload:0,numberUploaded:0});},calculateNumberOfVideosUploaded:function(){var ga=Math.max(this.state.totalToUpload,this.state.files.length);return ga-this.state.files.length;},getFirstFile:function(){return this.state.files[0];}});f.exports=fa;},null);
__d('PageContentTabUploadVideoButton.react',['AsyncRequest','BulkVideoUploadDialog.react','ActorURI','XBulkVideoUploadController','ComposerXVideoUploadDialogController','FileInput.react','Image.react','PageContentTabConstants','PageContentTabLogger','PageContentTabLoggingEvents','React','VideoUploader','XUIButton.react','cx','fbt','xuiglyph'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){'use strict';if(c.__markCompiled)c.__markCompiled();var x=r.PropTypes,y=o.TABS,z=r.createClass({displayName:'PageContentTabUploadVideoButton',propTypes:{className:x.string,pageID:x.string.isRequired,entryPoint:x.string,canBulkUpload:x.bool},getDefaultProps:function(){return {canBulkUpload:false};},getInitialState:function(){return {videoUploader:null,dialogShown:false};},componentWillMount:function(){if(this.props.canBulkUpload)this._initializeBulkUploadComponent();},_initializeBulkUploadComponent:function(){var aa=this.props.pageID,ba=k.getURIBuilder().setString('target_id',this.props.pageID).getURI(),ca=j.create(ba,aa);new h(ca).setHandler((function(da){this.setState({videoUploader:new s(da.payload.video_uploader[0])});}).bind(this)).send();},render:function(){var aa=null,ba=null;if(this.state.videoUploader!=null){if(this.state.dialogShown)aa=r.createElement(i,{videoUploader:this.state.videoUploader});ba=r.createElement('span',{className:"_3-91"},r.createElement(t,{className:this.props.className,onClick:this.onBulkUploadClick,href:'#',label:v._("Bulk Upload")}),aa);}return (r.createElement('div',null,ba,r.createElement(m,{ref:'fileInput',onChange:this._onChange},r.createElement(t,{className:this.props.className,use:'confirm',href:'#',label:'Upload',image:r.createElement(n,{src:w({name:'plus',size:'small',shade:'white'})})}))));},onBulkUploadClick:function(){this.setState({dialogShown:true});},_onChange:function(){p.log(q.VIDEO_UPLOAD_FILE_SELECTED,y.VIDEOS,{});var aa=this.refs.fileInput.getFileInput();l.showDialog({targetID:this.props.pageID,fileInput:aa,composerEntryPointRef:this.props.entryPoint});}});f.exports=z;},null);
__d('PageContentTabCommonVideosActions',['GraphAPI','PageContentTabAccessToken','PageContentTabConstants','PageContentTabDispatcher','PageContentTabLoadingDialog','PageContentTabLogger','PageContentTabLoggingEvents'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=j.ACTIONS,p=j.TABS,q={deleteVideos:function(r,s){l.show();var t=0;s.forEach(function(u){h('2.3').object('video',u.id).remove({access_token:i.getAccessToken()}).done(function(v){k.handlePostRemoved(r,u.id);t++;if(t===s.length)l.hide();},function(v){m.log(n.API_ERROR,p.VIDEOS,{error:JSON.stringify(v),action:o.DELETE,post_id:u.id});});},this);},toggleEmbeddable:function(r){k.handlePostChanged({id:r.id,embeddable_disabled:true});h('2.3').object('video',r.id).post({access_token:i.getAccessToken(),embeddable:!r.embeddable}).done(function(s){k.handlePostChanged({id:r.id,embeddable:!r.embeddable,embeddable_disabled:false});},function(s){m.log(n.API_ERROR,p.VIDEOS,{error:JSON.stringify(s),action:o.EMBEDDABLE,post_id:r.id});});},toggleVideoEmbeds:function(r,s){l.show();var t=0;r.forEach(function(u){h('2.3').object('video',u.id).post({access_token:i.getAccessToken(),embeddable:s}).done(function(v){k.handlePostChanged({id:u.id,embeddable:s});t++;if(t===r.length)l.hide();},function(v){m.log(n.API_ERROR,p.VIDEOS,{error:JSON.stringify(v),action:o.EMBEDDABLE,post_id:u.id});});});},toggleSocialActions:function(r){k.handlePostChanged({id:r.id,social_actions_disabled:true});h('2.3').object('video',r.id).post({access_token:i.getAccessToken(),social_actions:!r.social_actions}).done(function(s){k.handlePostChanged({id:r.id,social_actions:!r.social_actions,social_actions_disabled:false});},function(s){m.log(n.API_ERROR,p.VIDEOS,{error:JSON.stringify(s),action:o.SOCIAL_ACTIONS,post_id:r.id});});},publishToVideosTab:function(r){l.show();var s=0;r.forEach(function(t){h('2.3').object('video',t.id).post({access_token:i.getAccessToken(),publish_to_videos_tab:true}).done(function(u){k.handlePostChanged({id:t.id,secret:false,social_actions:true,no_story:true});s++;if(s===r.length)l.hide();},function(u){m.log(n.API_ERROR,p.VIDEOS,{error:JSON.stringify(u),action:o.PUBLISH_TO_VIDEOS_TAB,post_id:t.id});});});},publishToNewsFeed:function(r){l.show();var s=0;r.forEach(function(t){h('2.3').object('video',t.id).post({access_token:i.getAccessToken(),publish_to_news_feed:true}).done(function(u){k.handlePostChanged({id:t.id,secret:false,social_actions:true,no_story:false});s++;if(s===r.length)l.hide();},function(u){m.log(n.API_ERROR,p.VIDEOS,{error:JSON.stringify(u),action:o.PUBLISH_TO_NEWS_FEED,post_id:t.id});});});},toggleVideosSocialActions:function(r,s){l.show();var t=0;r.forEach(function(u){h('2.3').object('video',u.id).post({access_token:i.getAccessToken(),social_actions:s}).done(function(v){k.handlePostChanged({id:u.id,social_actions:s});t++;if(t===r.length)l.hide();},function(v){m.log(n.API_ERROR,p.VIDEOS,{error:JSON.stringify(v),action:o.SOCIAL_ACTIONS,post_id:u.id});});});}};f.exports=q;},null);
__d('PageContentTabVideosActionsConfig',['ActorURI','AsyncDialog','AsyncRequest','PageContentTabCommonVideosActions','PageContentTabCommonConfig','PageContentTabConstants','VideoEditSource','XVideoEditController','XVideoEditDialogController','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=m.ACTIONS,s=[{allowBatch:false,getLabel:function(t){return q._("Edit Video...");},key:r.EDIT,onClick:function(t,u){var v=u.show_new_video_edit,w=t[0],x;if(v){x=p.getURIBuilder().setInt('video_id',w.id).setEnum('source',n.LIBRARY).getURI();x=h.create(x,u.page_id);i.send(new j(x));}else{x=o.getURIBuilder().setInt('v',w.id).getURI();window.open(x,'_blank');}}},{allowBatch:true,getLabel:function(t,u){if(t===1){var v=u[0];if(v.embeddable){return q._("Prohibit Embedding");}else return q._("Allow Embedding");}else{var w=true,x=0;for(x=0;x<t;x++)if(!u[x].embeddable){w=false;break;}if(w){return q._("Prohibit Embedding ({num_posts})",[q.param('num_posts',t)]);}else return q._("Allow Embedding ({num_posts})",[q.param('num_posts',t)]);}},key:r.EMBEDDABLE,onClick:function(t){var u=true,v=0;for(v=0;v<t.length;v++)if(!t[v].embeddable){u=false;break;}k.toggleVideoEmbeds(t,!u);}},{allowBatch:true,getLabel:function(t,u){if(t===1){var v=u[0];if(v.social_actions){return q._("Block Social Actions");}else return q._("Allow Social Actions");}else{var w=true;for(var x=0;x<t;x++)if(!u[x].social_actions){w=false;break;}if(w){return q._("Block Social Actions ({num_posts})",[q.param('num_posts',t)]);}else return q._("Allow Social Actions ({num_posts})",[q.param('num_posts',t)]);}},key:r.SOCIAL_ACTIONS,onClick:function(t){var u=true;for(var v=0;v<t.length;v++)if(!t[v].social_actions){u=false;break;}k.toggleVideosSocialActions(t,!u);},isAvailable:function(t){for(var u=0;u<t.length;u++)if(!t[u].secret)return false;return true;}},{allowBatch:true,getLabel:function(t){return t<=1?q._("Publish to Videos tab"):q._("Publish to Videos tab ({num_posts})",[q.param('num_posts',t)]);},key:r.PUBLISH_TO_VIDEOS_TAB,onClick:function(t){var u=q._("Update Distribution?"),v=t.length===1?q._("You are about to change the distribution for this video from secret to Videos tab only. Social actions will also be allowed."):q._("You are about to change the distribution for {numPosts} videos from secret to Videos tab only. Social actions will also be allowed.",[q.param('numPosts',t.length)]);l.showConfirmationDialog(u,v,q._("Change Now"),k.publishToVideosTab.bind(k,t),null);},isAvailable:function(t){for(var u=0;u<t.length;u++)if(!t[u].secret)return false;return true;}},{allowBatch:true,getLabel:function(t){return t<=1?q._("Publish to News Feed"):q._("Publish to News Feed ({num_posts})",[q.param('num_posts',t)]);},key:r.PUBLISH_TO_NEWS_FEED,onClick:function(t){var u=q._("Update Distribution?"),v=t.length===1?q._("You are about to change the distribution for this video to become publicly available in News Feed, Page Timeline and Page Videos tab."):q._("You are about to change the distribution for {numPosts} videos to become publicly available in News Feed, Page Timeline and Page Videos tab.",[q.param('numPosts',t.length)]);l.showConfirmationDialog(u,v,q._("Change Now"),k.publishToNewsFeed.bind(k,t),null);},isAvailable:function(t){for(var u=0;u<t.length;u++)if(!t[u].secret&&!t[u].no_story)return false;return true;}},{allowBatch:true,getLabel:function(t){return t<=1?q._("\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"):q._("Delete ({num_posts})",[q.param('num_posts',t)]);},key:r.DELETE,onClick:function(t,u){var v=q._({"Post?":"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0434\u043e\u043f\u0438\u0441?","Posts?":"Delete Posts?"},[q['enum'](t.length===1?'Post?':'Posts?',{'Post?':'Post?','Posts?':'Posts?'})]),w=t.length===1?q._("Video will be permanently deleted."):q._("{numPosts} videos will be permanently deleted.",[q.param('numPosts',t.length)]);l.showConfirmationDialog(v,w,q._("\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"),k.deleteVideos.bind(k,u.page_id,t),null);}}];f.exports=s;},null);
__d('PageContentTabVideoCell.react',['ActorURI','AsyncDialog','AsyncRequest','Image.react','LineClamp.react','Link.react','LoadingIndicator.react','React','VideoEditSource','XVideoEditDialogController','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u=o.PropTypes,v=o.createClass({displayName:'PageContentTabVideoCell',propTypes:{post:u.shape({id:u.string,img:u.string,text:u.string,url:u.string,showNewEdit:u.bool,editing:u.bool}).isRequired,page:u.object},onEditLinkClick:function(event){Event.kill(event);var w=q.getURIBuilder().setInt('video_id',this.props.post.id).setEnum('source',p.LIBRARY).getURI();w=h.create(w,this.props.page.page_id);i.send(new j(w));},render:function(){var w=this.props.post,x=null;if(w.showNewEdit)x=o.createElement(m,{className:"_4nun _3-91",onClick:this.onEditLinkClick},o.createElement('div',{'aria-label':s._("\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0456\u0434\u0435\u043e"),'data-hover':'tooltip'},o.createElement(k,{src:t('images/ads/simple_ads_manager/table/fillform.png')})));var y=w.isEditing?o.createElement(n,{color:'white',size:'medium',className:"_463n"}):null;return (o.createElement('div',null,o.createElement(m,{className:"_2cyk"},o.createElement('img',{src:w.img,className:"_2cyl"}),y,o.createElement('div',{className:"_2cym",'aria-label':w.text,'data-hover':'tooltip'},o.createElement(l,{lines:2},o.createElement('div',{className:"_2cyn"},w.text)))),x));}});f.exports=v;},null);
__d('PageContentTabVideosCommonColumnsConfig',['React','PageContentTabCellRenderers','PageContentTabConstants','fbt'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=j.COLUMNS,m=80,n=[{cellRenderer:function(o){if(!o)return h.createElement('div',null);return i.renderVideoLibraryViews(o.views);},isShown:function(){return true;},key:l.VIDEO_VIEWS,getWidth:function(){return m;},label:k._("Views")},{cellRenderer:i.renderDateCreatedCell,isShown:function(){return true;},headerRenderer:i.renderSortableHeader,key:l.VIDEO_DATE_CREATED,label:k._("Date Created"),mainColumn:true}];f.exports=n;},null);
__d('PageContentTabVideosColumnsConfig',['React','PageContentTabConstants','PageContentTabVideoCell.react','PageContentTabVideosCommonColumnsConfig','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=i.COLUMNS,n=400;function o(p){return [{cellRenderer:function(q,r,s){if(!q)return h.createElement('div',null);return h.createElement(j,{post:q,page:p});},isShown:function(){return true;},key:m.VIDEO,label:l._("\u0412\u0456\u0434\u0435\u043e"),getWidth:function(){return n;}}].concat(k);}f.exports=o;},null);
__d('PageContentTabVideosCommonConfig',['PageContentTabConstants'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h.COLUMNS,j={createVideoRow:function(k,l){var m={},n=k.name?k.name+' ':'',o=k.description?k.description:'';m[i.VIDEO]={id:k.id,text:n+o,img:k.picture||l.picture&&l.picture.url,url:k.permalink_url,showNewEdit:l.show_new_video_edit,isEditing:!!k.isEditing};m[i.VIDEO_VIEWS]={views:k.views};m[i.VIDEO_DATE_CREATED]={time:k.created_time,admin:k.admin_creator&&k.admin_creator.name};return m;}};f.exports=j;},null);
__d('PageContentTabVideosFilterGroups',['fbt'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={BASIC:{key:'basic',text:h._("Basic")},ADVANCED:{key:'advanced',text:h._("Advanced")}};f.exports=i;},null);
__d('PageContentTabVideosFilterValueConfig',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={TRUE:{value:'1'},FALSE:{value:'0'},EXCLUDE_NEWSFEED:{value:'no_story'},SECRET_VIDEO:{value:'unlisted'},EVERYWHERE:{value:'everywhere'}};f.exports=h;},null);
__d('PageContentTabVideosFilterFieldConfig',['AdsCMAccountStore','AdsGenericFilterField','AdsGenericFilterFieldType','AdsGenericFilterOperatorConfig','FBDate','PageContentTabVideosFilterGroups','PageContentTabVideosFilterValueConfig','VideoGraphFields','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=0;function r(u){var v=new l(+u*1000,h.getTimezoneID()||q);return v.format('F j, Y');}function s(u){return Math.floor(+u/1000);}function t(u){var v={TITLE:{text:p._("\u041d\u0430\u0437\u0432\u0430"),field:new i(o.NAME,j.STRING),operators:[k.CONTAIN,k.NOT_CONTAIN],group:m.BASIC},DESCRIPTION:{text:p._("\u041e\u043f\u0438\u0441"),field:new i(o.DESCRIPTION,j.STRING),operators:[k.CONTAIN,k.NOT_CONTAIN],group:m.BASIC},VIEWS:{text:p._("Views"),field:new i(o.VIEWS,j.NUMBER),operators:[k.GREATER_THAN,k.LESS_THAN],group:m.BASIC},DATE_CREATED:{text:p._("Date Created"),field:new i(o.CREATED_TIME,j.DATE_RANGE),operators:[k.IN_RANGE],valueRenderer:r,valueParser:s,group:m.BASIC},DISTRIBUTION:{text:p._("Distribution"),field:new i(o.DISTRIBUTION,j.STRING_SET),operators:[k.EQUAL,k.NOT_EQUAL],values:[n.EVERYWHERE,n.EXCLUDE_NEWSFEED,n.SECRET_VIDEO],valueRenderer:function(w){var x=n.EXCLUDE_NEWSFEED.value,y=n.SECRET_VIDEO.value;if(w===x){return p._("Excluded from News Feed");}else if(w===y){return p._("Secret Video");}else return p._("Everywhere");},group:m.ADVANCED},EMBEDDABLE:{text:p._("Embedding"),field:new i(o.EMBEDDABLE,j.STRING_SET),operators:[k.EQUAL],values:[n.TRUE,n.FALSE],valueRenderer:function(w){return w===n.TRUE.value?p._("Allowed"):p._("Prohibited");},group:m.ADVANCED},SOCIAL_ACTIONS:{text:p._("Social Actions"),field:new i(o.SOCIAL_ACTIONS,j.STRING_SET),operators:[k.EQUAL],values:[n.TRUE,n.FALSE],valueRenderer:function(w){return w===n.TRUE.value?p._("Allowed"):p._("\u0417\u0430\u0431\u043b\u043e\u043a\u043e\u0432\u0430\u043d\u043e");},group:m.ADVANCED}};if(u.show_copyright_management_tab)v=babelHelpers._extends({},v,{COPYRIGHTED:{text:p._("\u0406\u043d\u0442\u0435\u043b\u0435\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0430 \u0432\u043b\u0430\u0441\u043d\u0456\u0441\u0442\u044c"),field:new i(o.COPYRIGHTED,j.STRING_SET),operators:[k.EQUAL],values:[n.TRUE,n.FALSE],valueRenderer:function(w){return w===n.TRUE.value?p._("Monitored"):p._("Not Monitored");},group:m.ADVANCED}});return v;}f.exports=t;},null);
__d("XVideoAssetInsightsDialogController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video\/video_asset\/insights\/",{video_asset_id:{type:"Int",required:true},__asyncDialog:{type:"Int"}});},null,{});
__d("XVideoInsightsDialogController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/insights\/video\/",{v:{type:"Int"},__asyncDialog:{type:"Int"}});},null,{});
__d('PageContentTabVideosConfig',['AdsGenericFilterField','AdsGenericFilterFieldType','AdsGenericFilterOperator','AsyncDialog','AsyncRequest','Bootloader','ComposerEntryPointRef','GraphAPI','PageContentTabConstants','PageContentTabUploadVideoButton.react','PageContentTabVideosActionsConfig','PageContentTabVideosColumnsConfig','PageContentTabNullState.react','PageContentTabVideosCommonConfig','PageContentTabVideosFilterFieldConfig','PageContentTabVideosFilterValueConfig','React','VideoGraphFields','XVideoAssetInsightsDialogController','XVideoInsightsDialogController','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca){if(c.__markCompiled)c.__markCompiled();var da=p.COLUMNS,ea=p.LEFT_NAV_GROUPS;function fa(ga,ha){var ia=!!ga.show_videos_tab;return {actions:ga.can_publish_posts?r:null,columns:s(ga),createButtonComponent:q,createButtonProps:{entryPoint:n.PAGE_CONTENT_TAB_VIDEO_LIBRARY,canBulkUpload:ga.can_bulk_upload},createOverlay:function(ja,ka,la){if(ka.can_show_video_insights){if(ka.show_video_asset_insights){var ma=z.getURIBuilder().setInt('video_asset_id',ja.id).getURI();k.send(new l(ma));}else{var na=aa.getURIBuilder().setInt('v',ja.id).getURI();k.send(new l(na));}}else m.loadModules(["PhotoSnowlift"],function(oa){return oa.bootstrap(ja.permalink_url);});},createTableRow:u.createVideoRow,enabled:ia,id:p.TABS.VIDEOS,leftNavGroup:ea.VIDEOS,image:ca('/images/ads/createflow/objectives/icons_mini/video.png'),label:ba._("Video Library"),hasSearchSupport:!!ga.show_videos_library_search,initialSortColumn:da.VIDEO_DATE_CREATED,initialSortOrder:p.SORT_ORDER_DESC,getDataLoadPromise:function(ja,ka,la,ma){return o('2.3').object('page',ka.page_id).edge('videos').get({access_token:ja,fields:[y.ID,y.DESCRIPTION,y.CREATED_TIME,y.PICTURE,y.UPDATED_TIME,y.VIEWS,y.EMBEDDABLE,y.NAME,y.ADMIN_CREATOR,y.PERMALINK_URL,y.SECRET,y.SOCIAL_ACTIONS,y.NO_STORY],filtering:la,summary:true,sort:ma,all_videos:true});},renderErrorState:function(ja){return (x.createElement(t,{content:x.createElement('div',null,ba._("Something went wrong and we couldn't load your videos. Please try again later. {error}",[ba.param('error',ja.message)]))}));},renderNullState:function(){return (x.createElement(t,{content:x.createElement('div',null,ba._("You don't have any videos."))}));},filterFieldsConfig:v(ga),filterValuesConfig:w,defaultFilterField:v(ga).TITLE,searchFilterField:{field:new h(y.SUMMARY,i.STRING),operator:j.CONTAIN}};}f.exports=fa;},null);
__d('PageContentTabJobPostCell.react',['React'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j;'use strict';i=babelHelpers.inherits(k,h.Component);j=i&&i.prototype;function k(l,m){j.constructor.call(this,l,m);}k.prototype.render=function(){return (h.createElement('div',null,'This is just a placeholder for the job post cell.'));};f.exports=k;},null);
__d('PageContentTabJobPostsColumnConfig',['PageContentTabJobPostCell.react','PageContentTabConstants','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=i.COLUMNS,m=[{cellRenderer:function(n,o,p){return j.createElement(h,{post:n});},isShown:function(){return true;},key:l.JOB_POSTS,label:k._("Job Posts"),mainColumn:true}];f.exports=m;},null);
__d('PageContentTabJobPostsConfig',['ComposerEntryPointRef','GraphAPI','PageContentTabConstants','PageContentTabConfig','PageContentTabCreatePostButton.react','PageContentTabJobPostsColumnConfig','PageContentTabNullState.react','React','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=j.COLUMNS,s=j.LEFT_NAV_GROUPS,t=j.TABS,u=k.graph_api_version||'2.2';function v(w){'use strict';this.actions=null;this.createButtonComponent=l;this.createButtonProps={entryPoint:h.PAGE_CONTENT_TAB_JOB_POSTS};this.columns=m;this.createTableRow=(function(x,y){return this.$PageContentTabJobPostsConfig1(x,y);}).bind(this);this.enabled=!!w.show_job_posts_tab;this.id=t.JOB_POSTS;this.leftNavGroup=s.POSTS;this.image=q('/images/bizsite/busmgr_bookmark_icon_16px.png');this.label=p._("Job Posts");this.getDataLoadPromise=(function(x,y,z,aa){return (this.$PageContentTabJobPostsConfig2(x,y,z,aa));}).bind(this);this.renderErrorState=(function(x){return this.$PageContentTabJobPostsConfig3(x);}).bind(this);this.renderNullState=(function(){return this.$PageContentTabJobPostsConfig4();}).bind(this);}v.prototype.$PageContentTabJobPostsConfig1=function(w,x){'use strict';var y={};y[r.JOB_POST]={};return y;};v.prototype.$PageContentTabJobPostsConfig2=function(w,x,y,z){'use strict';return i(u).object('page',x.page_id).edge('job_offers').get({access_token:w,force_framework:'ent',fields:['job_title','description','city_id'],filtering:y,sort:z,summary:true});};v.prototype.$PageContentTabJobPostsConfig3=function(w){'use strict';return (o.createElement(n,{content:o.createElement('div',null,p._("Something went wrong and we couldn't load your job posts. Please try again later. {error}",[p.param('error',w.message)]))}));};v.prototype.$PageContentTabJobPostsConfig4=function(){'use strict';var w=o.createElement('div',null,p._("You haven't created any job posts yet."));return (o.createElement(n,{image:q('/images/pages/post_actions/www/empty_draft_66x66-2x.png'),content:w}));};f.exports=v;},null);
__d('PageContentTabTabConfig',['AsyncRequest','CommerceSelfServeNUXType','Map','PageContentTabConstants','PageContentTabAdsCanvasConfig','PageContentTabCommerceProductsConfig','PageContentTabCommerceCollectionsConfig','PageContentTabCommerceMerchantSettingsConfig','PageContentTabCommerceShopLinkConfig','PageContentTabVideosCopyrightConfig','PageContentTabVideosCopyrightReportedConfig','PageContentTabVideosCopyrightAllowedConfig','PageContentTabVideosCopyrightNonMatchConfig','PageContentTabVideosCopyrightUnsentReportsConfig','PageContentTabCommercePastOrdersConfig','PageContentTabCommercePendingOrdersConfig','PageContentTabDraftsConfig','PageContentTabExpiredPostsConfig','PageContentTabExpiringPostsConfig','PageContentTabActiveFundraisersConfig','PageContentTabDraftFundraisersConfig','PageContentTabEndedFundraisersConfig','PageContentTabReadyFundraisersConfig','PageContentTabDonationsSettingsConfig','PageContentTabLeadAdsFormsConfig','PageContentTabLocations','PageContentTabInstantArticlesConfig','PageContentTabPublishedPostsConfig','PageContentTabScheduledPostsConfig','PageContentTabAdsPostsConfig','PageContentTabVideosConfig','PageContentTabJobPostsConfig','XCommerceSelfServeMerchantNUXSeenController','fbt','invariant','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa){'use strict';if(c.__markCompiled)c.__markCompiled();var ra=k.LEFT_NAV_GROUPS,sa=k.TABS;ta.shouldUpdateURIOnNavigation=function(ua){return ua!==ga.ADS_PE;};function ta(ua,va){switch(va){case ga.ADS_PE:this.$PageContentTabTabConfig1=new j([[sa.SCHEDULED_POSTS,ja(va,ua)],[sa.PUBLISHED_POSTS,ia(ua,va)],[sa.ADS_POSTS,ka(ua,va)]]);break;case ga.PAGES_MANAGER:this.$PageContentTabTabConfig1=new j([[sa.PUBLISHED_POSTS,ia(ua,va)],[sa.SCHEDULED_POSTS,ja(va,ua)],[sa.DRAFTS,x(ua)],[sa.INSTANT_ARTICLES,ha(ua)],[sa.COMMERCE_PRODUCTS,m(ua)],[sa.COMMERCE_COLLECTIONS,n(ua)],[sa.COMMERCE_PENDING_ORDERS,w(ua)],[sa.COMMERCE_PAST_ORDERS,v(ua)],[sa.COMMERCE_MERCHANT_SETTINGS,o(ua)],[sa.COMMERCE_SHOP_LINK,p(ua)],[sa.LEAD_ADS_FORMS,fa(ua,va)],[sa.EXPIRING_POSTS,z(ua)],[sa.EXPIRED_POSTS,y(ua)],[sa.ADS_POSTS,ka(ua,va)],[sa.VIDEOS,la(ua,va)],[sa.VIDEOS_COPYRIGHT,q(ua,va)],[sa.REPORTED,r(ua,va)],[sa.ALLOWED,s(ua,va)],[sa.NON_MATCHES,t(ua,va)],[sa.UNSENT_REPORTS,u(ua,va)],[sa.JOB_POSTS,new ma(ua)],[sa.ACTIVE_FUNDRAISERS,aa(ua)],[sa.READY_FUNDRAISERS,da(ua)],[sa.DRAFT_FUNDRAISERS,ba(ua)],[sa.ENDED_FUNDRAISERS,ca(ua)],[sa.DONATIONS_SETTINGS,ea(ua)],[sa.ADS_CANVAS,l(ua)]]);break;default:pa(0);}}ta.prototype.getTabs=function(){return this.$PageContentTabTabConfig1;};ta.prototype.getLeftNavTabGroups=function(ua){var va=[{label:oa._("\u0414\u043e\u043f\u0438\u0441\u0438"),subTabs:this.$PageContentTabTabConfig2(ra.POSTS),id:ra.POSTS,image:qa('/images/pages/finch/glyph-pagesfeed-bg70-16px.png'),defaultSelected:sa.PUBLISHED_POSTS,isAlwaysAvailable:false},{label:oa._("\u0412\u0456\u0434\u0435\u043e"),subTabs:this.$PageContentTabTabConfig2(ra.VIDEOS),id:ra.VIDEOS,image:qa('/images/ads/createflow/objectives/icons_mini/video.png'),defaultSelected:sa.VIDEOS,isAlwaysAvailable:false},{label:oa._("Copyright Management"),subTabs:this.$PageContentTabTabConfig2(ra.VIDEOS_COPYRIGHT),id:ra.VIDEOS_COPYRIGHT,image:qa('/images/ads/createflow/objectives/icons_mini/video.png'),defaultSelected:sa.VIDEOS_COPYRIGHT,isAlwaysAvailable:false},{label:oa._("Lead Ads Forms"),subTabs:this.$PageContentTabTabConfig2(ra.LEAD_ADS_FORMS),id:ra.LEAD_ADS_FORMS,image:qa('/images/ads/createflow/objectives/icons_mini/lead_generation.png'),defaultSelected:sa.LEAD_ADS_FORMS,isAlwaysAvailable:false},{label:oa._("Shop"),markNUXSeen:function(){var wa=na.getURIBuilder().setInt('page_id',ua.page_id).setEnum('nux_type',i.SHOP_TAB_IN_PUBLISHING_TOOLS).getURI();new h(wa).send();},nuxContent:ua.show_shop_nux?oa._("New! Manage products, collections and orders for your Shop."):null,subTabs:this.$PageContentTabTabConfig2(ra.SHOP),id:ra.SHOP,image:qa('/images/commerce/tag.png'),defaultSelected:sa.COMMERCE_PRODUCTS,isAlwaysAvailable:false},{label:oa._("Fundraisers"),subTabs:this.$PageContentTabTabConfig2(ra.FUNDRAISERS),id:ra.FUNDRAISERS,image:qa('/images/discovery/entity_card_actions/custom_cta/donate.png'),defaultSelected:sa.ACTIVE_FUNDRAISERS,isAlwaysAvailable:false}];this.$PageContentTabTabConfig1.forEach(function(wa){if(!wa.leftNavGroup&&wa.enabled)va.push({subTabs:[],label:wa.label,id:wa.id,image:wa.image,defaultSelected:wa.id,isAlwaysAvailable:true});});return va;};ta.prototype.$PageContentTabTabConfig2=function(ua){var va=[];this.$PageContentTabTabConfig1.forEach(function(wa){if(wa.leftNavGroup===ua&&wa.enabled)va.push(wa);});return va;};f.exports=ta;},null);
__d('PageContentTabTable.react',['CSS','FixedDataTable.react','FixedDataTableColumn.react','Map','PageContentTabConstants','PageContentTabColumnConfig','PageContentTabDispatcher','PageContentTabLocations','PageContentTabLogger','PageContentTabLoggingEvents','PageContentTabTableMixin','React','ReactDOM','XUICardSection.react','XUICheckboxInput.react','cx','getOwnObjectValues','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){if(c.__markCompiled)c.__markCompiled();var z=s.PropTypes,aa=l.COLUMNS,ba=l.COLUMN_GROUPS,ca=l.TABS,da='select',ea=s.createClass({displayName:'PageContentTabTable',mixins:[r],propTypes:{createOverlay:z.func,location:z.oneOf(x(o)),onTableRowClick:z.func,query:z.string,sort:z.shape({key:z.oneOf(Object.keys(aa)),order:z.oneOf([l.SORT_ORDER_ASC,l.SORT_ORDER_DESC])}),tab:z.oneOf(Object.keys(ca)).isRequired},getInitialState:function(){var fa={};this.props.columns.forEach((function(ga){if(ga.isShown&&ga.isShown(this.props.location,this.props.page))fa[ga.key]=true;}).bind(this));return {columnIDs:fa};},render:function(){var fa=[];if(this.props.showCheckboxColumn)fa.push(this._createCheckBoxColumn());var ga=new k();this.props.columns.forEach(function(ia){if(!ia.group)return;var ja=ga.get(ia.group)||[];ja.push(ia);ga.set(ia.group,ja);});m.getColumns(this.props.location,this.props.tableWidth,this.props.columns.filter((function(ia){return this.state.columnIDs[ia.key];}).bind(this)),this.props.sort,this._onSortChanged,ga,this._changeSelectedColumns,this.props.showCheckboxColumn).forEach(function(ia){return fa.push(ia);});var ha=this._getSize();return (s.createElement(u,{className:y(this.props.className,"_1v6t")},s.createElement(i,{headerHeight:ha.headerHeight,maxHeight:ha.maxHeight,onRowClick:this._onRowClick,overflowX:'hidden',overflowY:'auto',rowsCount:this.props.posts.length,rowHeight:ha.rowHeight,rowClassNameGetter:this._getRowClassName,rowGetter:this._createRow,width:ha.width},fa),s.createElement('div',{ref:'dialogPlaceHolder'})));},_onSortChanged:function(fa){n.handleSortChanged(this.props.page.page_id,this.props.tab,fa);},_onRowClick:function(fa,ga,ha){var ia=fa.target;if(!this.props.showCheckboxColumn){if(this.props.createOverlay||this.props.onTableRowClick){this._logRowClicked(ja);this.props.createOverlay&&this._showOnclickDialog(ga);this._handleCustomRowClick(ga);}return;}var ja=this.props.posts[ga].id;if(ia&&!this._handleSelectRowTarget(ia,ja))return;if(this.props.createOverlay)this._showOnclickDialog(ga);this._handleCustomRowClick(ga);this._logRowClicked(ja);},_logRowClicked:function(fa){p.log(q.ROW_CLICKED,this.props.tab,{page_id:this.props.page.page_id,post_id:fa});},_handleCustomRowClick:function(fa){if(this.props.onTableRowClick)this.props.onTableRowClick(this.props.posts[fa],this.props.page);},_showOnclickDialog:function(fa){var ga=t.render(this.props.createOverlay(this.props.posts[fa],this.props.page,this.props.location),t.findDOMNode(this.refs.dialogPlaceHolder));if(ga.show)ga.show();},_changeSelectedColumns:function(fa,ga){p.log(q.COLUMN_SWITCHED,this.props.tab,{selected_column:fa,deselected_column:ga});var ha=this.state.columnIDs;delete ha[ga];ha[fa]=true;this.setState({columnIDs:ha});}});f.exports=ea;},null);
__d('PageContentTabPostsView.react',['ClientIDs','React','PageContentTabAccessToken','PageContentTabConfig','PageContentTabConstants','PageContentTabActionsBar.react','PageContentTabDataLoader','PageContentTabDispatcher','PageContentTabFilterUtils','PageContentTabQueryStore','PageContentTabHeader.react','PageContentTabLocations','PageContentTabLogger','PageContentTabLoggingEvents','PageContentTabNoPostsFoundView.react','PageContentTabPostsStore','PageContentTabSortUtils','PageContentTabTabConfig','PageContentTabTable.react','URI','XUICard.react','XUICardSection.react','XUISpinner.react','areEqual','cx','getOwnObjectValues','setImmediate'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha){'use strict';if(c.__markCompiled)c.__markCompiled();var ia=l.TABS,ja=i.PropTypes,ka=i.createClass({displayName:'PageContentTabPostsView',propTypes:{currentPage:ja.number,filter:ja.shape({api_spec:ja.array,key:ja.string}),isSelected:ja.bool.isRequired,label:ja.string.isRequired,location:ja.oneOf(ga(s)).isRequired,page:ja.shape({page_id:ja.string,picture:ja.object,admins:ja.array}).isRequired,store:ja.instanceOf(w).isRequired,tab:ja.oneOf(Object.keys(ia)).isRequired,tabConfig:ja.shape({actions:ja.arrayOf(ja.shape({allowBatch:ja.bool,getLabel:ja.func.isRequired,key:ja.string.isRequired,onClick:ja.func.isRequired})),createOverlay:ja.func,createTableRow:ja.func.isRequired,columns:ja.arrayOf(ja.shape({key:ja.string.isRequired,label:ja.string.isRequired,isShown:ja.func,cellRenderer:ja.func,headerRenderer:ja.func,initialSortOrder:ja.oneOf([l.SORT_ORDER_ASC,l.SORT_ORDER_DESC])})).isRequired,highlightKey:ja.string,highlightValue:ja.any,filterFieldsConfig:ja.object,filterValuesConfig:ja.object,defaultFilterField:ja.object,searchFilterField:ja.object,getDataLoadPromise:ja.func.isRequired,initialSortColumn:ja.string,initialSortOrder:ja.oneOf([l.SORT_ORDER_ASC,l.SORT_ORDER_DESC]),createButtonComponent:ja.func,createButtonProps:ja.object,renderErrorState:ja.func.isRequired,renderNullState:ja.func.isRequired,rowHeight:ja.number,onMount:ja.func,onUpdateCount:ja.func,showCheckboxColumn:ja.bool,sideButtonComponent:ja.func,sideButtonProps:ja.shape({entryPoint:ja.string}),customRender:ja.func,onTableRowClick:ja.func,clientSortAndFilter:ja.func,customStateConfig:ja.shape({getInitialState:ja.func.isRequired,getStateOnPostChange:ja.func}),hasSearchSupport:ja.bool,hideActionsButton:ja.bool}),tableHeight:ja.number,tableWidth:ja.number.isRequired},componentWillMount:function(){this._queryStoreListener=q.addListener('change',this._onQueryStoreChange);if(this.props.tabConfig.customStateConfig){this.props.store.setCustomTabState(this.props.tabConfig.customStateConfig.getInitialState());this.props.store.setOnPostChangeCustomTabStateGetter(this.props.tabConfig.customStateConfig.getStateOnPostChange);}},componentWillUnmount:function(){if(this._queryStoreListener){this._queryStoreListener.remove();this._queryStoreListener=null;}},componentDidMount:function(){if(!this.props.isSelected)return;this.refreshPosts();this.props.tabConfig.onMount&&this.props.tabConfig.onMount();},componentDidUpdate:function(la,ma){if(this.state.ready&&!ma.ready&&this.props.isSelected){t.log(u.TABLE_CONTENTS_SHOWN,this.props.tabConfig.id,{elapsed_time:Date.now()-this._startWaitingForReadyTime});}else if(!this.state.ready&&ma.ready)this._startWaitingForReadyTime=Date.now();},getDefaultProps:function(){return {page:{picture:{},admins:[]}};},getInitialState:function(){this._startWaitingForReadyTime=Date.now();return {error:this.props.store.getError(),filter:null,hasNextPage:false,ready:false,currentPage:this.props.currentPage||0,selectedPosts:{},posts:[],sort:{key:this.props.tabConfig.initialSortColumn,order:this.props.tabConfig.initialSortOrder},totalCount:0,queryKey:undefined,customTabState:{}};},render:function(){if(this.state.error)return (i.createElement('div',{style:{width:this.props.tableWidth+'px'}},this.props.tabConfig.renderErrorState(this.state.error)));if(this.props.tabConfig.customRender){var la=this.props.tabConfig.customRender(this.props.page.page_id,this.state.posts,this.state.customTabState);if(la)return (i.createElement(ba,{className:"_4sol"},la));}var ma=this.state.currentPage,na=k.posts_per_page,oa=ma*na,pa=oa+this.state.posts.length;return (i.createElement(ba,{className:"_4sol"},i.createElement(r,{count:this.state.totalCount,label:this.props.label,selectedCount:Object.keys(this.state.selectedPosts).length,tab:this.props.tab,createButtonComponent:this.props.tabConfig.createButtonComponent,createButtonProps:this.props.tabConfig.createButtonProps,customTabState:this.state.customTabState,pageID:this.props.page.page_id}),this._renderActionsSection(oa,pa),i.createElement(z,{className:!this.state.ready||!this.state.posts.length?"hidden_elem":'',createOverlay:this.props.tabConfig.createOverlay,createTableRow:this.props.tabConfig.createTableRow,location:this.props.location,columns:this.props.tabConfig.columns,page:this.props.page,posts:this.state.posts.slice(),customTabState:this.state.customTabState,highlightKey:this.props.tabConfig.highlightKey,highlightValue:this.props.tabConfig.highlightValue,query:p.getSearchTextFromFilterSet(this.state.filter,this.props.tabConfig.searchFilterField),onTableRowClick:this.props.tabConfig.onTableRowClick,rowHeight:this.props.tabConfig.rowHeight,selectionChanged:this._selectionChanged,selectedPosts:this.state.selectedPosts,showCheckboxColumn:this.props.tabConfig.showCheckboxColumn,sort:this.state.sort,tab:this.props.tab,tableHeight:this.props.tableHeight,tableWidth:this.props.tableWidth}),i.createElement(da,{background:'light',className:"_52tg"+(this.state.ready?' '+"hidden_elem":''),size:'large'}),i.createElement('div',{style:{width:this.props.tableWidth+'px'}},i.createElement(v,{className:!this.state.ready||this.state.posts.length||!this.state.filter?"hidden_elem":''})),i.createElement('div',{className:!this.state.ready||this.state.posts.length||this.state.filter?"hidden_elem":'',style:{width:this.props.tableWidth+'px'}},this.props.tabConfig.renderNullState())));},_renderActionsSection:function(la,ma){var na=null;if(!this.state.ready)na='hidden_elem';if(!this.state.posts.length&&!this.state.filter)na='hidden_elem';var oa=p.getSearchTextFromFilterSet(this.state.filter,this.props.tabConfig.searchFilterField);return (i.createElement(ca,{className:na},i.createElement(m,{actionConfig:this.props.tabConfig.actions,beginIndex:la,location:this.props.location,numPosts:this.state.totalCount,endIndex:ma,hasNextPage:this.state.hasNextPage,page:this.props.page,selectedPosts:this.state.posts.filter((function(pa){return this.state.selectedPosts[pa.id];}).bind(this)),showNextPage:this._showNextPage,showPreviousPage:this._showPreviousPage,query:oa,tab:this.props.tabConfig.id,hasSearchSupport:this.props.tabConfig.hasSearchSupport,hideActionsButton:this.props.tabConfig.hideActionsButton,filterFieldsConfig:this.props.tabConfig.filterFieldsConfig,filterValuesConfig:this.props.tabConfig.filterValuesConfig,hasPaginationSupport:!!this.props.tabConfig.clientSortAndFilter,showNotice:this._shouldShowNotice(),onRefreshView:this._onRefreshView,defaultFilterField:this.props.tabConfig.defaultFilterField,sideButtonComponent:this.props.tabConfig.sideButtonComponent,sideButtonProps:this.props.tabConfig.sideButtonProps,customTabState:this.state.customTabState})));},_shouldShowNotice:function(){return this.props.store.shouldShowStaleContentNotice()&&this.props.store.isFilterApplied();},_onRefreshView:function(){o.handleStaleContentNoticeStatus(this.props.page.page_id,this.props.tab,false);this._updatePosts(this.state.filter,this.state.sort);},_showNextPage:function(){if(y.shouldUpdateURIOnNavigation(this.props.location)){var la=aa.getRequestURI();la.addQueryData({current_page:this.state.currentPage+1});window.history.replaceState({},null,la);}o.handlePagingChanged(this.props.page.page_id,this.props.tab,this.state.queryKey,this.state.currentPage+1);this.setState({currentPage:this.state.currentPage+1,hasNextPage:false,ready:false,selectedPosts:{}},this.refreshPosts);},_showPreviousPage:function(){if(y.shouldUpdateURIOnNavigation(this.props.location)){var la=aa.getRequestURI();la.addQueryData({current_page:this.state.currentPage-1});window.history.replaceState({},null,la);}this.setState({currentPage:this.state.currentPage-1,ready:false,selectedPosts:{}},this.refreshPosts);},refreshPosts:function(){var la=this.props.store.getError();if(la){this.setState({error:la});return;}var ma=this.state.queryKey,na=this.props.store.isInitialLoadComplete(ma);if(!na)return;var oa=this.props.store.getTotalCount(ma),pa=this.state.currentPage,qa=k.posts_per_page,ra=pa*qa,sa=ra+qa;this.props.tabConfig.onUpdateCount&&this.props.tabConfig.onUpdateCount(oa);this.props.store.getPosts(ra,sa,(function(ta){var ua=this.props.store.getCustomTabState(),va=!ea(ua,this.state.customTabState);if(ea(ta,this.state.posts)&&!va&&ta.length){this.setState({ready:true});return;}var wa={hasNextPage:this.props.store.hasNextPage(sa,ma),posts:ta,ready:true,selectedPosts:{},totalCount:oa};if(va)wa.customTabState=ua;if(this.props.tabConfig.clientSortAndFilter)wa.posts=this.props.tabConfig.clientSortAndFilter(ta,ua);this.setState(wa);}).bind(this),ma);},_filter:null,_queryText:null,_sort:null,_onQueryStoreChange:function(){var la=q.getFilter(this.props.page.page_id,this.props.tab),ma=q.getQuery(this.props.page.page_id,this.props.tab),na=q.getSort(this.props.page.page_id,this.props.tab);if(this._filter!==la){this._filter=la;ha(this._onFilterChange.bind(this,la));}if(this._queryText!==ma){this._queryText=ma;ha(this._onQueryChange.bind(this,ma));}if(this._sort!==na){this._sort=na;ha(this._sortChanged.bind(this,na));}},_selectionChanged:function(la){this.setState({selectedPosts:la});},_onFilterChange:function(la){if(la===null){t.log(u.FILTERS_CLEARED,this.props.tabConfig.id,{});}else t.log(u.FILTERS_APPLIED,this.props.tabConfig.id,{filter_set:la.toString()});var ma=q.getQuery(this.props.page.page_id,this.props.tab);this._updateFilter(la,ma);},_onQueryChange:function(la){if(la&&la.length)t.log(u.SEARCH,this.props.tabConfig.id,{});this._updateFilter(this.state.filter,la);},_sortChanged:function(la){t.log(u.TABLE_SORTED,this.props.tabConfig.id,{sort_column:la.key});this._updatePosts(this.state.filter,la);},_updateFilter:function(la,ma){var na=p.addSearchToFilterSet(la,this.props.tabConfig.searchFilterField,ma?ma:'');this._updatePosts(na,this.state.sort);},_clearFilter:function(){this._onFilterChange(null);},updatePosts:function(){this._updatePosts(this.state.filter,this.state.sort);},_updatePosts:function(la,ma){var na=h.getNewClientID(),oa=this.props.tabConfig.getDataLoadPromise(j.getAccessToken(),this.props.page,la?la.toAPI():[],x.toAPI(ma.key,ma.order));n.fetchPosts(oa,this.props.tabConfig.id,na,this.props.page.page_id);if(this.props.store.shouldShowStaleContentNotice())o.handleStaleContentNoticeStatus(this.props.page.page_id,this.props.tab,false);this.setState({filter:la,ready:false,currentPage:0,selectedPosts:{},sort:ma,queryKey:na},this.refreshPosts);o.handleQueryKeyChanged(this.props.page.page_id,this.props.tab,na);}});f.exports=ka;},null);
__d('PageContentTabStore',['EventEmitter','PageContentTabConstants','PageContentTabDispatcher'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l,m=i.ACTION_TYPES;k=babelHelpers.inherits(n,h);l=k&&k.prototype;function n(){'use strict';l.constructor.call(this);this.$PageContentTabStore1={};j.register(this.$PageContentTabStore2.bind(this));}n.prototype.getPage=function(o){'use strict';o(this.$PageContentTabStore1);};n.prototype.initPage=function(o){'use strict';Object.assign(this.$PageContentTabStore1,o);};n.prototype.$PageContentTabStore2=function(o){'use strict';if(o.action.actionType===m.INIT_PAGE){this.initPage(o.action.page);this.emit('change');}};f.exports=new n();},null);
__d('PageContentTab.react',['Arbiter','GraphAPI','Layout.react','Map','PageContentTabAccessToken','PageContentTabColumnConfig','PageContentTabDispatcher','PageContentTabLocations','PageContentTabLeftNav.react','PageContentTabLogger','PageContentTabLoggingEvents','PageContentTabPageDownloader','PageContentTabPostsView.react','PageContentTabStoresConfig','PageContentTabStore','PageContentTabTabConfig','PageContentTabTabs','React','ScrollColumn.react','SubscriptionsHandler','URI','VideoGraphFields','cx','getOwnObjectValues'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea){'use strict';if(c.__markCompiled)c.__markCompiled();var fa=j.Column;c('PageContentTabStore');var ga=y.PropTypes,ha=y.createClass({displayName:'PageContentTab',_subscriptions:aa,_tabs:k,_leftNavGroups:Array,propTypes:{appId:ga.string.isRequired,currentPage:ga.number,location:ga.oneOf(ea(o)).isRequired,page_access_token:ga.string.isRequired,payload:ga.shape({page_id:ga.string.isRequired,page_name:ga.string,page_create_time:ga.number,product_catalog_id:ga.string}).isRequired,section:ga.oneOf(ea(x)).isRequired,show_nested_left_nav:ga.bool,tableHeight:ga.number,tableWidth:ga.number},getDefaultProps:function(){return {tableWidth:m.TABLE_WIDTH};},getInitialState:function(){return {counts:new k(),page:this.props.payload,selectedTab:this.props.section};},render:function(){var ia=new k();this._tabs.forEach(function(ka,la){return ka.enabled?ia.set(la,ka):null;});var ja=[];ia.forEach((function(ka){return ja.push(this._renderMainView(ka));}).bind(this));return (y.createElement(j,{className:"_3-8x"},y.createElement(fa,{className:"_3oen"},y.createElement(z,null,y.createElement(p,{counts:this.state.counts,groups:this._leftNavGroups,nested:this.props.show_nested_left_nav,selectedTab:this.state.selectedTab,onTabChanged:this._tabChanged,tabs:ia}))),y.createElement(fa,{className:"_2mpu"+(this.props.location===o.PAGES_MANAGER?' '+"_3bq2":'')},ja)));},componentWillMount:function(){var ia=this.setState.bind(this);this._subscriptions=new aa();var ja=new w(this.props.payload,this.props.location);this._tabs=ja.getTabs();this._leftNavGroups=ja.getLeftNavTabGroups(this.props.payload);n.handlePageInitialization(this.props.payload);l.init(this.props.page_access_token);s.fetchPageInfo(this.props.payload.page_id);this._tabs.forEach((function(ka){if(!ka.enabled||ka.externalURI)return;var la=u.getStore(this.props.payload,ka);this._subscriptions.addSubscriptions(la.addListener('postsChanged',(function(){var ma=this.state.counts;ma.set(ka.id,la.getTotalCount());this.setState({counts:ma});this.refs[ka.id].refreshPosts();}).bind(this)));}).bind(this));this._subscriptions.addSubscriptions(v.addListener('change',function(){return v.getPage(function(ka){return ia({page:ka});});}));this._subscriptions.addSubscriptions(h.subscribe('video/edited'+this.props.payload.page_id,this._handleVideoEdited));q.init(this.props.payload.page_id,this.props.location);q.log(r.INITIAL_LOAD,this.state.selectedTab,{});},componentWillUnmount:function(){this._subscriptions.release();},_handleVideoEdited:function(ia,ja){if(!ja||!ja.videoID)return;n.handlePostChanged({id:ja.videoID,isEditing:true});i('2.3').object('video',ja.videoID).get({access_token:this.props.page_access_token,fields:[ca.ID,ca.DESCRIPTION,ca.CREATED_TIME,ca.PICTURE,ca.UPDATED_TIME,ca.VIEWS,ca.EMBEDDABLE,ca.NAME,ca.ADMIN_CREATOR,ca.PERMALINK_URL,ca.SECRET,ca.SOCIAL_ACTIONS,ca.NO_STORY]}).done(function(ka){n.handlePostChanged({id:ka.id,description:ka.description,created_time:ka.created_time,picture:ka.picture,updated_time:ka.updated_time,views:ka.views,embeddable:ka.embeddable,name:ka.name,admin_creator:ka.admin_creator,permalink_url:ka.permalink_url,secret:ka.secret,social_actions:ka.social_actions,no_story:ka.no_story,isEditing:false});},function(ka){n.handlePostChanged({id:ja.videoID,isEditing:false});});},_renderMainView:function(ia){if(ia.externalURI)return null;return (y.createElement('div',{key:ia.id,className:!this._isSelected(ia.id)?"hidden_elem":''},y.createElement(t,{currentPage:this._isSelected(ia.id)?this.props.currentPage:null,isSelected:this._isSelected(ia.id),label:ia.label,location:this.props.location,page:this.state.page,ref:ia.id,store:u.getStore(this.props.payload,ia),tab:ia.id,tabConfig:this._tabs.get(ia.id),tableHeight:this.props.tableHeight,tableWidth:this.props.tableWidth})));},_tabChanged:function(ia){if(this._isSelected(ia)){q.log(r.TAB_REFRESHED,ia,{});this.refs[ia].updatePosts();return;}if(w.shouldUpdateURIOnNavigation(this.props.location)){var ja=ba.getRequestURI();ja.addQueryData({section:ia}).removeQueryData('current_page');window.history.replaceState({},null,ja);}q.log(r.TAB_SWITCHED,ia,{});this.setState({selectedTab:ia},this.refs[ia].refreshPosts);},_isSelected:function(ia){return this.state.selectedTab===ia;}});f.exports=ha;},null);