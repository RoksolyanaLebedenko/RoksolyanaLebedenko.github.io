/*!CK:982919247!*//*1448177367,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["cZVQ4"]); }

__d('Typography.atlas',['arrayContains','cx','invariant'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=['xs','s','m','l','xl'],l='regular',m='bold',n=[l,m],o=['blue','dark','green','light','medium','red','white'],p={Colors:o,Sizes:k,Weights:n,getClassName:function(q,r,s){!(!q||h(k,q))?j(0):undefined;!(!s||h(o,s))?j(0):undefined;!(!r||h(n,r))?j(0):undefined;return "_4vo9"+(q==='l'?' '+"_4vod":'')+(q==='xl'?' '+"_4voe":'')+(r===m?' '+"_4voh":'')+(q==='m'?' '+"_4voc":'')+(s==='light'?' '+"_4von":'')+(s==='medium'?' '+"_4voo":'')+(s==='dark'?' '+"_4vop":'')+(s==='red'?' '+"_4voq":'')+(s==='blue'?' '+"_4vor":'')+(q==='s'?' '+"_4vob":'')+(s==='white'?' '+"_4vos":'')+(q==='xs'?' '+"_4voa":'')+(s==='green'?' '+"_43jm":'')+(r===l?' '+"_4vom":'');}};f.exports=p;},null);
__d('Text.atlas',['React','ReactComponentWithPureRenderMixin','Typography.atlas','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes,m='inline',n='block',o=h.createClass({displayName:'Text',propTypes:{display:l.oneOf([m,n]).isRequired,color:l.oneOf(j.Colors),size:l.oneOf(j.Sizes),weight:l.oneOf(j.Weights)},getDefaultProps:function(){return {display:m};},mixins:[i],render:function(){var p=this.props,q=p.color,r=p.size,s=p.weight,t=babelHelpers.objectWithoutProperties(p,['color','size','weight']),u=k(this.props.className,j.getClassName(r,s,q));if(this.props.display===n)return (h.createElement('div',babelHelpers._extends({},t,{className:u}),this.props.children));return (h.createElement('span',babelHelpers._extends({},t,{className:u}),this.props.children));}});f.exports=o;},null);
__d('TextInput.atlas',['AbstractTextInput.react','React','ReactComponentWithPureRenderMixin','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=i.PropTypes,n=i.createClass({displayName:'TextInput',propTypes:{onChange:m.func.isRequired,disabled:m.bool,max:m.string,min:m.string,placeholder:m.string,onFocus:m.func,onBlur:m.func,onKeyDown:m.func,onKeyUp:m.func,onPaste:m.func,type:m.string,value:m.string},mixins:[j],_onChange:function(event){var o=event.target.value;this.props.onChange(o);},focusInput:function(){this.refs&&this.refs.textField.focusInput();},render:function(){var o=l(this.props.className,"_q-i"+(!!this.props.disabled?' '+"_2rq7":''));return (i.createElement(h,{className:o,'data-testid':this.props['data-testid'],disabled:this.props.disabled,max:this.props.max,min:this.props.min,onBlur:this.props.onBlur,onChange:this._onChange,onFocus:this.props.onFocus,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp,onPaste:this.props.onPaste,placeholder:this.props.placeholder,ref:'textField',type:this.props.type,value:this.props.value}));}});f.exports=n;},null);
__d('VideoUploadProcessingDialog.react',['React','ReactLayeredComponentMixin','VideoEditSource','XUIDialog.react','XUIDialogTitle.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogCloseButton.react','XUIDialogButton.react','XVideoEditController','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=h.PropTypes,t=h.createClass({displayName:'VideoUploadProcessingDialog',mixins:[i],propTypes:{onClose:s.func},getInitialState:function(){return {dialogShown:true};},_onToggle:function(u){this.setState({dialogShown:u});if(!u&&this.props.onClose)this.props.onClose();},_onEditVideoButtonClick:function(){this.setState({dialogShown:false});},componentWillReceiveProps:function(u){if(u.show)this.setState({dialogShown:true});},renderLayers:function(){var u=q.getURIBuilder().setInt('v',this.props.videoID).setEnum('source',j.PROCESSING_DIALOG).getURI();return {dialog:h.createElement(k,{shown:this.state.dialogShown,width:400,onToggle:this._onToggle},h.createElement(l,null,r._("\u041e\u0431\u0440\u043e\u0431\u043a\u0430 \u0432\u0456\u0434\u0435\u043e\u0437\u0430\u043f\u0438\u0441\u0443")),h.createElement(m,null,r._("\u0412\u0456\u0434\u0435\u043e \u043d\u0430\u0440\u0430\u0437\u0456 \u043e\u0431\u0440\u043e\u0431\u043b\u044f\u0454\u0442\u044c\u0441\u044f. \u041c\u0438 \u0441\u043f\u043e\u0432\u0456\u0441\u0442\u0438\u043c\u043e \u0432\u0430\u0441, \u043a\u043e\u043b\u0438 \u0432\u043e\u043d\u043e \u0431\u0443\u0434\u0435 \u0433\u043e\u0442\u043e\u0432\u0435.")),h.createElement(n,null,h.createElement(o,null),h.createElement(p,{action:'confirm',label:r._("\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0456\u0434\u0435\u043e"),href:u,onClick:this._onEditVideoButtonClick,target:'_blank'})))};},render:function(){return h.createElement('span',null);}});f.exports=t;},null);
__d('VideoUploadLeaveConfirmationDialog.react',['React','ReactLayeredComponentMixin','XUIDialog.react','XUIDialogTitle.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogButton.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=h.PropTypes,q=h.createClass({displayName:'VideoUploadLeaveConfirmationDialog',mixins:[i],propTypes:{onContinue:p.func,onCancel:p.func},renderLayers:function(){return {dialog:h.createElement(j,{shown:true,layerHideOnBlur:false,width:700},h.createElement(k,null,o._("Discard Post?")),h.createElement(l,null,o._("If you leave now, this post will be discarded. To save your post, choose one of the options under the Publish button.")),h.createElement(m,null,h.createElement(n,{label:o._("Return to Post"),onClick:this.props.onContinue}),h.createElement(n,{use:'confirm',action:'cancel',label:o._("\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"),onClick:this.props.onCancel})))};},render:function(){return h.createElement('div',null);}});f.exports=q;},null);
__d('ComposerXVideoUploadDialog.react',['Arbiter','DOMContainer.react','Image.react','React','ReactLayeredComponentMixin','SubscriptionsHandler','VideoUploadProcessingDialog.react','XUICloseButton.react','XUIDialog.react','XUIDialogBody.react','XUIDialogTitle.react','VideoUploadLeaveConfirmationDialog.react','OptimisticVideoPostUtils','cx','ix','fbt','setImmediate'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){if(c.__markCompiled)c.__markCompiled();var y=k.PropTypes,z=770,aa=489,ba=k.createClass({displayName:'ComposerXVideoUploadDialog',mixins:[l],_subscriptionsHandler:null,propTypes:{composer:y.object.isRequired,composerID:y.string.isRequired,canShowOptimisticPost:y.bool,showProcessingDialog:y.bool,onCancel:y.func,onComplete:y.func,onDone:y.func,compactMode:y.bool},getDefaultProps:function(){return {canShowOptimisticPost:false,showProcessingDialog:true,compactMode:false};},getInitialState:function(){return {stage:'editing',videoID:null,showLeaveConfirmationDialog:false,showThrobber:false};},componentDidMount:function(){var ca=new m();this._subscriptionsHandler=ca;ca.addSubscriptions(h.subscribe('videoUpload/started',(function(da){this.setState({stage:'editing',videoID:null});}).bind(this)),h.subscribe('videoUpload/complete',(function(da,ea){if(this.props.onComplete)this.props.onComplete(ea.videoID);var fa=this.props.showProcessingDialog&&(!this.props.canShowOptimisticPost||!t.shouldShowOptimisticPost(ea));this.setState({stage:'finished',videoID:ea.videoID,shouldShowVideoUploadProcessingDialog:fa});}).bind(this)),h.subscribe('videoUpload/showThrobber',(function(da,ea){if(this.props.composerID===ea.composerID)this.setState({showThrobber:true});}).bind(this)),h.subscribe('videoUpload/hideThrobber',(function(da,ea){if(this.props.composerID===ea.composerID)this.setState({showThrobber:false});}).bind(this)));},componentWillUnmount:function(){if(this._subscriptionsHandler)this._subscriptionsHandler.release();},onCancelPostingClick:function(){this.setState({showLeaveConfirmationDialog:false});if(this.props&&this.props.onCancel)this.props.onCancel();},onContinuePostingClick:function(){this.setState({showLeaveConfirmationDialog:false});},onComposerDialogClose:function(){this.setState({showLeaveConfirmationDialog:true});},onDone:function(){if(this.props&&this.props.onDone){var ca=this.props.onDone;x((function(){return ca({videoID:this.state.videoID});}).bind(this));}},renderLayers:function(){if(this.state.stage=='finished'){if(!this.state.shouldShowVideoUploadProcessingDialog){this.onDone();return {};}return {dialog:k.createElement(n,{videoID:this.state.videoID,onClose:this.onDone,show:true})};}else return {dialog:k.createElement(p,{shown:true,layerHideOnBlur:false,width:this.props.compactMode?aa:z,fixedTopPosition:100},k.createElement(r,{showCloseButton:false},w._("\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0432\u0456\u0434\u0435\u043e"),k.createElement('div',{className:"_51-u"},this.renderThrobber(),k.createElement(o,{onClick:this.onComposerDialogClose,className:"_51-t"}))),k.createElement(q,{useCustomPadding:true},k.createElement(i,null,this.props.composer)))};},renderThrobber:function(){return (k.createElement(j,{className:"_2z4p"+(this.state.showThrobber?' '+"_2z4q":''),src:v('/images/loaders/indicator_blue_small.gif')}));},render:function(){var ca;if(this.state.showLeaveConfirmationDialog)ca=k.createElement(s,{onContinue:this.onContinuePostingClick,onCancel:this.onCancelPostingClick});return (k.createElement('div',null,ca));}});f.exports=ba;},null);
__d("XComposerXVideoUploadDialogController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composerx\/video\/dialog\/",{target_id:{type:"Int",required:true},source_id:{type:"String",required:true},entry_point:{type:"Enum",required:true,enumType:1}});},null,{});
__d('ComposerXVideoUploadDialogController',['ActorURI','Arbiter','AsyncDialog','AsyncRequest','ComposerEntryPointRef','ComposerXVideoUploadDialog.react','DOM','React','ReactDOM','URI','XComposerXVideoUploadDialogController','goURI'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t={};function u(z){return t[z];}function v(z){t[z.getID()]=z;}function w(z){return z in t;}var x=l.TIMELINE;function y(z,aa,ba,ca,da){'use strict';this.$ComposerXVideoUploadDialogController1=z;this.$ComposerXVideoUploadDialogController2=aa;this.$ComposerXVideoUploadDialogController3=ba;this.$ComposerXVideoUploadDialogController4=ca;this.$ComposerXVideoUploadDialogController5=da;this.$ComposerXVideoUploadDialogController6=y.$ComposerXVideoUploadDialogController7(this.$ComposerXVideoUploadDialogController1,this.$ComposerXVideoUploadDialogController3);this.$ComposerXVideoUploadDialogController8=false;this.$ComposerXVideoUploadDialogController9=n.create('span');n.appendContent(document.body,this.$ComposerXVideoUploadDialogController9);this.$ComposerXVideoUploadDialogController10();}y.prototype.getID=function(){'use strict';return this.$ComposerXVideoUploadDialogController6;};y.prototype.$ComposerXVideoUploadDialogController11=function(z){'use strict';this.$ComposerXVideoUploadDialogController12=z;if(this.$ComposerXVideoUploadDialogController13)this.show();};y.prototype.$ComposerXVideoUploadDialogController10=function(){'use strict';var z=r.getURIBuilder().setInt('target_id',this.$ComposerXVideoUploadDialogController1).setString('source_id',this.$ComposerXVideoUploadDialogController6).setEnum('entry_point',this.$ComposerXVideoUploadDialogController3).getURI();z=h.create(z,this.$ComposerXVideoUploadDialogController1);j.send(new k(z));};y.prototype.$ComposerXVideoUploadDialogController14=function(){'use strict';p.render(o.createElement(m,{canShowOptimisticPost:this.$ComposerXVideoUploadDialogController5,composer:this.$ComposerXVideoUploadDialogController12,composerID:this.$ComposerXVideoUploadDialogController6,showProcessingDialog:!this.$ComposerXVideoUploadDialogController4,onCancel:this.$ComposerXVideoUploadDialogController15.bind(this),onDone:this.$ComposerXVideoUploadDialogController16.bind(this)}),this.$ComposerXVideoUploadDialogController9);this.$ComposerXVideoUploadDialogController8=true;};y.prototype.show=function(){'use strict';if(this.$ComposerXVideoUploadDialogController12){this.$ComposerXVideoUploadDialogController13=false;i.inform('ComposerXFilesStore/filesAdded/'+this.$ComposerXVideoUploadDialogController6+'/videoupload',{fileInput:this.$ComposerXVideoUploadDialogController2},i.BEHAVIOR_PERSISTENT);this.$ComposerXVideoUploadDialogController14();}else this.$ComposerXVideoUploadDialogController13=true;};y.prototype.$ComposerXVideoUploadDialogController15=function(){'use strict';i.inform('videoUpload/cancel',{composerID:this.$ComposerXVideoUploadDialogController6});this.hide();};y.prototype.$ComposerXVideoUploadDialogController16=function(z){'use strict';this.hide();if(this.$ComposerXVideoUploadDialogController4)s(new q('/photo.php').addQueryData('v',z.videoID),true);};y.prototype.hide=function(){'use strict';p.unmountComponentAtNode(this.$ComposerXVideoUploadDialogController9);this.$ComposerXVideoUploadDialogController8=false;};y.$ComposerXVideoUploadDialogController7=function(z,aa){'use strict';return aa+'_'+z;};y.showDialog=function(z){'use strict';z.composerEntryPointRef=z.composerEntryPointRef||x;var aa=y.$ComposerXVideoUploadDialogController7(z.targetID,z.composerEntryPointRef);if(!w(aa))v(new y(z.targetID,z.fileInput,z.composerEntryPointRef,z.redirectToPermalinkOnPost||false,z.canShowOptimisticPost||false));u(aa).show();};y.setVideoComposer=function(z,aa){'use strict';if(t[z])t[z].$ComposerXVideoUploadDialogController11(aa);};f.exports=y;},null);
__d('RegexMatchSearchSource',['AbstractSearchSource','SearchableEntry'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j,k;j=babelHelpers.inherits(l,h);k=j&&j.prototype;function l(m,n,o){'use strict';k.constructor.call(this);this.$RegexMatchSearchSource1=new RegExp(m);this.$RegexMatchSearchSource2=n||'';this.$RegexMatchSearchSource3=o||{};}l.prototype.searchImpl=function(m,n,o){'use strict';if(m&&this.$RegexMatchSearchSource1.test(m)){var p=new i({uniqueID:m,title:m,type:this.$RegexMatchSearchSource2,auxiliaryData:babelHelpers._extends({},this.$RegexMatchSearchSource3,{isRegexEntry:true})});n([p],m);return;}n([],m);};f.exports=l;},null);
__d('PageContentTabConfirmationDialog.react',['LayerHideOnEscape','LayerFadeOnHide','React','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=j.PropTypes,r=j.createClass({displayName:'PageContentTabConfirmationDialog',propTypes:{cancelLabel:q.string,title:q.string.isRequired,body:q.string.isRequired,confirmationLabel:q.string.isRequired,onConfirm:q.func.isRequired},render:function(){var s=this.props.cancelLabel||p._("\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438");return (j.createElement(k,{behaviors:{LayerHideOnEscape:h,LayerFadeOnHide:i},shown:true,width:450},j.createElement(o,null,this.props.title),j.createElement(l,null,this.props.body),j.createElement(n,null,j.createElement(m,{action:'cancel',label:s,use:'default'}),j.createElement(m,{action:'cancel',label:this.props.confirmationLabel,onClick:this.props.onConfirm,use:'confirm'}))));}});f.exports=r;},null);
__d('VideoComposerUploadFileInput',['ComposerXVideoUploadDialogController'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k,l,m){'use strict';j.subscribe('change',function(n,event){var o=false,p=false;if(m){o=m.redirectToPermalinkOnPost;p=m.canShowOptimisticPost;}h.showDialog({targetID:k,fileInput:j,composerEntryPointRef:l,redirectToPermalinkOnPost:o,canShowOptimisticPost:p});});}f.exports=i;},null);
__d("XPagesManagerFeaturedItemsCountController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/content_tab\/featured_items_count\/",{});},null,{});