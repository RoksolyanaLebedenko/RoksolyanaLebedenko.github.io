/*!CK:3530914017!*//*1448177361,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["qqViE"]); }

__d("OptimisticVideoPostEvent",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={VIDEO_POST_ADDED:"video_post_added",VIDEO_POST_REMOVED:"video_post_removed",POST_REMOVED_WITHOUT_REPLACEMENT:"post_removed_without_replacement"};},null,{});
__d("OptimisticVideoPostSource",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PAGES_TIMELINE:"pages_timeline",VIDEO_HUB:"video_hub"};},null,{});
__d("PromotePanelItemStatus",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NONE:0,ACTIVE:1,PAUSED:2,IN_REVIEW:3,REJECTED:4,ERROR:5};},null,{});
__d("VideoEditSource",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PROCESSING_DIALOG:"processing_dialog",OPTIMISTIC_VIDEO_POST:"optimistic_video_post",PERMALINK:"permalink",TIMELINE:"timeline",SNOWLIFT:"snowlift",LIBRARY:"library",UNKNOWN:"unknown"};},null,{});
__d('PageAdminUpsellUtils',['AsyncRequest','DOM','PagesTimelineController','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l={};Object.assign(l,{refreshUnits:function(m,n){new h().setURI('/ajax/pages/upsell/refresh').setData({target:m,initial_load:n}).setErrorHandler(k).send();},replaceUnits:function(m,n){var o=i.scry(document.body,'#rightCol .ego_column');if(o.length>0)i.replace(o[0],m);for(var p=1;p<o.length;++p)i.replace(o[p],m.cloneNode(true));if(n)j.adjustAds();}});f.exports=l;},null);
__d('FBProfilePhotoShadow.react',['React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=h.createClass({displayName:'FBProfilePhotoShadow',render:function(){var l=this.props,m=l.className,n=l.children,o=babelHelpers.objectWithoutProperties(l,['className','children']),p=h.Children.only(n);return (h.createElement('div',babelHelpers._extends({},o,{className:j(m,"_38vo")}),h.cloneElement(p,{className:j(p.props.className,"_44ma")})));}});f.exports=k;},null);
__d('ProgressBar.react',['React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l=h.createClass({displayName:'UIProgressBar',propTypes:{value:k.number.isRequired,label:k.string,min:k.number,max:k.number,size:k.oneOf(['small','large']),typesetting:k.oneOf(['float','inline']),isRounded:k.bool},getDefaultProps:function(){return {min:0,max:100,size:'large',typesetting:'inline',isRounded:false};},_calculatePercentage:function(){var m=this.props,n=Math.min(Math.max((m.value-m.min)/(m.max-m.min)*100,0),100);return n;},_hasLabel:function(){return this.props.label!=null&&this.props.size!=='small';},_isFloatingLabel:function(){return this._hasLabel()&&this.props.typesetting==='float';},_getLabel:function(){if(!this._hasLabel())return null;return this.props.label;},_getSpacer:function(){if(this._isFloatingLabel())return h.createElement('div',{className:"_6a"},' ');return null;},_getFillArea:function(){var m=Math.round(this._calculatePercentage()),n="_5e4k"+(m===0?' '+"_5e2d":'')+(m===100?' '+"_5e4j":''),o=this._getLabel();if(o)o=h.createElement('span',{className:"_5e2h"},o);var p=h.createElement('div',{className:n,style:{width:m+'%'}},this._getSpacer(),o);return p;},_getUnfillArea:function(){var m=this._getLabel();if(!m)return null;m=h.createElement('span',{className:"_5e2h _5e2n"},m);if(this._isFloatingLabel()){var n=this._calculatePercentage(),o={left:n+'%',width:n+'%'},p=h.createElement('div',{className:"_5e2g",style:o},this._getSpacer(),m);return p;}return m;},render:function(){var m="_5e4h"+(!this._isFloatingLabel()?' '+"_5e2k":'')+(this._isFloatingLabel()?' '+"_5e2j":'')+(this.props.size==='small'?' '+"_5e2l":'')+(this.props.isRounded===true?' '+"_5e2m":'');if(this._isFloatingLabel()){return (h.createElement('div',babelHelpers._extends({},this.props,{className:j(this.props.className,m)}),h.createElement('div',{className:"_5e2k"},this._getUnfillArea(),this._getFillArea())));}else return (h.createElement('div',babelHelpers._extends({},this.props,{className:j(this.props.className,m)}),this._getUnfillArea(),this._getFillArea()));}});f.exports=l;},null);
__d('OptimisticPostMetadata.react',['React','XUIText.react','Link.react','BackgroundImage.react','cx','getDOMImageSize'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=470,o=263,p=472,q=h.createClass({displayName:'OptimisticPostMetadata',componentDidMount:function(){m(this.props.image,this.onGetSize);},getInitialState:function(){return {height:o};},onGetSize:function(r,s,t){var u=r<s?n:o;this.setState({height:u});},render:function(){return (h.createElement('div',null,h.createElement('div',{className:"_1gi0"},h.createElement(i,{size:'medium',weight:'bold',display:'block'},h.createElement(j,null,this.props.title)),h.createElement(i,{size:'medium',weight:'normal',display:'block'},this.props.description)),h.createElement('div',{className:"_2bc-"},h.createElement(k,{src:this.props.image,backgroundSize:'contain',width:p,height:this.state.height}))));}});f.exports=q;},null);
__d('OptimisticPostUFISection.react',['Image.react','React','UFICommentLink.react','UFILikeLink.react','UFIShareLink.react','XUICardSection.react','XUIPopoverButton.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=' \u00b7 ',q=' \u0020 ',r=i.createClass({displayName:'OptimisticPostUFISection',getDefaultProps:function(){var s={showSlimUFI:true,truncateNumbers:false,inlineShareHighlight:true};return {ufiExperiments:s};},render:function(){var s=null;if(this.props.isPagePost)s=i.createElement('div',{className:"_1f6t _3uni"},i.createElement('div',{className:"_3m9g"},i.createElement('div',{className:"_40yk"},i.createElement(n,{haschevron:true,image:i.createElement(h,{width:16,height:16,src:this.props.profilePicture}),ref:'open-menu-button',suppressed:true,type:'button'}))));return (i.createElement(m,null,i.createElement('div',{className:"_57w"+(!this.props.ufiExperiments.showSlimUFI?' '+"_2-jb":'')},s,i.createElement('div',{className:"_a7s _3399"},i.createElement('div',{className:"_524d"},i.createElement('div',{className:"_42nr"},i.createElement('span',null,i.createElement(k,{likeAction:true,ufiExperiments:this.props.ufiExperiments})),i.createElement('span',null,i.createElement(j,null)),i.createElement('span',null,i.createElement(l,null))))))));}});f.exports=r;},null);
__d('StoryProfile.react',['BackgroundImage.react','FBProfilePhotoShadow.react','Image.react','ImageBlock.react','InlineBlock.react','Link.react','PrivacyConst','React','XUIGrayText.react','XUIText.react','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t=o.PropTypes,u=o.createClass({displayName:'StoryProfile',propTypes:{privacySetting:t.number.isRequired,privacyIndicator:t.object,profilePicture:t.string.isRequired,username:t.string.isRequired,uploadTime:t.string.isRequired,profileURL:t.string,openProfileURLInNewPage:t.bool},getDefaultProps:function(){return {openProfileURLInNewPage:false};},_renderPrivacyIndicator:function(){if(this.props.privacyIndicator){return this.props.privacyIndicator;}else{var v=this.props.privacySetting===n.BaseValue.CUSTOM,w=this.props.privacySetting===n.BaseValue.EVERYONE;return (o.createElement(h,{width:13,height:12,className:"_14g-"+(w?' '+"_14g_":'')+(v?' '+"_14h0":'')}));}},_renderProfileName:function(){var v,w;if(this.props.profileURL){var x;if(this.props.openProfileURLInNewPage)x='_blank';w='bold';v=o.createElement(m,{href:this.props.profileURL,target:x},this.props.username);}else v=this.props.username;return (o.createElement(q,{className:"_14gz",size:'medium',weight:w,display:'block'},v));},render:function(){return (o.createElement(k,{spacing:'medium',className:s(this.props.className,"_56-3")},o.createElement(i,null,o.createElement(j,{className:"_56-4",src:this.props.profilePicture})),o.createElement(l,{alignv:'middle',height:40,fullWidth:true},this._renderProfileName(),o.createElement('div',null,o.createElement(p,{shade:'light',size:'small',display:'inline'},this.props.uploadTime,' · '),this._renderPrivacyIndicator()))));}});f.exports=u;},null);
__d("XVideoEditController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video\/edit\/",{v:{type:"Int",required:true},album:{type:"Int"},source:{type:"Enum",enumType:1}});},null,{});
__d("XVideoEditDialogController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video\/edit\/dialog\/",{video_id:{type:"Int",required:true},source:{type:"Enum",enumType:1},story_dom_id:{type:"String"},timeline_identifier:{type:"String"},__asyncDialog:{type:"Int"}});},null,{});
__d('OptimisticVideoPost.react',['ActorURI','AsyncRequest','LeftRight.react','OptimisticPostMetadata.react','OptimisticPostUFISection.react','PrivacyConst','ProgressBar.react','React','StoryProfile.react','VideoEditSource','VideoThumbnailConfig','XUIButton.react','XUICard.react','XUICardSection.react','fbt','cx','XVideoEditController','XVideoEditDialogController'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){if(c.__markCompiled)c.__markCompiled();var z=o.PropTypes,aa=o.createClass({displayName:'OptimisticVideoPost',propTypes:{profilePicture:z.string,username:z.string,privacySetting:z.number,metadataTitle:z.string,metadataDescription:z.string,thumbnail:z.string,videoID:z.string,isPagePost:z.bool,shouldShowVideoEditDialog:z.bool,targetID:z.string},getDefaultProps:function(){return {profilePicture:'',username:'',privacySetting:m.BaseValue.EVERYONE,metadataTitle:'',metadataDescription:'',thumbnail:'',progress:0,videoID:'',isPagePost:false,shouldShowVideoEditDialog:false};},getThumbnail:function(){if(this.props.thumbnail)return this.props.thumbnail;return r.defaultThumbnailURL;},onEditClick:function(){var ba;if(this.props.shouldShowVideoEditDialog){ba=y.getURIBuilder().setInt('video_id',this.props.videoID).setEnum('source',q.OPTIMISTIC_VIDEO_POST).getURI();if(this.props.targetID)ba=h.create(ba,this.props.targetID);new i(ba).send();}else{ba=x.getURIBuilder().setInt('v',this.props.videoID).setEnum('source',q.OPTIMISTIC_VIDEO_POST).getURI();window.open(ba,'_blank');}},render:function(){var ba=v._("\u0429\u043e\u0439\u043d\u043e"),ca=v._("Preparing... {number} \u0025",[v.param('number',this.props.progress)]),da=o.createElement(u,{background:'light-wash'},o.createElement('div',{className:"_pro"},o.createElement('div',{className:"_2uu3"},o.createElement('span',null,o.createElement(n,{className:"_prp",value:this.props.progress,label:ca})),o.createElement(s,{className:"_4p26",label:'Edit Video',onClick:this.onEditClick})))),ea=this.props.profilePicture||'',fa=this.props.username||'',ga=this.props.privacySetting||-1,ha=o.createElement(p,{className:"_4r8g",profilePicture:ea,username:fa,uploadTime:ba,privacySetting:ga}),ia=o.createElement(k,{title:this.props.metadataTitle,description:this.props.metadataDescription,image:this.getThumbnail()}),ja=v._("\u0420\u0435\u043a\u043b\u0430\u043c\u0443\u0432\u0430\u0442\u0438 \u0434\u043e\u043f\u0438\u0441"),ka=this.props.isPagePost?o.createElement('div',{className:"_5c_1"},o.createElement(j,null,o.createElement('div',null),o.createElement(s,{label:ja,use:'confirm'}))):null,la=o.createElement(l,{ufiExperiments:this.props.ufiExperiments,profilePicture:this.props.profilePicture,isPagePost:this.props.isPagePost}),ma=o.createElement('div',null,ha,ia,ka,la),na=o.createElement('div',{className:"_5c_3"});return (o.createElement('div',{className:!!this.props.isPagePost?"_5ctl":''},o.createElement(t,{className:"_4p28"},da,o.createElement('div',{className:"_prq"},ma,na))));}});f.exports=aa;},null);
__d('OptimisticVideoPostLogger',['BanzaiLogger'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={logEvent:function(event,j,k,l,m){h.log('OptimisticVideoPostLoggerConfig',{number_of_posts:k,source:j,event:event,target_id:l,video_id:m});}};f.exports=i;},null);
__d("OptimisticVideoPostUtils",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={shouldShowOptimisticPost:function(i){if(i.isScheduledPost||i.isHiddenFromTimeline||i.isSecret||!i.isPageToPage&&!i.isToUserProfile||i.isDraft)return false;return true;}};f.exports=h;},null);
__d("XVideoGenerateStoryController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video\/generate_story\/",{video_id:{type:"Int"},feed_location:{type:"Enum",enumType:0},timeline_identifier:{type:"String"}});},null,{});
__d("XVideoOptimisticPostingController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video\/optimistic_posting\/",{video_id:{type:"Int",required:true}});},null,{});
__d('OptimisticVideoPostList.react',['Arbiter','AsyncRequest','ChannelConstants','FBFeedLocations','OptimisticVideoPost.react','OptimisticVideoPostEvent','OptimisticVideoPostLogger','OptimisticVideoPostSource','OptimisticVideoPostUtils','PagesComposer','React','ReactDOM','Run','XVideoGenerateStoryController','XVideoOptimisticPostingController'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){if(c.__markCompiled)c.__markCompiled();var w=b.URL||b.webkitURL||{},x='video_encode',y=7,z=5000,aa=r.createClass({displayName:'OptimisticVideoPostList',getInitialState:function(){return {videoPostsMetadata:{},videoPosts:[]};},componentDidMount:function(){var ba=h.subscribe('videoUpload/complete',this.onVideoPostSubmitted),ca=h.subscribe(this.getChannelType(),this.onEncodeUpdate);t.onLeave(function(){return ba.unsubscribe();});t.onLeave(function(){return ca.unsubscribe();});if(this.props.data.length>0)this.initializePosts();},initializePosts:function(){var ba=[],ca={};for(var da=0;da<this.props.data.length;da++){if(!p.shouldShowOptimisticPost(this.props.data[da]))break;var ea=babelHelpers._extends({},this.props.data[da],{shouldRender:false});ea.progress=0;var fa=ea.videoID;ea.inactivityTimer=this.startInactivityTimer(fa);ba.push(fa);ca[fa]=ea;}this.setState({videoPostsMetadata:ca,videoPosts:ba});},getChannelType:function(){return j.getArbiterType(x);},updateVideoData:function(ba){var ca={};ca[ba.videoID]=babelHelpers._extends({},ba,{shouldRender:true,fakeProgressTimer:setInterval((function(){return this.fakeInitialProgress(ba.videoID);}).bind(this),700),inactivityTimer:this.startInactivityTimer(ba.videoID)});ca[ba.videoID].progress=0;var da=babelHelpers._extends({},this.state.videoPostsMetadata,ca),ea=[ba.videoID].concat(this.state.videoPosts);this.setState({videoPostsMetadata:da,videoPosts:ea});this.logEvent(m.VIDEO_POST_ADDED,ba.videoID);},onVideoPostSubmitted:function(ba,ca){if(!p.shouldShowOptimisticPost(ca))return;if(!ca.isToUserProfile){this.updateVideoData(ca);return;}var da=v.getURIBuilder().setInt('video_id',ca.videoID).getURI();new i().setURI(da).setHandler((function(ea){this.updateVideoData(ea.payload);}).bind(this)).send();},checkVideoStatus:function(ba){new i().setURI('/ajax/video/encode/feedback/ping/').setData({video_id:ba}).setHandler((function(ca){var da=ca.getPayload();if(ca.error||da.is_ready){this.onEncodeFinish(ba);}else this.restartInactivityTimer(ba);}).bind(this)).send();},startInactivityTimer:function(ba){return setTimeout((function(){return this.checkVideoStatus(ba);}).bind(this),z);},restartInactivityTimer:function(ba){this.stopInactivityTimer(ba);var ca=babelHelpers._extends({},this.state.videoPostsMetadata),da=babelHelpers._extends({},ca[ba]);da.inactivityTimer=this.startInactivityTimer(ba);ca[ba]=da;this.setState({videoPostsMetadata:ca});},stopInactivityTimer:function(ba){clearTimeout(this.state.videoPostsMetadata[ba].inactivityTimer);},logEvent:function(event,ba){n.logEvent(event,o.PAGES_TIMELINE,this.state.videoPosts.length,this.props.targetID,ba);},fakeInitialProgress:function(ba){var ca=this.state.videoPostsMetadata[ba].progress;if(ca>y){this.stopFakeInitialProgress(ba);return;}var da=babelHelpers._extends({},this.state.videoPostsMetadata),ea=babelHelpers._extends({},da[ba]);ea.progress+=1;da[ba]=ea;this.setState({videoPostsMetadata:da});this.restartInactivityTimer(ba);},stopFakeInitialProgress:function(ba){if(!this.state.videoPostsMetadata[ba].fakeProgressTimer)return;var ca=babelHelpers._extends({},this.state.videoPostsMetadata);clearTimeout(ca[ba].fakeProgressTimer);var da=babelHelpers._extends({},ca[ba]);da.fakeProgressTimer=null;ca[ba]=da;this.setState({videoPostsMetadata:ca});},onEncodeUpdate:function(ba,ca){var da=String(ca.obj.videoID);if(!this.state.videoPostsMetadata[da])return;var ea=babelHelpers._extends({},this.state.videoPostsMetadata);if(ca.obj.progress<ea[da].progress)return;this.stopFakeInitialProgress(da);var fa=babelHelpers._extends({},ea[da]);fa.progress=ca.obj.progress;fa.shouldRender=true;ea[da]=fa;this.setState({videoPostsMetadata:ea});if(this._isEncodingFinished(ca.obj.stage)){this.onEncodeFinish(da);}else this.restartInactivityTimer(da);},_isEncodingFinished:function(ba){return ba==='finish';},onEncodeFinish:function(ba){if(!this.state.videoPostsMetadata[ba])return;this.stopInactivityTimer(ba);var ca=u.getURIBuilder().setInt('video_id',ba).setEnum('feed_location',k.PAGE_TIMELINE).getURI();new i().setURI(ca).setData({video_id:ba,feed_location:k.PAGE_TIMELINE}).setHandler((function(da){return this.handleRequest(da,ba);}).bind(this)).send();},handleRequest:function(ba,ca){var da=ba.payload;if(da){q.renderStory(s.findDOMNode(this),da);}else this.logEvent(m.POST_REMOVED_WITHOUT_REPLACEMENT,ca);this.removeOptimisticPost(ca);},removeOptimisticPost:function(ba){var ca=babelHelpers._extends({},this.state.videoPostsMetadata);delete ca[ba];var da=this.state.videoPosts;da=this.removeVideoID(da,ba);this.setState({videoPostsMetadata:ca,videoPosts:da});this.logEvent(m.VIDEO_POST_REMOVED,ba);},removeVideoID:function(ba,ca){var da=ba.indexOf(ca);ba.splice(da,1);return ba;},renderOptimisticPost:function(ba){if(!ba.shouldRender)return r.createElement('div',{key:ba.videoID});var ca;if(ba.videoThumbnail){ca=ba.videoThumbnail;}else if(w.createObjectURL&&ba&&ba.videoThumbnailBlob){ca=w.createObjectURL(ba.videoThumbnailBlob);this.setThumbnailURL(ca,ba.videoID);}else ca='';return (r.createElement(l,{username:ba.userDisplayName,profilePicture:ba.userProfilePictureURI,metadataTitle:ba.videoTitle,metadataDescription:ba.videoDescription,thumbnail:ca,videoID:ba.videoID,key:ba.videoID,progress:ba.progress,ufiExperiments:this.props.ufiExperiments,privacySetting:ba.privacySetting,isPagePost:!!this.props.targetID,shouldShowVideoEditDialog:this.props.shouldShowVideoEditDialog,targetID:this.props.targetID}));},setThumbnailURL:function(ba,ca){var da=babelHelpers._extends({},this.state.videoPostsMetadata);da[ca].videoThumbnail=ba;this.setState({videoPostsMetadata:da});},render:function(){var ba=this.state.videoPostsMetadata,ca=this.state.videoPosts.map((function(da){return this.renderOptimisticPost(ba[da]);}).bind(this));return (r.createElement('ul',null,ca));}});f.exports=aa;},null);
__d('OptimisticVideoPostController',['React','ReactDOM','CSS','OptimisticVideoPostList.react'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l={init:function(m,n,o,p,q){this._postsContainer=m;i.render(h.createElement(k,{data:n,targetID:o,ufiExperiments:p,shouldShowVideoEditDialog:q}),this._postsContainer);j.show(this._postsContainer);}};f.exports=l;},null);
__d('EgoAdsDownsellLogger',['BanzaiLogger'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={egoAdslog:function(j,k,l){h.log('EgoAdsDownsellDialogLoggerConfig',{event_type:j,dialog_type:k,qe_name:l});},EgoAdsDownsellDialogEventType:{DIALOG_DISPLAYED:'dialog_displayed',DIALOG_XOUT:'dialog_xout',CCTA_CLICKED:'ccta_clicked',WEBSITE_CLICKED:'website_clicked',LOCAL_AWARENESS_CLICKED:'local_awareness_clicked',PAGE_LIKE_CLICKED:'page_like_clicked',BOOST_POST_CLICKED:'boost_post_clicked',CF_CLICKED:'cf_clicked',CONTROL_CF:'control_cf',UNKNOWN:'unknown'},EgoAdsDownsellDialogType:{LWI:'lwi',NUX:'nux'}};f.exports=i;},null);
__d('PromotePanelConstants',['fbt'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={BOOSTED_CCTA:{ICON:'/images/pages/promote_panel/promote-cta-desktop-off-1x.png',ICON_ON_FOCUS:'/images/pages/promote_panel/promote-cta-desktop-on-1x.png',MANAGE_LABEL:h._("Manage Your Call-to-Action Promotion"),OBJECTIVE_SUBLABEL:h._("Encourage more people to take an action."),OBJECTIVE_SUBLABEL_EGOADS:h._("Create an ad that includes the call-to-action button from your Page."),PROMOTE_LABEL:h._("Promote Your Call to Action"),WIDGET_REF:'promotePanelBoostedCctaMenuItem'},BOOSTED_PAGELIKE:{ICON:'/images/pages/promote_panel/promote-page-desktop-off-1x.png',ICON_ON_FOCUS:'/images/pages/promote_panel/promote-page-desktop-on-1x.png',MANAGE_LABEL:h._("Manage Your Page Promotion"),OBJECTIVE_SUBLABEL:h._("Connect more people with your Page."),OBJECTIVE_SUBLABEL_EGOADS:h._("Create an ad that encourages people to visit and like your Page."),PROMOTE_LABEL:h._("Promote Your Page"),BOOST_LABEL:h._("Boost Your Page"),WIDGET_REF:'promotePanelBoostedPagelikeMenuItem'},BOOSTED_WEBSITE:{ICON:'/images/pages/promote_panel/promote-website-desktop-off-1x.png',ICON_ON_FOCUS:'/images/pages/promote_panel/promote-website-desktop-on-1x.png',MANAGE_LABEL:h._("Manage Your Website Promotion"),OBJECTIVE_SUBLABEL:h._("Get more people to visit your website."),OBJECTIVE_SUBLABEL_EGOADS:h._("Create an ad to get more visits to your website."),PROMOTE_LABEL:h._("Promote Your Website"),BOOST_LABEL:h._("Boost Your Website"),WIDGET_REF:'promotePanelBoostedWebsiteMenuItem'},BOOSTED_LOCALAWARENESS:{ICON:'/images/pages/promote_panel/local-awareness-desktop-off-1x.png',ICON_ON_FOCUS:'/images/pages/promote_panel/local-awareness-desktop-on-1x.png',MANAGE_LABEL:h._("Manage Your Local Business Promotion"),OBJECTIVE_SUBLABEL:h._("Connect with more people in your local area."),OBJECTIVE_SUBLABEL_EGOADS:h._("Create an ad that reaches people in your local area."),PROMOTE_LABEL:h._("Promote Your Local Business"),WIDGET_REF:'promotePanelBoostedLocalAwarenessMenuItem'},FRIEND_INVITER:{ICON:'/images/pages/promote_panel/invite-friend-desktop-off-1x.png',ICON_ON_FOCUS:'/images/pages/promote_panel/invite-friend-desktop-on-1x.png',LABEL:h._("\u0417\u0430\u043f\u0440\u043e\u0441\u0456\u0442\u044c \u0441\u0432\u043e\u0457\u0445 \u0434\u0440\u0443\u0437\u0456\u0432"),SUBLABEL:h._("Grow Your Audience By Inviting Your Friends")},BOOSTED_POST:{ICON:'/images/pages/promote_panel/boost-post-desktop-1x.png',ICON_ON_FOCUS:'/images/pages/promote_panel/boost-post-desktop-2x.png',OBJECTIVE_SUBLABEL:h._("Choose who you want to see your post in News Feed."),OBJECTIVE_SUBLABEL_EGOADS:h._("Choose who you want to see your post in News Feed."),PROMOTE_LABEL:h._("Boost a Post")},STATUS_LABELS:{ACTIVE:h._("Active"),ERROR:h._("\u041f\u043e\u043c\u0438\u043b\u043a\u0430"),PAUSED:h._("Paused"),REJECTED:h._("Rejected"),UNDER_REVIEW:h._("Under Review")}};f.exports=i;},null);
__d('PromotePanelItem.react',['Image.react','LeftRight.react','Link.react','PromotePanelItemStatus','React','cx','fbt','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=l.PropTypes,q=l.createClass({displayName:'PromotePanelItem',propTypes:{ajaxify:p.string,href:p.string,icon:p.string.isRequired,iconOnFocus:p.string,label:p.string.isRequired,onClick:p.func,rel:p.string,status:p.object,sublabel:p.string},getInitialState:function(){return {hover:false};},_renderSublabel:function(){if(!this.props.status||!this.props.status.label)return (l.createElement('span',null,this.props.sublabel));var r=null;switch(this.props.status.type){case k.ACTIVE:r="_26a3";break;case k.ERROR:case k.REJECTED:r="_26a4";break;case k.PAUSED:case k.IN_REVIEW:r="_26a5";break;}var s=l.createElement('span',{className:o(r,"_26a6")},this.props.status.label);if(!this.props.sublabel)return s;return (l.createElement('span',null,n._("{status}, {short summary}",[n.param('status',s),n.param('short summary',this.props.sublabel)])));},render:function(){var r=this.props.icon;if(this.state.hover&&this.props.iconOnFocus)r=this.props.iconOnFocus;return (l.createElement('li',{className:"_26a7",onMouseOut:(function(){return this.setState({hover:false});}).bind(this),onMouseOver:(function(){return this.setState({hover:true});}).bind(this)},l.createElement(j,{ajaxify:this.props.ajaxify,className:"_26a8",href:this.props.href,onClick:this.props.onClick,rel:this.props.rel},l.createElement(i,{direction:i.DIRECTION.left},l.createElement('div',{className:"_26a9"},l.createElement(h,{className:"_26aa",src:r})),l.createElement('div',{className:"_26ab"},l.createElement('div',{className:"_26ac"},this.props.label),l.createElement('span',{className:"_26ad"},this._renderSublabel()))))));}});f.exports=q;},null);
__d('PromotePanelBoostedActionMenuItemMixin',['AsyncDialog','AsyncRequest','BoostedActionStatus','PromotePanelConstants','PromotePanelItem.react','PromotePanelItemStatus','React','emptyFunction','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=n.PropTypes,r=k.STATUS_LABELS,s={propTypes:{configData:q.object.isRequired,conversion:q.string,formattedSpent:q.string,onClick:q.func,reactDialog:q.bool,redirectToLanding:q.bool,status:q.string,url:q.string,objectiveSublabel:q.string},_getUIStatus:function(){var t=null,u=null;switch(this.props.status){case j.PAUSED:t=r.PAUSED;u=m.PAUSED;break;case j.ACTIVE:t=r.ACTIVE;u=m.ACTIVE;break;case j.CREATING:case j.PENDING:t=r.UNDER_REVIEW;u=m.IN_REVIEW;break;case j.REJECTED:t=r.REJECTED;u=m.REJECTED;break;case j.ERROR:t=r.ERROR;u=m.ERROR;break;}if(t)return {type:u,label:t};return null;},_getPrimaryLabel:function(){switch(this.props.status){case j.ACTIVE:case j.CREATING:case j.ERROR:case j.PAUSED:case j.PENDING:case j.REJECTED:return this._manageLabel;}return this._promoteLabel;},_getSublabel:function(){switch(this.props.status){case j.ACTIVE:case j.PAUSED:if(this.props.conversion&&this.props.formattedSpent)return p._("{conversion metrics, e.g., 15 likes, 89 clicks}, {formatted spent, e.g., $10} spent",[p.param('conversion metrics, e.g., 15 likes, 89 clicks',this.props.conversion),p.param('formatted spent, e.g., $10',this.props.formattedSpent)]);break;case j.REJECTED:case j.ERROR:return p._("View info");case j.NEVER_BOOSTED:case j.INACTIVE:case j.FINISHED:return this._objectiveSublabel;}return null;},_renderDialog:function(t){if(this.props.reactDialog){this.onUpsellButtonClick(t);}else h.send(new i(this.props.url));if(this.props.onClick)this.props.onClick();},render:function(){var t=null,u=this._renderDialog;if(this.props.redirectToLanding){u=o;if(this.props.url){t=this.props.url;}else if(this._onClickInEditMode)u=this._onClickInEditMode;}return (n.createElement(l,{href:t,icon:this._getIcon(),iconOnFocus:this._getIconOnFocus(),label:this._getPrimaryLabel(),onClick:u,status:this._getUIStatus(),sublabel:this._getSublabel()}));}};f.exports=s;},null);
__d('PromotePanelBoostedCctaMenuItem.react',['Arbiter','BoostedComponentDialogMixin','BoostedComponentStore','CustomCTAConstants','PromotePanelBoostedActionMenuItemMixin','PromotePanelConstants','React','SubscriptionsHandler'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=m.BOOSTED_CCTA,q=n.createClass({displayName:'PromotePanelBoostedCctaMenuItem',mixins:[i,l],componentDidUpdate:function(){this.renderDialog();},componentWillMount:function(){this._config=j.getConfig(this.props.configData);this._manageLabel=p.MANAGE_LABEL;this._objectiveSublabel=this.props.objectiveSublabel;this._promoteLabel=p.PROMOTE_LABEL;this._subscriptions=new o();this._subscriptions.addSubscriptions(this._config.getDialogUIStore().subscribe('change',(function(){return this.forceUpdate();}).bind(this)));},componentWillUnmount:function(){this._subscriptions.release();this._subscriptions=null;},_getIcon:function(){return p.ICON;},_getIconOnFocus:function(){return p.ICON_ON_FOCUS;},_getWidgetRef:function(){return p.WIDGET_REF;},_onClickInEditMode:function(){h.inform(k.SHOW_FLYOUT,{});if(this.props.onClick)this.props.onClick();}});f.exports=q;},null);
__d('PromotePanelBoostedLocalAwarenessMenuItem.react',['BoostedComponentDialogMixin','BoostedComponentStore','PromotePanelBoostedActionMenuItemMixin','PromotePanelConstants','React','SubscriptionsHandler'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=k.BOOSTED_LOCALAWARENESS,o=l.createClass({displayName:'PromotePanelBoostedLocalAwarenessMenuItem',mixins:[h,j],componentDidUpdate:function(){this.renderDialog();},componentWillMount:function(){this._config=i.getConfig(this.props.configData);this._manageLabel=n.MANAGE_LABEL;this._objectiveSublabel=this.props.objectiveSublabel;this._promoteLabel=n.PROMOTE_LABEL;this._subscriptions=new m();this._subscriptions.addSubscriptions(this._config.getDialogUIStore().subscribe('change',(function(){return this.forceUpdate();}).bind(this)));},componentWillUnmount:function(){this._subscriptions.release();this._subscriptions=null;},_getIcon:function(){return n.ICON;},_getIconOnFocus:function(){return n.ICON_ON_FOCUS;},_getWidgetRef:function(){return n.WIDGET_REF;}});f.exports=o;},null);
__d('PromotePanelBoostedPagelikeMenuItem.react',['BoostedComponentDialogMixin','BoostedComponentStore','PromotePanelBoostedActionMenuItemMixin','PromotePanelConstants','React','SubscriptionsHandler'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=k.BOOSTED_PAGELIKE,o=l.createClass({displayName:'PromotePanelBoostedPagelikeMenuItem',mixins:[h,j],componentDidUpdate:function(){this.renderDialog();},componentWillMount:function(){this._config=i.getConfig(this.props.configData);this._manageLabel=n.MANAGE_LABEL;this._objectiveSublabel=this.props.objectiveSublabel;if(this.props.isBoostedLabel){this._promoteLabel=n.BOOST_LABEL;}else this._promoteLabel=n.PROMOTE_LABEL;this._subscriptions=new m();this._subscriptions.addSubscriptions(this._config.getDialogUIStore().subscribe('change',(function(){if(this._config.getContextStore().getPlacement()===this.props.placement)this.forceUpdate();}).bind(this)));},componentWillUnmount:function(){this._subscriptions.release();this._subscriptions=null;},_getIcon:function(){return n.ICON;},_getIconOnFocus:function(){return n.ICON_ON_FOCUS;},_getWidgetRef:function(){return n.WIDGET_REF;}});f.exports=o;},null);
__d('PromotePanelBoostedWebsiteMenuItem.react',['BoostedComponentDialogMixin','BoostedComponentStore','PromotePanelBoostedActionMenuItemMixin','PromotePanelConstants','React','SubscriptionsHandler'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=k.BOOSTED_WEBSITE,o=l.createClass({displayName:'PromotePanelBoostedWebsiteMenuItem',mixins:[h,j],componentDidUpdate:function(){this.renderDialog();},componentWillMount:function(){this._config=i.getConfig(this.props.configData);this._manageLabel=n.MANAGE_LABEL;this._objectiveSublabel=this.props.objectiveSublabel;if(this.props.isBoostedLabel){this._promoteLabel=n.BOOST_LABEL;}else this._promoteLabel=n.PROMOTE_LABEL;this._subscriptions=new m();this._subscriptions.addSubscriptions(this._config.getDialogUIStore().subscribe('change',(function(){return this.forceUpdate();}).bind(this)));},componentWillUnmount:function(){this._subscriptions.release();this._subscriptions=null;},_getIcon:function(){return n.ICON;},_getIconOnFocus:function(){return n.ICON_ON_FOCUS;},_getWidgetRef:function(){return n.WIDGET_REF;}});f.exports=o;},null);
__d('PromotePanelFriendInviteMenuItem.react',['AsyncDialog','AsyncRequest','PromotePanelConstants','PromotePanelItem.react','React'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=l.PropTypes,n=l.createClass({displayName:'PromotePanelFriendInviteMenuItem',propTypes:{url:m.string.isRequired,onClick:m.func.isRequired},_renderDialog:function(o){h.send(new i(this.props.url));this.props.onClick();},render:function(){return (l.createElement(k,{icon:j.FRIEND_INVITER.ICON,iconOnFocus:j.FRIEND_INVITER.ICON_ON_FOCUS,label:j.FRIEND_INVITER.LABEL,onClick:this._renderDialog,sublabel:j.FRIEND_INVITER.SUBLABEL}));}});f.exports=n;},null);
__d("XAdsCreatorController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/create\/",{business_id:{type:"Int"},act:{type:"Int"},campaign:{type:"Int"},ad_set:{type:"Int"},campaign_id:{type:"Int"},campaign_placement:{type:"String"},oid:{type:"Int"},fbid:{type:"Int"},storyid:{type:"Int"},objective:{type:"String"},edit_ad_link:{type:"Bool",defaultValue:false},conversion_pixel_id:{type:"Int"},saved_audience:{type:"Int"},targeting_spec:{type:"String"},ref:{type:"String"},desturl:{type:"String"},coupon_code:{type:"String"},coupon_error:{type:"Bool",defaultValue:false}});},null,{});
__d("XAdsManagerHomePageController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/manage\/home\/",{business_id:{type:"Int"},account_id:{type:"Int"},level:{type:"Enum",defaultValue:"campaign",enumType:1},time_start:{type:"String"},time_end:{type:"String"},offset:{type:"Int",defaultValue:0},status:{type:"Enum",enumType:0},sort_key:{type:"Int"},sort_dir:{type:"String"},show_adgroup_id:{type:"Int"},show_gray_disabled_info:{type:"Exists",defaultValue:false}});},null,{});
__d("XCampaignLandingController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/campaign\/landing\/",{campaign_id:{type:"Int"},coupon_code:{type:"String"},partner_id:{type:"String"},placement:{type:"String"},creative:{type:"String"},keyword:{type:"String"},extra_1:{type:"String"},extra_2:{type:"String"},url:{type:"String"},fbid:{type:"Int"},desturl:{type:"String"},fwd:{type:"Int"},id:{type:"Int"},creativetype:{type:"String"},storyid:{type:"Int"},ref:{type:"String"},oid:{type:"Int"},ad_account_id:{type:"Int"},act:{type:"Int"},objective:{type:"String"},targeting_spec:{type:"String"},bypass:{type:"Int"},associated_fbid:{type:"Int"},gclid:{type:"String"}});},null,{});
__d('PromotePanel.react',['BoostedComponentAppID','DOMQuery','EgoAdsDownsellLogger','Link.react','PromotePanelBoostedCctaMenuItem.react','PromotePanelBoostedLocalAwarenessMenuItem.react','PromotePanelBoostedPagelikeMenuItem.react','PromotePanelBoostedWebsiteMenuItem.react','PromotePanelFriendInviteMenuItem.react','PromotePanelConstants','React','ReactDOM','XAdsCreatorController','XAdsManagerHomePageController','XCampaignLandingController','XUICard.react','XUICardSection.react','XUICloseButton.react','XUISpinner.react','XUIText.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca){if(c.__markCompiled)c.__markCompiled();var da=r.PropTypes,ea=r.createClass({displayName:'PromotePanel',propTypes:{boostedCctaData:da.object,boostedLocalAwarenessData:da.object,boostedPagelikeData:da.object,boostedWebsiteData:da.object,friendsInviterData:da.object,isLoading:da.bool,onItemClick:da.func},componentDidUpdate:function(){var fa=s.findDOMNode(this);if(!fa)return;var ga=i.scry(fa,'a');if(ga.length)ga[0].focus();},_getSublabel:function(fa){var ga=null;switch(fa){case h.BOOSTED_CCTA:ga='BOOSTED_CCTA';break;case h.BOOSTED_PAGELIKE:ga='BOOSTED_PAGELIKE';break;case h.BOOSTED_LOCAL_AWARENESS:ga='BOOSTED_LOCALAWARENESS';break;case h.BOOSTED_WEBSITE:ga='BOOSTED_WEBSITE';break;default:return null;}return q[ga].OBJECTIVE_SUBLABEL;},_renderBoostedCctaMenuItem:function(){if(!this.props.boostedCctaData)return null;return (r.createElement(l,babelHelpers._extends({},this.props.boostedCctaData,{onClick:this.props.onItemClick,objectiveSublabel:this._getSublabel(h.BOOSTED_CCTA)})));},_renderBoostedPagelikeMenuItem:function(){if(!this.props.boostedPagelikeData)return null;return (r.createElement(n,babelHelpers._extends({},this.props.boostedPagelikeData,{onClick:this.props.onItemClick,objectiveSublabel:this._getSublabel(h.BOOSTED_PAGELIKE)})));},_renderBoostedLocalAwarenessMenuItem:function(){if(!this.props.boostedLocalAwarenessData)return null;return (r.createElement(m,babelHelpers._extends({},this.props.boostedLocalAwarenessData,{onClick:this.props.onItemClick,objectiveSublabel:this._getSublabel(h.BOOSTED_LOCAL_AWARENESS)})));},_renderBoostedWebsiteMenuItem:function(){if(!this.props.boostedWebsiteData)return null;return (r.createElement(o,babelHelpers._extends({},this.props.boostedWebsiteData,{onClick:this.props.onItemClick,objectiveSublabel:this._getSublabel(h.BOOSTED_WEBSITE)})));},_renderFriendsInviterMenuItem:function(){if(!this.props.friendsInviterData)return null;return (r.createElement(p,babelHelpers._extends({},this.props.friendsInviterData,{onClick:this.props.onItemClick})));},_renderBody:function(){var fa=null;if(this.props.isLoading){fa=r.createElement('div',{className:"_5x0m"},r.createElement(z,{size:'large'}));}else fa=r.createElement('ul',null,this._renderBoostedCctaMenuItem(),this._renderBoostedWebsiteMenuItem(),this._renderBoostedLocalAwarenessMenuItem(),this._renderBoostedPagelikeMenuItem(),this._renderFriendsInviterMenuItem());return (r.createElement(x,{className:"_23d5"},fa));},_renderHeader:function(){return (r.createElement(x,{className:"_23d4"},ca._("What do you want to do?")));},_renderFooter:function(){return (r.createElement(x,{className:"_23d6"},r.createElement(k,{href:u.getURIBuilder().getURI()},ca._("Go to Ads Manager"))));},render:function(){return (r.createElement(w,{className:"_1yzg"},this._renderHeader(),this._renderBody(),this._renderFooter()));}});f.exports=ea;},null);
__d("XPagesPromotePanelAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/promote_panel\/",{page_id:{type:"Int",required:true}});},null,{});
__d('PagesManagerPromoteButton.react',['AsyncRequest','BoostedComponentStrings','ContextualLayerHideOnScroll','InlineBlock.react','LayerFadeOnHide','LayerFadeOnShow','LayerHideOnTransition','LayerHideOnBlur','LayerHideOnEscape','LayerRemoveOnHide','PromotePanel.react','React','ReactLayeredComponentMixin','XPagesPromotePanelAsyncController','XUIContextualDialog.react','XUIPopoverButton.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){if(c.__markCompiled)c.__markCompiled();var y=s.PropTypes,z=5*1000,aa=s.createClass({displayName:'PagesManagerPromoteButton',mixins:[t],propTypes:{pageID:y.string.isRequired},getInitialState:function(){return {isLoaded:false,isLoading:false,showLayers:false};},render:function(){return (s.createElement(k,{className:"_3dx4"},s.createElement(w,{label:i.PROMOTE,ref:'button',size:'large',style:{display:'block'},theme:'dark',use:'confirm',onClick:(function(){this.setState({showLayers:!this.state.showLayers});}).bind(this)})));},renderLayers:function(){var ba=null;if(!this.state.isLoaded||this.state.isLoading){ba=s.createElement(r,{isLoading:true});}else ba=s.createElement(r,{boostedCctaData:this.state.boostedCctaData,boostedLocalAwarenessData:this.state.boostedLocalAwarenessData,boostedPagelikeData:this.state.boostedPagelikeData,boostedWebsiteData:this.state.boostedWebsiteData,friendsInviterData:this.state.friendsInviterData,onItemClick:(function(){return this.setState({showLayers:false});}).bind(this)});return {promotePanel:s.createElement(v,{alignment:'right',contextRef:(function(){return this.refs.button;}).bind(this),behaviors:{ContextualLayerHideOnScroll:j,LayerFadeOnHide:l,LayerFadeOnShow:m,LayerHideOnBlur:o,LayerHideOnEscape:p,LayerHideOnTransition:n,LayerRemoveOnHide:q},onToggle:this._onToggle,position:'below',shown:this.state.showLayers},ba)};},_loadData:function(){var ba=u.getURIBuilder().setInt('page_id',this.props.pageID).getURI();new h(ba).setHandler((function(ca){this.setState({boostedCctaData:ca.payload.boostedCctaData,boostedLocalAwarenessData:ca.payload.boostedLocalAwarenessData,boostedPagelikeData:ca.payload.boostedPagelikeData,boostedWebsiteData:ca.payload.boostedWebsiteData,friendsInviterData:ca.payload.friendsInviterData,isLoaded:true,isLoading:false});this._cacheExpires=Date.now()+z;}).bind(this)).setErrorHandler((function(){this.setState({isLoading:false});}).bind(this)).send();this.setState({isLoading:true});},_onToggle:function(ba){this.setState({showLayers:ba});var ca=Date.now();if(ba&&ca>(this._cacheExpires||0)||!this.state.isLoaded)this._loadData();}});f.exports=aa;},null);